(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1390:function(e,t,r){var content=r(1775);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("ce17f98e",content,!0,{sourceMap:!1})},1774:function(e,t,r){"use strict";var o=r(1390);r.n(o).a},1775:function(e,t,r){(e.exports=r(16)(!1)).push([e.i,"$color:#409eff;.el-form-item .el-input__inner[data-v-8130d03c]{max-width:300px;width:300px}#userAdd[data-v-8130d03c],#userEdit[data-v-8130d03c]{margin-top:30px;border:1px solid #eee;padding:20px;.el-upload__tip{margin-left:10px}.sub{margin-top:20px}//用户头像上传 .avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:78px;height:78px;line-height:78px;text-align:center;border:1px solid #eee}.avatar{width:78px;height:78px;display:block}}.content-wrapper[data-v-8130d03c]{background-color:#fff;box-sizing:border-box}.avatar-uploader .el-upload[data-v-8130d03c]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-8130d03c]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-8130d03c]{font-size:28px;color:#8c939d;width:78px;height:78px;line-height:78px;text-align:center;border:1px solid #eee}.avatar[data-v-8130d03c]{width:78px;height:78px;display:block}",""])},1838:function(e,t,r){"use strict";r.r(t);var o=r(6),n={data:function(){return{orgCode:1,form:{orgName:"",orgType:""},rules:{orgName:[{validator:function(e,t,r){""===t?r(new Error("组织机构名称不应为空")):/^[\u4E00-\u9FA5a-zA-Z_0-9]+$/.test(t)?r():r(new Error("只能输入中文，且不能有空格"))},trigger:"blur"}],orgType:[{validator:function(e,t,r){t?r():r(new Error("请选择组织机构类型"))},trigger:"blur"}]},imageUrl:""}},methods:{getDetail:function(e){var t=this;o.a.post(o.a.ajaxUrl+"upmsOrg/findOrgById",e).then(function(e){"success"==e.data.code&&(t.form=e.data.data,console.log(t.form))}).catch(function(e){})},onSubmit:function(e){var t=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var n=t.$route.params.orgObj.parentCode,l={orgName:t.form.orgName,orgType:t.form.orgType,tenantId:t.$route.params.orgObj.tenantId,parentCode:t.$route.params.orgObj.orgCode,orgCode:t.$route.params.orgObj.orgCode};o.a.post(o.a.ajaxUrl+"upmsOrg/updateOrg",l).then(function(e){"success"==e.data.code?(t.$message({message:"修改成功",type:"success"}),r.$router.push({name:"authManagement-organization-list",params:{id:n,tenantId:l.tenantId}})):t.$message({message:"修改失败",type:"error"})})})}},mounted:function(){if(console.log(this.$route.params),this.$route.params.orgObj){var e={tenantId:this.$route.params.orgObj.tenantId,orgId:this.$route.params.orgObj.orgId};this.getDetail(e)}else this.$router.push({path:"/authManagement/organization/list"})}},l=(r(1774),r(31)),component=Object(l.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"userAdd"}},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,size:"mini","status-icon":"","label-width":"100px"}},[r("nuxt-link",{attrs:{tag:"a",to:"/authManagement/organization/list"}},[r("i",{staticClass:"el-icon-back"})]),e._v(" "),r("el-form-item",{attrs:{label:"组织机构名称",prop:"orgName"}},[r("el-input",{staticStyle:{"max-width":"300px"},attrs:{clearable:"",type:"text","auto-complete":"off"},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName","string"==typeof t?t.trim():t)},expression:"form.orgName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"orgType",label:"组织机构类型"}},[r("el-select",{attrs:{placeholder:"请选择组织机构类型"},model:{value:e.form.orgType,callback:function(t){e.$set(e.form,"orgType","string"==typeof t?t.trim():t)},expression:"form.orgType"}},[r("el-option",{attrs:{label:"集团型",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"非集团型",value:"1"}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"sub"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定")]),e._v(" "),r("el-button",[e._v("取消")])],1)],1)],1)},[],!1,null,"8130d03c",null);t.default=component.exports}}]);