(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1155:function(e,t,o){var content=o(1165);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("867a63f0",content,!0,{sourceMap:!1})},1156:function(e,t,o){var content=o(1167);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("313fd11f",content,!0,{sourceMap:!1})},1163:function(e,t,o){"use strict";var r={name:"filter-tree",mounted:function(){},props:{data:"",defaultProps:{default:{children:"children",label:"label",isLeaf:"leaf"}},lazy:{default:!1,type:Boolean},nodeKeyName:{default:"id",type:String},refData:{default:"filter-tree",type:String},check:{default:!1,type:Boolean},setCheckedKeys:{default:!1,type:Boolean},checkedArray:{default:function(){return[]},type:Array},inputWidth:{default:20},inputOffset:{default:2},treeWidth:{default:20},treeOffset:{default:2},treeHeight:{default:""}},data:function(){return{filterText:"",flag:!0,hasLoad:!1}},methods:{filterNode:function(e,data,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(data,e,t){this.$emit("handleTreeNodeClick",{data:data,obj:e,node:t})},hanleContextmenu:function(e,t,o,r){},onCheckChange:function(e,data,t){var o=e[this.nodeKeyName].parentId,r=this.checkedArray.indexOf(o);r>0&&this.checkedArray.splice(r,1)},removeTree:function(e,data){},setCheckedkeys:function(e){if(e.length>0)for(var t=0;t<e.length;t++)e[t]}},computed:{treeStyleObj:function(){return this.treeHeight?{height:"".concat(this.treeHeight,"px")}:{height:"unset"}}},watch:{filterText:function(e){this.$refs[this.refData].filter(e)},checkedArray:function(e,t){for(var i=0;i<e.length;i++){var o=this.$refs["filter-tree"].getNode(e[i]);if(o){var r=o.data.parentId,l=this.checkedArray.indexOf(r);l>-1&&this.checkedArray.splice(l,1)}}this.$refs["filter-tree"].getCheckedKeys(e,!1)}}},l=(o(1164),o(1166),o(31)),component=Object(l.a)(r,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{staticClass:"filter-tree"},[o("el-row",[o("el-col",{attrs:{span:e.inputWidth,offset:e.inputOffset}},[o("el-input",{staticStyle:{"text-align":"center"},attrs:{clearable:"",placeholder:"请输入过滤内容"},model:{value:e.filterText,callback:function(t){e.filterText="string"==typeof t?t.trim():t},expression:"filterText"}})],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:e.treeWidth,offset:e.treeOffset}},[o("el-scrollbar",{style:e.treeStyleObj},[o("el-tree",{ref:e.refData,attrs:{"empty-text":"",props:e.defaultProps,data:e.data,"default-checked-keys":e.checkedArray,"filter-node-method":e.filterNode,"node-key":e.nodeKeyName,"show-checkbox":e.check,accordion:"","highlight-current":e.flag},on:{"node-click":e.handleNodeClick,"node-contextmenu":e.hanleContextmenu,remove:e.removeTree}})],1)],1)],1)],1)},[],!1,null,"711af4d3",null);t.a=component.exports},1164:function(e,t,o){"use strict";var r=o(1155);o.n(r).a},1165:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,".filter-tree span.title[data-v-711af4d3]{text-indent:2em;font-size:16px;color:#2892e2}",""])},1166:function(e,t,o){"use strict";var r=o(1156);o.n(r).a},1167:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"",""])},1265:function(e,t,o){var content=o(1546);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("676fb3d1",content,!0,{sourceMap:!1})},1266:function(e,t,o){var content=o(1548);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("d21ca200",content,!0,{sourceMap:!1})},1267:function(e,t,o){var content=o(1550);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("7777b5f1",content,!0,{sourceMap:!1})},1268:function(e,t,o){var content=o(1552);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("ccc32498",content,!0,{sourceMap:!1})},1269:function(e,t,o){var content=o(1554);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("9be479d4",content,!0,{sourceMap:!1})},1270:function(e,t,o){var content=o(1556);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("7168d20e",content,!0,{sourceMap:!1})},1545:function(e,t,o){"use strict";var r=o(1265);o.n(r).a},1546:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"",""])},1547:function(e,t,o){"use strict";var r=o(1266);o.n(r).a},1548:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"",""])},1549:function(e,t,o){"use strict";var r=o(1267);o.n(r).a},1550:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"",""])},1551:function(e,t,o){"use strict";var r=o(1268);o.n(r).a},1552:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"",""])},1553:function(e,t,o){"use strict";var r=o(1269);o.n(r).a},1554:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"",""])},1555:function(e,t,o){"use strict";var r=o(1270);o.n(r).a},1556:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,".notab[data-v-4e073386]{height:calc(100vh - 216px);width:100%;background:#fff;border:1px solid #e2e4e8}.notab>div[data-v-4e073386]:first-child{width:100%;height:calc(100vh - 266px)}.staticNotab[data-v-4e073386]{height:calc(100vh - 136px);width:100%;background:#fff;border:1px solid #e2e4e8}.reportNoTab>div[data-v-4e073386]:first-child{width:100%;height:calc(100vh - 296px);overflow-y:auto}.userNotab[data-v-4e073386]{height:calc(100vh - 180px);width:100%;background:#fff}.userNotab>div[data-v-4e073386]:first-child{width:100%;height:calc(100vh - 188px);overflow-y:auto}.myTab[data-v-4e073386]{height:calc(100vh - 258px);background:#fff;width:100%;border:1px solid #e2e4e8}.myTab>div[data-v-4e073386]:first-child{width:100%;height:calc(100vh - 308px)}@media screen and (max-width:1680px){.notab[data-v-4e073386]{height:calc(100vh - 208px);background:#fff}.notab>div[data-v-4e073386]:first-child{height:calc(100vh - 258px)}.myTab[data-v-4e073386]{height:calc(100vh - 250px);background:#fff}.myTab>div[data-v-4e073386]:first-child{height:calc(100vh - 300px)}.staticNotab[data-v-4e073386]{height:calc(100vh - 132px)}}@media screen and (max-width:1440px){.notab[data-v-4e073386]{height:calc(100vh - 173px);background:#fff}.notab>div[data-v-4e073386]:first-child{height:calc(100vh - 223px)}.myTab[data-v-4e073386]{height:calc(100vh - 215px);background:#fff}.myTab>div[data-v-4e073386]:first-child{height:calc(100vh - 265px)}.staticNotab[data-v-4e073386]{height:calc(100vh - 107px)}}@media screen and (max-width:1366px){.reportNoTab>div[data-v-4e073386]:first-child{width:100%;height:calc(100vh - 286px);overflow-y:auto}}.role-manage [v-cloak][data-v-4e073386]{display:none}.role-manage .el-container[data-v-4e073386]{height:calc(100vh - 75px);overflow:hidden}.role-manage .el-container .el-aside[data-v-4e073386]{background-color:#fff;color:#333;border:1px solid #bfcbd9;margin:10px 10px 0 0;height:calc(100% - 13px)}.role-manage .el-container .el-aside .el-collapse .el-collapse-item span.title[data-v-4e073386]{text-indent:2em;font-size:16px;color:#2892e2}.role-manage .el-container .el-main[data-v-4e073386]{position:relative;background-color:#fff;color:#333;border:1px solid #bfcbd9;margin:10px 0 0;padding:0;height:calc(100% - 13px)}.role-manage .el-container .el-main .header[data-v-4e073386]{padding:5px;border-bottom:1px solid #bfcbd9}.role-manage .el-container .el-main .header .title[data-v-4e073386]{margin:0;line-height:30px;padding:0 10px;font-size:16px;font-weight:700;color:#2892e2;text-align:left}.role-manage .el-container .el-main .header .right[data-v-4e073386]{text-align:right}.role-manage .el-container .el-main .header .left[data-v-4e073386]{text-align:left}.role-manage .el-container .el-main .body[data-v-4e073386]{border:none}.role-manage .el-container .el-main .body .roleManageNoTab .el-table .l-icons[data-v-4e073386]{font-size:2rem;cursor:pointer;color:#2892e2}.role-manage .el-container .el-main .body .roleManageNoTab .el-pagination[data-v-4e073386]{height:100%}.role-manage .el-container .el-main .is-ableClick[data-v-4e073386]{cursor:pointer}.role-manage .el-container .el-main .table-row[data-v-4e073386]{height:46px}.role-manage .el-container .left[data-v-4e073386]{text-align:left}",""])},1796:function(e,t,o){"use strict";o.r(t);o(222);var r=o(40),l=(o(133),o(33),o(224),o(324),o(6)),n=(o(482),o(1189)),c=o(1188),d=o(1187),f=o(1186),m=o(1147),h=o(1163),v={name:"add-role",props:{show:{default:!0,type:Boolean},refName:{default:"addRoleDialog"},rules:Object},data:function(){return{form:{roleName:"",roleId:""}}},methods:{submit:function(){this.$emit("userPageListener","AddRole",!1)},close:function(){this.$emit("userPageListener","AddRole",!1)}}},y=(o(1545),o(31)),C=Object(y.a)(v,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{ref:e.refName,staticClass:"add-role",attrs:{title:"添加角色",visible:e.show,width:"20%"},on:{close:e.close}},[o("el-form",{ref:"addform",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[o("el-form-item",{attrs:{label:"角色组名称",prop:"roleGroupName",required:""}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName","string"==typeof t?t.trim():t)},expression:"form.roleName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"roleId",required:""}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId","string"==typeof t?t.trim():t)},expression:"form.roleId"}})],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},[],!1,null,"5a88864c",null).exports,N={name:"add-role-group",props:{show:{default:!0,type:Boolean},refName:{default:"addRoleDialog"},rules:Object},data:function(){return{form:{roleGroupName:"",roleGroupId:""}}},methods:{submit:function(){this.$emit("userPageListener","AddRole",!1)},close:function(){this.$emit("userPageListener","AddRole",!1)}}},I=(o(1547),Object(y.a)(N,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{ref:e.refName,staticClass:"add-role-group",attrs:{title:"添加角色组",visible:e.show,width:"20%"},on:{close:e.close}},[o("el-form",{ref:"addform",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[o("el-form-item",{attrs:{label:"角色组名称",prop:"roleGroupName",required:""}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.roleGroupName,callback:function(t){e.$set(e.form,"roleGroupName","string"==typeof t?t.trim():t)},expression:"form.roleGroupName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"roleGroupId",required:""}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.roleGroupId,callback:function(t){e.$set(e.form,"roleGroupId","string"==typeof t?t.trim():t)},expression:"form.roleGroupId"}})],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},[],!1,null,"deeb3bc4",null).exports,{name:"auth-config",props:{show:{default:!0,type:Boolean},refName:{default:"addRoleDialog"}},data:function(){return{}},methods:{submit:function(){this.$emit("userPageListener","AddRole",!1)},close:function(){this.$emit("userPageListener","AddRole",!1)}}}),x=(o(1549),Object(y.a)(I,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{ref:e.refName,staticClass:"auth-config",attrs:{title:"添加角色组",visible:e.show,width:"30%"},on:{close:e.close}},[o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)])},[],!1,null,"a082cc06",null).exports,{name:"edit-role",props:{show:{default:!0,type:Boolean},refName:{default:"editRoleDialog"},rules:Object},data:function(){return{form:{roleName:"",roleId:""}}},methods:{submit:function(){this.$emit("userPageListener","AddRole",!1)},close:function(){this.$emit("userPageListener","AddRole",!1)}}}),w=(o(1551),Object(y.a)(x,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{ref:e.refName,staticClass:"edit-role",attrs:{title:"编辑角色",visible:e.show,width:"20%"},on:{close:e.close}},[o("el-form",{ref:"editForm",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[o("el-form-item",{attrs:{label:"角色名称",prop:"roleName",required:""}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName","string"==typeof t?t.trim():t)},expression:"form.roleName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"roleId",required:""}},[o("el-input",{attrs:{clearable:""},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId","string"==typeof t?t.trim():t)},expression:"form.roleId"}})],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},[],!1,null,"2eeb7812",null).exports,{name:"role-menu-config",props:{show:{default:!0,type:Boolean},refName:{default:"menuConfigDialog"}},data:function(){return{}},methods:{submit:function(){this.$emit("userPageListener","menuConfig",!1)},close:function(){this.$emit("userPageListener","menuConfig",!1)}}}),k=(o(1553),Object(y.a)(w,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{ref:e.refName,staticClass:"role-menu-config",attrs:{title:"添加角色组",visible:e.show,width:"30%"},on:{close:e.close}},[o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)])},[],!1,null,"2c6b9770",null).exports,o(483)),_=(o(1153),o(1154),{components:{ModifyUser:n.a,ModifyRoleUser:c.a,AddUser:d.a,RefuseUser:f.a,Pagination:m.a,FilterTree:h.a,AddRole:C},data:function(){return{ACCEPT_URL:"/user/acceptOrRefuse",tenantId:"",orgCode:"",cloShow:!0,userStatus:"0",setFlag:!0,searchUserName:"",flag:!0,firstLevel:!1,menuVisible:!1,markFloat:1,iconClass:"el-icon-delete",iconCont:"已激活",orgObj:"",keys:[],node:"",roleInfo:"",currentRole:"",isRoleInfoShow:!1,roleGroupPageInfo:{pageNo:1,pageSize:20,total:1},roleGroupChildpageInfo:{pageNo:1,pageSize:20,total:1},rolePageInfo:{pageNo:1,pageSize:20,total:1},systemCode:"fire",systems:[],systemsLoadedMap:new Map,filterTransformerText:"",filterFireText:"",tree:{transFormer:[],fire:[],auth:[],authChecked:[],menu:[],menuChecked:[],props:{label:"groupName",children:"children",isLeaf:"leaf"},initAuthChecked:function(){this.authChecked=[]},initMenuChecked:function(){this.menuChecked=[]}},operateAuth:{edit:!0,logoff:!0,locked:!1,actived:!0,role:!0,reset:!0,restore:!1,accept:!1,refuse:!1},roleGroupObj:{groupId:"",groupName:"",orderNum:"",parentId:"",systemCode:"",tenantId:""},roleGroupChildObj:"",roleObj:{roleName:"",roleId:"",orderNum:""},tableVisible:{roleGroupTableVisible:!0,roleGroupChildTableVisible:!1,roleTableVisible:!1},dialogVisible:{addRoleGroupVisible:!1,editRoleGroupVisible:!1,addRoleVisible:!1,roleMenuVisible:!1,roleAuthVisible:!1,editRoleVisible:!1},userObj:{loginNameValidate:"",username:"",newPassword:"",validatePassword:"",name:"",sex:"",phone:"",mobile:"",email:""},editMenu:"",addRoleGroupFormRules:{groupName:{required:!0,message:"该项不可为空",trigger:"blur"},orderNum:{required:!0,message:"该项不可为空",trigger:"blur"}},editRoleGroupFormRules:{groupName:{required:!0,message:"该项不可为空",trigger:"blur"},orderNum:{required:!0,message:"该项不可为空",trigger:"blur"}},addRoleFormRules:{roleName:{required:!0,message:"该项不可为空",trigger:"blur"},orderNum:{required:!0,message:"该项不可为空",trigger:"blur"}},editRoleFormRules:{roleName:{required:!0,message:"该项不可为空",trigger:"blur"},orderNum:{required:!0,message:"该项不可为空",trigger:"blur"}},props:{label:"orgName",children:"children",isLeaf:"leaf"},defaultProps:{children:"children",label:"label"},roleGroupTableData:[],roleTableChildData:[],roleTableData:[],tempTreeData:[]}},mounted:function(){this.getRoleGroupList(),this.InitTree()},methods:{InitTree:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,o,i,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post(l.a.forent_url.url+"/system/all.mvc");case 2:if(t=e.sent,o=t.data,"success"!==t.code){e.next=21;break}i=0;case 6:if(!(i<o.length)){e.next=20;break}if(0!=i){e.next=15;break}return e.next=10,l.a.post(l.a.forent_url.url+"/roleGroup/roleGroupListBySysCode.mvc",{systemCode:o[i].systemCode});case 10:r=e.sent,data=r.data,o[i].tree=k.a.formatJSONTreeData(data,"children","groupId","parentId"),e.next=16;break;case 15:o[i].tree=[];case 16:this.systemsLoadedMap.set(o[i].systemCode,i);case 17:i++,e.next=6;break;case 20:this.systems=o;case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),userPageListener:function(e,data){"ModifyUser"&&(this.formObj.editFormVisible=!1),"ModifyRoleUser"&&(this.formObj.roleFormVisible=!1),"AddUser"&&(this.formObj.addFormVisible=!1),"RefuseUser"&&(this.formObj.refuseFormVisible=!1),"AddRole"&&(this.dialogVisible.addRoleVisible=!1)},handleTableClick:function(e,t,o,r){var n=this;if("roleGroup"===t&&("addRoleGroup"===e&&(this.dialogVisible.addRoleGroupVisible=!0),"editRoleGroup"===e&&(this.dialogVisible.editRoleGroupVisible=!0,this.roleGroupObj=k.a.deepCopy(r.row),this.roleGroupObj.index=r.$index),"deleteRoleGroup"===e)){var c=r.$index,d=r.row.groupId;this.$confirm("确定删除此角色组么?","提示").then(function(e){var t={groupId:d};l.a.post(l.a.forent_url.url+"/roleGroup/deleteJudgeByRoleGroupId.mvc",t,3e3).then(function(e){"true"===e.data&&l.a.post(l.a.forent_url.url+"/roleGroup/delRoleGroupByGroupId.mvc",t,3e3).then(function(e){"success"===e.code&&(n.$message({message:"删除成功",type:"success"}),n.roleGroupTableData.splice(c,1))}).catch(function(e){n.$message({message:"操作超时",type:"warning"})})}).catch(function(e){n.$message({message:"操作超时",type:"warning"})})})}"role"==t&&("addRole"===e&&(this.dialogVisible.addRoleVisible=!0,this.roleObj.groupId=this.roleInfo.groupId),"menuConfig"===e&&(this.dialogVisible.roleMenuVisible=!0,this.tree.menu=[],this.tree.initMenuChecked(),l.a.post(l.a.forent_url.url+"/menu/menuListBySysCode.mvc",{systemCode:this.systemCode}).then(function(e){"success"===e.code&&(n.tree.menu=k.a.formatJSONTreeData(e.data,"children","menuId","parentId"),n.$nextTick(function(){var e=this;l.a.post(l.a.forent_url.url+"/role/menuIdsRefRole.mvc",{roleId:r.row.roleId}).then(function(t){"success"===t.code&&(e.tree.menuChecked=t.data)})}))})),"authConfig"===e&&(this.dialogVisible.roleAuthVisible=!0,this.tree.initAuthChecked(),this.roleObj=r.row,l.a.post(l.a.forent_url.url+"/priv/privsInSystem.mvc",{systemCode:this.systemCode}).then(function(e){"success"===e.code&&(n.tree.auth=k.a.formatJSONTreeData(e.data,"children","privId","parentId"),l.a.post(l.a.forent_url.url+"/role/privIdsRefRole.mvc",{roleId:r.row.roleId}).then(function(e){n.tree.authChecked=e.data}))})),"roleEdit"===e&&(this.roleTableData[r.$index],this.dialogVisible.editRoleVisible=!0,this.roleObj=k.a.deepCopy(r.row),this.roleObj.index=r.$index),"roleDelete"===e&&this.$confirm("确定删除角色","提示").then(function(e){l.a.post(l.a.forent_url.url+"/role/judgeMenuRel.mvc",{roleId:r.row.roleId}).then(function(e){"success"===e.code&&l.a.post(l.a.forent_url.url+"/role/judgePrivRef.mvc",{roleId:r.row.roleId}).then(function(e){"success"===e.code&&l.a.post(l.a.forent_url.url+"/role/judgeUserRef.mvc",{roleId:r.row.roleId}).then(function(e){"success"===e.code&&l.a.post(l.a.forent_url.url+"/role/delete.mvc",{roleId:r.row.roleId}).then(function(e){"success"===e.code&&(n.$message({message:"删除成功",type:"success"}),n.roleTableData.splice(r.$index,1))}).catch(function(e){n.$message({message:"删除失败",type:"warning"})})}).catch(function(e){n.$message({message:e.message,type:"warning"})})}).catch(function(e){n.$message({message:e.message,type:"warning"})})}).catch(function(e){n.$message({message:e.message,type:"warning"})})}))},handleCollapseChange:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var o,r,code,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tableVisible.roleGroupTableVisible=!0,this.tableVisible.roleGroupChildTableVisible=!1,this.tableVisible.roleTableVisible=!1,this.isRoleInfoShow=!1,!t){e.next=14;break}return this.systemCode=t,o=this.systemsLoadedMap.get(t),e.next=9,this.getRoleGroupTreeData({systemCode:t});case 9:r=e.sent,code=r.code,data=r.data,"success"==code&&(this.systems[o].tree=k.a.formatJSONTreeData(data,"children","groupId","parentId")),this.getRoleGroupList();case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleCloseDialog:function(e){this.$refs[e]&&this.$refs[e].resetFiled()},hanleContextmenu:function(e,t,o,r){this.menuVisible=!0,this.firstLevel=1!==o.level;var menu=document.querySelector("#menu");menu.style.left=e.clientX+20+"px",menu.style.top=e.clientY-60+"px",this.orgCode=t.orgCode,this.keys=t.parentCode,this.orgObj=t,this.node=o},handleTreeNodeClick:function(e){var data=e.data;e.obj,e.node;this.$nextTick(function(){this.roleInfo=data})},handleSystemTreeNodeClick:function(e){var data=e.data;e.obj,e.node;this.tableVisible.roleGroupTableVisible=!1,this.tableVisible.roleGroupChildTableVisible=!1,this.tableVisible.roleTableVisible=!0,this.isRoleInfoShow=!0,this.$nextTick(function(){this.roleInfo=data}),this.currentRole=data,this.getRoleList({parentId:data.groupId,systemCode:data.systemCode})},filterNode:function(e,data){return!e||-1!==data.orgName.indexOf(e)},roleGroupCurrentChange:function(e){this.roleGroupPageInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.roleGroupPageInfo.pageSize,this.roleGroupPageInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.roleGroupPageInfo.pageNo,this.getRoleGroupList()},roleGroupChildCurrentChange:function(e){this.roleGroupChildPageInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.roleGroupChildPageInfo.pageSize,this.roleGroupChildPageInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.roleGroupChildPageInfo.pageNo,this.getRoleGroupChildList()},roleCurrentChange:function(e){this.rolePageInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.rolePageInfo.pageSize,this.rolePageInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.rolePageInfo.pageNo,this.getRoleList({systemCode:this.currentRole.systemCode,parentId:this.currentRole.groupId})},orgDel:function(e,t){var o=this;this.$confirm("确认删除?","提示信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={tenantId:t.tenantId,orgId:t.orgId};l.a.post(l.a.ajaxUrl+"upmsOrg/deleteOrg",e).then(function(e){if("success"==e.data.code){for(var r=0,i=0;i<o.tempTreeData.length;i++)o.tempTreeData[i].tenantId==t.tenantId&&o.tempTreeData[i].orgId==t.orgId&&(r=i);o.tempTreeData.splice(r,1),o.$refs.tree.updateKeyChildren([o.keys],o.tempTreeData),o.$message({type:"success",message:"删除成功!"})}else o.$message({type:"success",message:"删除失败!"})})}).catch(function(e){o.$message({type:"info",message:"已取消删除"})})},closeBox:function(){this.menuVisible=!1},changeIcon:function(e,t){this.islock=!this.islock,this.islock?(this.iconClass="el-icon-delete",this.iconCont="已激活",t.status=0):(this.iconClass="el-icon-edit",this.iconCont="已锁定",t.status=1),this.$message({type:"success",message:"操作成功!"})},statusEve:function(e,t,o,r){return"false"!=e.isLock?"已激活":"锁定"},loadNode:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t,o){var r,n,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,n={tenantId:0===t.level?"":t.data.tenantId,parentCode:0===t.level?-1:t.data.orgCode,userName:"",orgCode:"AHHF_QHHFY_99999997",showFlag:0,flag:""},e.next=4,l.a.post(l.a.forent_url.url+"/org/allSonOrgListincludeitself.mvc",n).then(function(e){if("success"==e.code){if(!e.data)return;return r.tempTreeData=e.data,c.tenantId=e.data[0].tenantId,c.orgCode=e.data[0].orgCode,c.orgObj=e.data[0],o(r.tempTreeData)}c.$message({type:"error",message:e.data.message})}).catch(function(e){c.$message({type:"error",message:"加载失败"})});case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),getRoleGroupList:function(){var e=this,t={pageNo:this.roleGroupPageInfo.pageNo||1,pageSize:this.roleGroupPageInfo.pageSize||6,systemCode:this.systemCode||"transformers",parentId:"-1"},o=l.a.forent_url.url;return l.a.post(o+"/roleGroup/list",t).then(function(t){t.data,e.roleGroupPageInfo.total=t.data.total,e.roleGroupTableData=t.data.rows,e.listLoading=!1})},getRoleGroupChildList:function(){var e=this,t={pageNo:this.roleGroupPageInfo.pageNo,pageSize:this.roleGroupPageInfo.pageSize,systemCode:"transformers",parentId:""},o=l.a.forent_url.url;return l.a.post(o+"/roleGroup/list",t).then(function(t){t.data,e.rolePageInfo.total=t.data.total,e.tableData=t.data.rows,e.listLoading=!1})},getRoleList:function(e){var t=this,o={pageNo:this.rolePageInfo.pageNo,pageSize:this.rolePageInfo.pageSize,systemCode:e.systemCode,groupId:e.parentId},r=l.a.forent_url.url;l.a.post(r+"/role/list.mvc",o).then(function(e){"success"==e.code&&(t.rolePageInfo.total=e.data.total,t.roleTableData=e.data.rows),t.listLoading=!1,t.$forceUpdate()}).catch(function(e){})},classIconLock:function(e){return"已激活"==this.formatIsLock(e.row)?"cloud-unlocked icon-l-new l-icons":"已锁定"==this.formatIsLock(e.row)?"cloud-locked icon-l-new l-icons":void 0},formatUserData:function(e){return e},formatIsLock:function(e){var t=e.isLock;return""==t||null==t||"false"==t?"已激活":"已锁定"},formatRole:function(e){return"1"},testT:function(){},editRoleGroup:function(e){var t=this;this.roleGroupObj;var o={systemCode:this.roleGroupObj.systemCode||"",parentId:this.roleGroupObj.parentId||"",groupId:this.roleGroupObj.groupId||"",roleId:this.roleGroupObj.roleId||"",groupName:this.roleGroupObj.groupName||"",orderNum:this.roleGroupObj.orderNum||""};l.a.post(l.a.forent_url.url+"/roleGroup/judgeOrderNumInSystemCode.mvc",o,5e3).then(function(e){"success"===e.code&&l.a.post(l.a.forent_url.url+"/roleGroup/save.mvc",o,5e3).then(function(e){"success"===e.code&&(t.$message({type:"success",message:"修改成功"}),t.$refs.editRoleGroupForm.resetFields(),t.dialogVisible.editRoleGroupVisible=!1,t.roleGroupTableData.splice(t.roleGroupObj.index,1,e.data))}).catch(function(e){t.$message({type:"warning",message:"修改失败"})})}).catch(function(e){t.$message({type:"warning",message:"操作失败"})})},addRoleGroup:function(e){var t=this,o={systemCode:this.systemCode,parentId:"-1",groupId:"",roleId:"",groupName:this.roleGroupObj.groupName,orderNum:this.roleGroupObj.orderNum};l.a.post(l.a.forent_url.url+"/roleGroup/save",o,5e3).then(function(e){"success"==e.code&&t.$message({message:"创建成功",type:"success"}),t.$refs.addRoleGroupForm.resetFields(),t.dialogVisible.addRoleGroupVisible=!1,t.roleGroupTableData.push(t.roleGroupObj)}).catch(function(e){t.$message({message:"创建超时",type:"warning"})})},addRole:function(e){var t=this;this.$refs[e].validate(function(o){o&&l.a.post(l.a.forent_url.url+"/role/valRoleNameIsExist.mvc",{roleName:t.roleObj.roleName,groupId:t.roleObj.groupId}).then(function(o){"success"===o.code&&l.a.post(l.a.forent_url.url+"/role/valOrderNumIsExist.mvc",{orderNum:t.roleObj.orderNum,groupId:t.roleObj.groupId}).then(function(o){"success"===o.code&&l.a.post(l.a.forent_url.url+"/role/valRoleNameIsExist.mvc",{systemCode:"",parentId:"",groupId:t.roleObj.groupId,roleId:"",roleName:t.roleObj.roleName,orderNum:t.roleObj.orderNum}).then(function(o){"success"===o.code&&l.a.post(l.a.forent_url.url+"/role/valOrderNumIsExist.mvc",{systemCode:"",parentId:"",groupId:t.roleObj.groupId,roleId:"",roleName:t.roleObj.roleName,orderNum:t.roleObj.orderNum}).then(function(o){"success"===o.code&&l.a.post(l.a.forent_url.url+"/role/save.mvc",{systemCode:"",parentId:"",groupId:t.roleObj.groupId,roleId:"",roleName:t.roleObj.roleName,orderNum:t.roleObj.orderNum}).then(function(o){"success"===o.code&&(t.$message({message:"保存成功",type:"success"}),t.roleTableData.push(o.data),t.$refs[e].resetFields(),t.$refs[e].clearValidate(),t.dialogVisible.addRoleVisible=!1)})})})})})})},editRole:function(e){var t=this;this.roleObj,this.$refs[e].validate(function(o){o&&l.a.post(l.a.forent_url.url+"/role/valRoleNameIsExist.mvc",{systemCode:"",parentId:"",roleId:t.roleObj.roleId,roleName:t.roleObj.roleName,groupId:t.roleObj.groupId,orderNum:t.roleObj.orderNum}).then(function(o){"success"===o.code&&l.a.post(l.a.forent_url.url+"/role/valOrderNumIsExist.mvc",{systemCode:"",parentId:"",roleId:t.roleObj.roleId,roleName:t.roleObj.roleName,groupId:t.roleObj.groupId,orderNum:t.roleObj.orderNum}).then(function(o){"success"===o.code&&l.a.post(l.a.forent_url.url+"/role/save.mvc",{systemCode:"",parentId:"",groupId:t.roleObj.groupId,roleId:t.roleObj.roleId,roleName:t.roleObj.roleName,orderNum:t.roleObj.orderNum}).then(function(o){"success"===o.code&&(t.roleTableData.splice(t.roleObj.index,1,o.data),t.$message({message:"保存成功",type:"success"}),t.$refs[e].resetFields(),t.dialogVisible.editRoleVisible=!1)})})})})},deleteRole:function(e){},cofingRoleMenu:function(e){for(var t=this,o=this.$refs.menuTree.$refs["filter-tree"].getCheckedNodes(),r=[],i=0;i<o.length;i++)r.push(o[i].menuId);l.a.post(l.a.forent_url.url+"/role/saveRoleMenuRel.mvc",{systemCode:this.systemCode,groupId:this.roleObj.groupId,roleId:this.roleObj.roleId,emsRoleMenuRels:r.join(","),emsRolePrivRels:""}).then(function(e){"success"===e.code&&t.$message({message:"修改成功",type:"success"})}),this.dialogVisible.roleMenuVisible=!1},configRoleAuth:function(e){for(var t=this,o=this.$refs.authTree.$refs["filter-tree"].getCheckedNodes(),r=[],i=0;i<o.length;i++)r.push(o[i].privId);l.a.post(l.a.forent_url.url+"/role/saveRolePrivRel.mvc",{systemCode:this.systemCode,groupId:this.roleObj.groupId,roleId:this.roleObj.roleId,emsRoleMenuRels:"",emsRolePrivRels:r.join(",")}).then(function(e){"success"===e.code&&t.$message({message:"修改成功",type:"success"})}),this.dialogVisible.roleAuthVisible=!1},getRoleGroupTreeData:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post(l.a.forent_url.url+"/roleGroup/roleGroupListBySysCode.mvc",t);case 2:return"success"!=(o=e.sent).code&&this.$message({message:o.message,type:"warning"}),e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},watch:{tempTreeData:function(e,t){e!=t&&this.testT()},filterText:function(e){this.$refs.tree1.filter(e)},orgCode:function(e,t){},filterTransformerText:function(e){this.$refs.tree1.filter(e)},filterFireText:function(e){this.$refs.tree1.filter(e)}},filters:{statusEve:function(e,t,o,r){return"false"!=e?"已激活":"锁定"}}}),R=(o(1555),Object(y.a)(_,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"role-manage"},[o("el-container",[o("el-aside",{attrs:{width:"18vw"}},[o("div",{staticClass:"closeBox",on:{click:function(t){return e.closeBox()}}},[o("el-collapse",{attrs:{accordion:""},on:{change:e.handleCollapseChange},model:{value:e.systemCode,callback:function(t){e.systemCode="string"==typeof t?t.trim():t},expression:"systemCode"}},e._l(e.systems,function(t,r){return o("el-collapse-item",{key:r,attrs:{name:t.systemCode}},[o("template",{slot:"title"},[o("span",{staticClass:"title"},[e._v(e._s(t.systemName))])]),e._v(" "),o("FilterTree",{attrs:{treeHeight:200,refData:t.systemCode+"_tree",data:t.tree,defaultProps:{label:"groupName",children:"children",isLeaf:"leaf"}},on:{handleTreeNodeClick:e.handleSystemTreeNodeClick}})],2)}),1)],1)]),e._v(" "),o("el-main",{staticStyle:{width:"82vw"}},[o("el-row",{staticClass:"header"},[o("el-col",{staticClass:"title",attrs:{span:5}},[o("span",[e._v("角色组信息")])]),e._v(" "),o("el-col",{staticClass:"right",attrs:{span:19}},[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleTableClick("addRoleGroup","roleGroup")}}},[e._v("添加角色组")])],1)],1),e._v(" "),o("el-row",{staticClass:"body"},[o("el-scrollbar",[e.isRoleInfoShow?o("el-row",[o("el-col",{attrs:{span:10}},[e._v("角色组名称: "+e._s(e.roleInfo.groupName))]),e._v(" "),o("el-col",{attrs:{span:4}},[e._v("序号: "+e._s(e.roleInfo.orderNum))]),e._v(" "),o("el-col",{attrs:{span:10}},[e._v("\n                            所属角色组: "+e._s(e.roleInfo.dep?"有":"无")+"\n                        ")])],1):e._e(),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[e.tableVisible.roleGroupTableVisible?o("div",{staticClass:"roleManageNoTab"},[o("el-table",{ref:"table",staticStyle:{width:"100%","min-height":"200px","max-height":"300px"},attrs:{data:e.roleGroupTableData}},[o("el-table-column",{attrs:{label:"序号",type:"index",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"角色组名称","min-width":"380",prop:"groupName","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{"min-width":"100",label:"操作","max-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.operateAuth.edit,expression:"operateAuth.edit"}],attrs:{content:"编辑",placement:"bottom"}},[o("i",{staticClass:"ggicon-modification icon-l-new l-icons",on:{click:function(o){return e.handleTableClick("editRoleGroup","roleGroup",e.orgObj,t)}}})]),e._v(" "),o("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.operateAuth.logoff,expression:"operateAuth.logoff"}],attrs:{content:"删除",placement:"bottom"}},[o("i",{staticClass:"ggicon-forbid icon-l-new l-icons",on:{click:function(o){return e.handleTableClick("deleteRoleGroup","roleGroup",e.orgObj,t)}}})])]}}],null,!1,3765953116)})],1),e._v(" "),o("Pagination",{staticClass:"userPage",attrs:{widgetInfo:e.roleGroupPageInfo},on:{sonHandleCurrentChange:e.roleGroupCurrentChange}})],1):e._e()])],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[e.tableVisible.roleGroupChildTableVisible?o("div",{staticClass:"roleManageNoTab"},[o("el-row",{staticClass:"header"},[o("el-col",{staticClass:"title",attrs:{span:5}},[o("span",[e._v("子组信息")])])],1),e._v(" "),o("el-table",{ref:"table",staticStyle:{width:"100%","min-height":"200px","max-height":"300px"},attrs:{data:e.roleTableChildData}},[o("el-table-column",{attrs:{label:"序号",type:"index",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"角色组名称",width:"380",prop:"belongRoleName","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{label:"状态",prop:"isLock",formatter:e.formatIsLock,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{attrs:{type:"已激活"==e.formatIsLock(t.row)?"success":"danger","disable-transitions":""}},[e._v(e._s(e.formatIsLock(t.row)))])]}}],null,!1,568061487)}),e._v(" "),o("el-table-column",{attrs:{"min-width":"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.operateAuth.edit,expression:"operateAuth.edit"}],attrs:{content:"编辑",placement:"bottom"}},[o("i",{staticClass:"ggicon-modification icon-l-new l-icons",on:{click:function(o){return e.handleUserClick("editRole",e.orgObj,t.row)}}})]),e._v(" "),o("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.operateAuth.logoff,expression:"operateAuth.logoff"}],attrs:{content:"删除",placement:"bottom"}},[o("i",{staticClass:"ggicon-forbid icon-l-new l-icons",on:{click:function(o){return e.handleUserClick("deleteRole",e.orgObj,t.row)}}})])]}}],null,!1,2288296444)})],1),e._v(" "),o("Pagination",{staticClass:"userPage",attrs:{widgetInfo:e.roleGroupChildpageInfo},on:{sonHandleCurrentChange:e.roleGroupChildCurrentChange}})],1):e._e()])],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[e.tableVisible.roleTableVisible?o("div",{staticClass:"roleManageNoTab"},[o("el-row",{staticClass:"header"},[o("el-col",{staticClass:"title",attrs:{span:5}},[o("span",[e._v("包含角色")])]),e._v(" "),o("el-col",{staticClass:"right",attrs:{span:19}},[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleTableClick("addRole","role")}}},[e._v("添加角色")])],1)],1),e._v(" "),o("el-table",{ref:"table",staticStyle:{width:"100%","min-height":"200px","max-height":"500px"},attrs:{data:e.roleTableData}},[o("el-table-column",{attrs:{label:"序号",type:"index",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"角色名称","min-width":"600",prop:"roleName","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{"min-width":"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{attrs:{content:"菜单",placement:"bottom"}},[o("i",{staticClass:"cloud-menuPic icon-l-new l-icons",on:{click:function(o){return e.handleTableClick("menuConfig","role",e.orgObj,t)}}})]),e._v(" "),o("el-tooltip",{attrs:{content:"权限",placement:"bottom"}},[o("i",{staticClass:"cloud-userBrsh icon-l-new l-icons",on:{click:function(o){return e.handleTableClick("authConfig","role",e.orgObj,t)}}})]),e._v(" "),o("el-tooltip",{attrs:{content:"编辑",placement:"bottom"}},[o("i",{staticClass:"cloud-listEdit icon-l-new l-icons",on:{click:function(o){return e.handleTableClick("roleEdit","role",e.orgObj,t)}}})]),e._v(" "),o("el-tooltip",{attrs:{content:"删除",placement:"bottom"}},[o("i",{staticClass:"cloud-trash icon-l-new l-icons",on:{click:function(o){return e.handleTableClick("roleDelete","role",e.orgObj,t)}}})])]}}],null,!1,1460340646)})],1),e._v(" "),o("Pagination",{staticClass:"userPage",attrs:{widgetInfo:e.rolePageInfo},on:{sonHandleCurrentChange:e.roleCurrentChange}})],1):e._e()])],1)],1)],1)],1),e._v(" "),o("el-dialog",{ref:"editRoleGroup",attrs:{title:"编辑角色组信息",visible:e.dialogVisible.editRoleGroupVisible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"editRoleGroupVisible",t)},close:e.handleCloseDialog}},[o("el-form",{ref:"editRoleGroupForm",attrs:{model:e.roleGroupObj,rules:e.editRoleGroupFormRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"角色组名称",prop:"groupName"}},[o("el-col",{attrs:{span:20,offset:2}},[o("el-input",{attrs:{clearable:""},model:{value:e.roleGroupObj.groupName,callback:function(t){e.$set(e.roleGroupObj,"groupName","string"==typeof t?t.trim():t)},expression:"roleGroupObj.groupName"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"orderNum"}},[o("el-col",{attrs:{span:20,offset:2}},[o("el-input",{attrs:{clearable:""},model:{value:e.roleGroupObj.orderNum,callback:function(t){e.$set(e.roleGroupObj,"orderNum","string"==typeof t?t.trim():t)},expression:"roleGroupObj.orderNum"}})],1)],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible.editRoleGroupVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editRoleGroup("editRoleGroupForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{ref:"addRoleGroup",attrs:{title:"新增角色组信息",visible:e.dialogVisible.addRoleGroupVisible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"addRoleGroupVisible",t)},close:e.handleCloseDialog}},[o("el-form",{ref:"addRoleGroupForm",attrs:{model:e.roleGroupObj,rules:e.addRoleGroupFormRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"角色组名称",prop:"groupName"}},[o("el-col",{attrs:{span:20}},[o("el-input",{attrs:{clearable:""},model:{value:e.roleGroupObj.groupName,callback:function(t){e.$set(e.roleGroupObj,"groupName","string"==typeof t?t.trim():t)},expression:"roleGroupObj.groupName"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"orderNum"}},[o("el-col",{attrs:{span:20}},[o("el-input",{attrs:{clearable:""},model:{value:e.roleGroupObj.orderNum,callback:function(t){e.$set(e.roleGroupObj,"orderNum","string"==typeof t?t.trim():t)},expression:"roleGroupObj.orderNum"}})],1)],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible.addRoleGroupVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addRoleGroup("addRoleGroupForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{ref:"addRole",attrs:{title:"添加角色",visible:e.dialogVisible.addRoleVisible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"addRoleVisible",t)},close:e.handleCloseDialog}},[o("el-form",{ref:"addRoleForm",attrs:{model:e.roleObj,rules:e.addRoleFormRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[o("el-col",{attrs:{span:20}},[o("el-input",{attrs:{clearable:"",prop:"roleName"},model:{value:e.roleObj.roleName,callback:function(t){e.$set(e.roleObj,"roleName","string"==typeof t?t.trim():t)},expression:"roleObj.roleName"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"orderNum"}},[o("el-col",{attrs:{span:20}},[o("el-input",{attrs:{clearable:"",prop:"orderNum"},model:{value:e.roleObj.orderNum,callback:function(t){e.$set(e.roleObj,"orderNum","string"==typeof t?t.trim():t)},expression:"roleObj.orderNum"}})],1)],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible.addRoleVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addRole("addRoleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{ref:"menuConfig",attrs:{title:"菜单配置",visible:e.dialogVisible.roleMenuVisible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"roleMenuVisible",t)},close:e.handleCloseDialog}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("FilterTree",{ref:"menuTree",attrs:{setCheckedKeys:!0,check:!0,data:e.tree.menu,nodeKeyName:"menuId",checkedArray:e.tree.menuChecked,defaultProps:{label:"menuName",children:"children"}}})],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible.roleMenuVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.cofingRoleMenu}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{ref:"authConfig",attrs:{title:"权限配置",visible:e.dialogVisible.roleAuthVisible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"roleAuthVisible",t)},close:e.handleCloseDialog}},[o("el-scrollbar",{attrs:{"wrap-style":"color:red"}},[o("FilterTree",{ref:"authTree",attrs:{setCheckedKeys:!0,data:e.tree.auth,check:!0,nodeKeyName:"privId",checkedArray:e.tree.authChecked,defaultProps:{label:"privName",children:"children",isLeaf:"leaf"}}})],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible.roleAuthVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.configRoleAuth}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{ref:"editRole",attrs:{title:"编辑角色",visible:e.dialogVisible.editRoleVisible,width:"20%"},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"editRoleVisible",t)},close:e.handleCloseDialog}},[o("el-form",{ref:"editRoleForm",attrs:{model:e.roleObj,rules:e.editRoleFormRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[o("el-col",{attrs:{span:20}},[o("el-input",{attrs:{clearable:""},model:{value:e.roleObj.roleName,callback:function(t){e.$set(e.roleObj,"roleName","string"==typeof t?t.trim():t)},expression:"roleObj.roleName"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"序号",prop:"orderNum"}},[o("el-col",{attrs:{span:20}},[o("el-input",{attrs:{clearable:""},model:{value:e.roleObj.orderNum,callback:function(t){e.$set(e.roleObj,"orderNum","string"==typeof t?t.trim():t)},expression:"roleObj.orderNum"}})],1)],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible.editRoleVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editRole("editRoleForm")}}},[e._v("确 定")])],1)],1)],1)],1)},[],!1,null,"4e073386",null));t.default=R.exports}}]);