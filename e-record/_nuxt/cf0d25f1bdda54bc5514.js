(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1145:function(e,t,l){var content=l(1150);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("59352f9c",content,!0,{sourceMap:!1})},1146:function(e,t,l){var content=l(1152);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("031c9afc",content,!0,{sourceMap:!1})},1147:function(e,t,l){"use strict";l(6);var o={props:{widgetInfo:Object},data:function(){return{}},methods:{handleSizeChange:function(e){this.pageSize=e,this.$emit("sonHandleCurrentChange",{pageSize:this.pageSize})},handleCurrentChange:function(e){this.$emit("sonHandleCurrentChange",{pageNo:e})}},mounted:function(){this.$emit("sonHandleCurrentChange",{pageSize:10,pageNo:1})}},n=(l(1149),l(31)),component=Object(n.a)(o,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-pagination",{attrs:{"current-page":this.widgetInfo.pageNo,"page-sizes":[10,20,30,40],"page-size":this.widgetInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.widgetInfo.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},[],!1,null,"352c168e",null);t.a=component.exports},1148:function(e,t,l){"use strict";var o=l(6),n={data:function(){return{CmenuName:{}}},mounted:function(){this.CmenuName=o.a.getGlobalVal("CmenuName"),console.log("this.CmenuName:",this.CmenuName)}},r=(l(1151),l(31)),component=Object(r.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",{staticClass:"l-head"},[t("span",[this._v(this._s(this.CmenuName.parName)+" >")]),this._v(" "),t("span",[this._v(this._s(this.CmenuName.name))])])])},[],!1,null,"3d4e79c6",null);t.a=component.exports},1149:function(e,t,l){"use strict";var o=l(1145);l.n(o).a},1150:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".notab[data-v-352c168e]{height:calc(100vh - 216px);width:100%;background:#fff;border:1px solid #e2e4e8}.notab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 266px)}.staticNotab[data-v-352c168e]{height:calc(100vh - 136px);width:100%;background:#fff;border:1px solid #e2e4e8}.reportNoTab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 296px);overflow-y:auto}.userNotab[data-v-352c168e]{height:calc(100vh - 180px);width:100%;background:#fff}.userNotab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 188px);overflow-y:auto}.myTab[data-v-352c168e]{height:calc(100vh - 258px);background:#fff;width:100%;border:1px solid #e2e4e8}.myTab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 308px)}@media screen and (max-width:1680px){.notab[data-v-352c168e]{height:calc(100vh - 208px);background:#fff}.notab>div[data-v-352c168e]:first-child{height:calc(100vh - 258px)}.myTab[data-v-352c168e]{height:calc(100vh - 250px);background:#fff}.myTab>div[data-v-352c168e]:first-child{height:calc(100vh - 300px)}.staticNotab[data-v-352c168e]{height:calc(100vh - 132px)}}@media screen and (max-width:1440px){.notab[data-v-352c168e]{height:calc(100vh - 173px);background:#fff}.notab>div[data-v-352c168e]:first-child{height:calc(100vh - 223px)}.myTab[data-v-352c168e]{height:calc(100vh - 215px);background:#fff}.myTab>div[data-v-352c168e]:first-child{height:calc(100vh - 265px)}.staticNotab[data-v-352c168e]{height:calc(100vh - 107px)}}@media screen and (max-width:1366px){.reportNoTab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 286px);overflow-y:auto}}",""])},1151:function(e,t,l){"use strict";var o=l(1146);l.n(o).a},1152:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".l-head[data-v-3d4e79c6]{font-weight:400;font-family:Microsoft YaHei;padding:0 0 10px;margin-left:.6rem;text-align:left}.l-head span[data-v-3d4e79c6]{font-size:1.8rem;color:#717171;line-height:3.9rem}@media screen and (max-width:1440px){.l-head span[data-v-3d4e79c6]{line-height:1.7rem}}",""])},1171:function(e,t,l){"use strict";var o=l(6),n={props:["uploadVal"],data:function(){return{loading:!1,labelPosition:"top",form:{fileList:[]},dialogFormVisible:!1,oFile:"",onlyFlag:"",selectList:[],selectListVal:"",fileObj:null,fileIdentity:"",dataObj:{},showFileFlag:!0}},created:function(){},mounted:function(){},methods:{handleAvatarError:function(e,t,l){this.$message({message:"上传文件失败",type:"error"})},handleAvatarSuccess:function(e,t){if("success"==e.code){if(this.showFileFlag=!0,!e.data.sheetNameList)return;var l=e.data.sheetNameList;if(this.onlyFlag=e.data.identity,!l)return;for(var i=0;i<l.length;i++)this.selectList.push({label:l[i],value:l[i]})}else this.form.fileList=[],this.$message({message:"上传文件失败",type:"error"})},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件，先删除后上传"))},handleRemove:function(e,t){this.selectListVal="",this.selectList=[]},onSubmit:function(){var e=this,t=this;""!=t.selectListVal?(t.loading=!0,o.a.post("/remoteApi/tool/record/uploadExcel",{identity:t.onlyFlag,fileId:t.uploadVal.fileId,sheetName:this.selectListVal,userId:o.a.getGlobalVal("userObj").id,unitId:t.uploadVal.unitId,operationOrgId:t.uploadVal.operationOrgId,TabName:t.uploadVal.TabName}).then(function(l){if("success"==l.code){if(t.loading=!1,!l.data)return void t.$message.error("表不符合规范或者已使用过");t.$message.success("保存成功"),t.$emit("importHandel")}else t.loading=!1,e.$message.error(l.message)})):this.$message({type:"warning",message:"表名称不能为空"})},ResetOrCloseBtn:function(){this.form.fileList=[],this.selectListVal="",this.selectList=[],this.oFile=""},beforeAvatarUpload:function(e){console.log(e),console.log(this.form.fileList)}}},r=(l(1645),l(31)),component=Object(r.a)(n,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"upload-content"},[l("el-form",{ref:"form",staticClass:"upload-content-from",attrs:{model:e.form,"label-position":e.labelPosition,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"上传文件:"}},[l("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"/remoteApi/tool/record/getExcelSheetName",accept:"multipart/form-data",limit:1,data:{identity:(new Date).getTime()},"on-remove":e.handleRemove,"file-list":e.form.fileList,"on-error":e.handleAvatarError,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!0,"show-file-list":e.showFileFlag,"on-exceed":e.handleExceed}},[l("i",{staticClass:"el-icon-upload"}),e._v(" "),l("div",{staticClass:"el-upload__text"},[e._v("\n          在此处上传文件\n          "),l("em",[e._v("点击上传")])])])],1),e._v(" "),l("el-form-item",{attrs:{label:"表名:"}},[l("el-select",{attrs:{placeholder:"请选择表名",filterable:""},model:{value:e.selectListVal,callback:function(t){e.selectListVal=t},expression:"selectListVal"}},e._l(e.selectList,function(e){return l("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:""}},[l("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("导入")]),e._v(" "),l("el-button",{attrs:{type:""},on:{click:e.ResetOrCloseBtn}},[e._v("重置")])],1)],1)],1)},[],!1,null,"73dd1fb0",null);t.a=component.exports},1323:function(e,t,l){var content=l(1644);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("e78b983e",content,!0,{sourceMap:!1})},1324:function(e,t,l){var content=l(1646);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("234625ad",content,!0,{sourceMap:!1})},1325:function(e,t,l){var content=l(1648);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("59090c02",content,!0,{sourceMap:!1})},1326:function(e,t,l){var content=l(1650);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("1343538b",content,!0,{sourceMap:!1})},1327:function(e,t,l){var content=l(1652);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("b34170be",content,!0,{sourceMap:!1})},1328:function(e,t,l){var content=l(1654);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("e585e03e",content,!0,{sourceMap:!1})},1329:function(e,t,l){var content=l(1656);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("0f763135",content,!0,{sourceMap:!1})},1330:function(e,t,l){var content=l(1658);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("169bcbde",content,!0,{sourceMap:!1})},1331:function(e,t,l){var content=l(1660);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("25188cfd",content,!0,{sourceMap:!1})},1332:function(e,t,l){var content=l(1662);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("05a4a202",content,!0,{sourceMap:!1})},1333:function(e,t,l){var content=l(1664);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("4eba610a",content,!0,{sourceMap:!1})},1334:function(e,t,l){var content=l(1666);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("1bdd3f00",content,!0,{sourceMap:!1})},1335:function(e,t,l){var content=l(1668);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("5489c7e0",content,!0,{sourceMap:!1})},1336:function(e,t,l){var content=l(1670);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(17).default)("819df16a",content,!0,{sourceMap:!1})},1414:function(e,t){},1415:function(e,t,l){"use strict";l(76),l(316),l(50),l(61);var o=l(6),n=(l(226),l(1636)),r=l.n(n),d={name:"inputExcel",props:{type:String,default:"选择excel文件"},data:function(){return{title:"导入",opitions:[]}},methods:{btnClick:function(){document.querySelector(".input-file").click()},exportData:function(e){if(e.currentTarget.files.length){var t=this,l=e.currentTarget.files[0],o=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var l,n="";if(o.onload=function(d){for(var c=new Uint8Array(o.result),m=c.byteLength,i=0;i<m;i++)n+=String.fromCharCode(c[i]);var f=(l=r.a.read(n,{type:"binary"})).SheetNames,h=[],v=[];f.forEach(function(e){l.Sheets[e];var t=r.a.utils.sheet_to_json(l.Sheets[e]),o=r.a.utils.sheet_to_formulae(l.Sheets[e]);t.length>0&&(h.push(t),v.push(o))}),t.$emit("getResult",h,f,e)},2==o.readyState){var d=o.readAsText(e);console.log(999,d)}o.readAsArrayBuffer(e)},o.readAsBinaryString(l)}}}},c=(l(1643),l(31)),m={name:"Company",props:["facilitiesInData"],components:{inputExcel:Object(c.a)(d,function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("input",{staticClass:"input-file",attrs:{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},on:{change:this.exportData}}),this._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:this.btnClick}},[this._v(this._s(this.title))])],1)},[],!1,null,"57e578f5",null).exports,importUpload:l(1171).a},data:function(){return{labelPosition:"top",dialogExcelVisible:!1,operationCenterList:[],provinceList:[],provinceName:null,cityList:[],cityName:null,countyList:[],countyName:null,enterpriseUnitServiceModelList:[],enterpriseUnitServiceModelName:null,enterpriseUnitAccessChannelList:[{id:"0",name:"直接发展"},{id:"1",name:"合作伙伴"}],enterpriseUnitAccessChannelName:null,enterpriseUnitDataStatusList:[{id:"0",name:"待采集"},{id:"1",name:"采集中"},{id:"2",name:"已完成"}],enterpriseUnitDataStatusName:null,enterpriseUnitTypeList:[{id:"01",name:"单一型"},{id:"02",name:"集团型"}],enterpriseUnitTypeName:null,enterpriseCompanyTypeList:[{id:"0",name:"总公司"},{id:"1",name:"分公司"}],enterpriseCompanyTypeName:null,joinTypeList:[{id:"0",name:"系统注册 "},{id:"1",name:"APP注册"}],statusList:[{id:"0",name:"正常"},{id:"1",name:"停用"},{id:"2",name:"删除"},{id:"9",name:"待启用"}],joinTypeName:null,enterpriseCompanyTypeDisabled:!1,unit:{},dateTimeScopeValue:[],modifyFlag:!1,select:[],selectVal:"",fileName:{},uploadVal:{}}},mounted:function(){this.userId=o.a.getGlobalVal("userObj").id,this.roleName=o.a.getGlobalVal("userObj").userAuthList[0].authRoleList[0].roleName,this.findOrgListByRole(),this.findDistrict("000000",1),this.getData(),this.getServerModel()},methods:{showLabel:function(e){return"0"==e?"在用":"1"==e?"停用":"2"==e?"删除":"9"==e?"待启用":void 0},jmlxLabel:function(e){if(""!=e&&null!=e)return"0"==e?"系统注册":"1"==e?"APP注册":void 0},gslxLabel:function(e){if(""!=e&&null!=e)return"0"==e?"总公司":"1"==e?"分公司":void 0},yzdwzlLabel:function(e){if(""!=e&&null!=e)return"01"==e?"单一型":"02"==e?"集团型":void 0},modifyFlagFn:function(){this.modifyFlag=!this.modifyFlag,this.getData()},setImport:function(data){this.dialogExcelVisible=!1,this.getData()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.fileId,TabName:"单位"}},getServerModel:function(){var e=this;this.isLoading=!0,o.a.get("/remoteApi/tool/unit/getServerModel").then(function(t){e.isLoading=!1,t&&"success"===t.code?e.enterpriseUnitServiceModelList=t.data:console.log("数据获取失败。。。。。")}).catch(function(t){console.log(t),e.isLoading=!1})},getData:function(){var e=this;this.isLoading=!0,o.a.get("/remoteApi/tool/unit/findUnitByUnitId?unitId="+this.facilitiesInData.unitId).then(function(t){if(e.isLoading=!1,t&&"success"===t.code){e.unit=t.data,null!=e.unit.province&&""!=e.unit.province&&e.findDistrict(e.unit.province,2),null!=e.unit.city&&""!=e.unit.city&&e.findDistrict(e.unit.city,3),"01"==e.unit.enterpriseUnitType&&(e.unit.enterpriseCompanyType=null,e.enterpriseCompanyTypeDisabled=!0);var l=e.unit.enterpriseUnitServiceStartDate.replace(/-/g,"/"),o=e.unit.enterpriseUnitServiceEndDate.replace(/-/g,"/");e.dateTimeScopeValue.push(new Date(l)),e.dateTimeScopeValue.push(new Date(o));var n=[];n.push(e.unit.province),n.push(e.unit.city),n.push(e.unit.county),e.findDistrictNameListByCode(n.join(",")),e.enterpriseUnitServiceModelName=e.enterpriseUnitServiceModelList.find(function(t){return t.id==e.unit.enterpriseUnitServiceModel}).name,e.enterpriseUnitAccessChannelName=e.enterpriseUnitAccessChannelList.find(function(t){return t.id==e.unit.enterpriseUnitAccessChannel}).name,e.enterpriseUnitDataStatusName=e.enterpriseUnitDataStatusList.find(function(t){return t.id==e.unit.enterpriseUnitDataStatus}).name,e.enterpriseUnitTypeName=e.enterpriseUnitTypeList.find(function(t){return t.id==e.unit.enterpriseUnitType}).name,e.enterpriseCompanyTypeName=e.enterpriseCompanyTypeList.find(function(t){return t.id==e.unit.enterpriseCompanyType}).name,e.joinTypeName=e.joinTypeList.find(function(t){return t.id==e.unit.joinType}).name}else console.log("数据获取失败。。。。。")}).catch(function(t){console.log(t),e.isLoading=!1})},findOrgListByRole:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/org/findOrgListByRole",{userId:this.userId,roleName:this.roleName}).then(function(t){t&&"success"===t.code&&(e.isLoading=!1,e.operationCenterList=t.data)}).catch(function(t){console.log(t),e.isLoading=!1})},findDistrict:function(e,t){var l=this;this.isLoading=!0,o.a.post("/remoteApi/tool/district/queryDistrictByParentCode",{parentCode:e}).then(function(e){if(e&&"success"===e.code)switch(l.isLoading=!1,t){case 1:l.provinceList=e.data;break;case 2:l.cityList=e.data;break;case 3:l.countyList=e.data}else console.log("没有数据。。。。。")}).catch(function(e){console.log(e),l.isLoading=!1})},findDistrictNameListByCode:function(e){var t=this;this.isLoading=!0,o.a.post("/remoteApi/tool/district/queryDistrictNameListByCode",{districtCode:e}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.provinceName=null!=e.data&&e.data.length>=1?e.data[0]:null,t.cityName=null!=e.data&&e.data.length>=2?e.data[1]:null,t.countyName=null!=e.data&&e.data.length>=3?e.data[2]:null):console.log("没有数据。。。。。")}).catch(function(e){console.log(e),t.isLoading=!1})},changeCityCounty:function(){this.cityList=[],this.countyList=[],this.unit.city=null,this.unit.county=null,this.findDistrict(this.unit.province,2)},changeCounty:function(){this.countyList=[],this.unit.county=null,this.findDistrict(this.unit.city,3)},changeEnterpriseUnitType:function(e){"01"==e?(this.unit.enterpriseCompanyType=null,this.enterpriseCompanyTypeDisabled=!0):this.enterpriseCompanyTypeDisabled=!1},getMyExcelData:function(data,e,t){this.fileName=t;for(var i=0;i<e.length;i++)this.select.push({label:e[i],value:e[i]});console.log(this.select)},onSubmit:function(e){var t=this,l=this,n=/^[0-9]+.?[0-9]*$/;null==l.unit.unitPointX||""==l.unit.unitPointX||null==l.unit.unitPointX||n.test(l.unit.unitPointX)?null==l.unit.unitPointY||""==l.unit.unitPointY||null==l.unit.unitPointY||n.test(l.unit.unitPointY)?null==l.unit.buildArea||""==l.unit.buildArea||null==l.unit.buildArea||n.test(l.unit.buildArea)?this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var l in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[l]:("00"+t[l]).substr((""+t[l]).length)));return e},null!=l.dateTimeScopeValue&&2==l.dateTimeScopeValue.length&&(l.unit.enterpriseUnitServiceStartDate=l.dateTimeScopeValue[0].format("yyyy-MM-dd hh:mm:ss"),l.unit.enterpriseUnitServiceEndDate=l.dateTimeScopeValue[1].format("yyyy-MM-dd hh:mm:ss")),l.unit.updateUserId=l.userId,l.isLoading=!0,l.unit.trailId=l.facilitiesInData.id,o.a.post("/remoteApi/tool/unit/updateUnitByUnitId",l.unit).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.$message({message:"更新成功",type:"success"}),l.getData(),l.modifyFlag=!1):l.$message({message:"更新失败",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}):l.$message({message:"建筑面积验证异常,请输入数字",type:"error"}):l.$message({message:"纬度验证异常,请输入数字",type:"error"}):l.$message({message:"经度验证异常,请输入数字",type:"error"})}}},f=(l(1647),Object(c.a)(m,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"company-wrapper"},[l("div",{staticClass:"top-button"},[e.facilitiesInData.limtShow?l("el-button",{on:{click:e.modifyFlagFn}},[e._v(e._s(e.modifyFlag?"关闭手动修改":"开启手动修改"))]):e._e()],1),e._v(" "),e.modifyFlag?l("el-form",{ref:"unit",staticClass:"demo-table-expand",attrs:{"label-position":e.labelPosition,model:e.unit,inline:""}},[l("el-form-item",{attrs:{label:"所属运营中心:"}},[l("el-select",{attrs:{size:"mini",prop:"subCenterCode",filterable:"",placeholder:"请选择"},model:{value:e.unit.subCenterCode,callback:function(t){e.$set(e.unit,"subCenterCode",t)},expression:"unit.subCenterCode"}},e._l(e.operationCenterList,function(e){return l("el-option",{key:e.orgCode,attrs:{label:e.orgName,value:e.orgCode}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"单位ID:",prop:"unitId"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitId))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitId))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"单位名称:",prop:"unitName"}},[l("el-input",{model:{value:e.unit.unitName,callback:function(t){e.$set(e.unit,"unitName",t)},expression:"unit.unitName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"省:",prop:"province"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择"},on:{change:e.changeCityCounty},model:{value:e.unit.province,callback:function(t){e.$set(e.unit,"province",t)},expression:"unit.province"}},e._l(e.provinceList,function(e){return l("el-option",{key:e.distCode,attrs:{label:e.distName,value:e.distCode}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"市:",prop:"city"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择"},on:{change:e.changeCounty},model:{value:e.unit.city,callback:function(t){e.$set(e.unit,"city",t)},expression:"unit.city"}},e._l(e.cityList,function(e){return l("el-option",{key:e.distCode,attrs:{label:e.distName,value:e.distCode}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"区:",prop:"county"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择"},model:{value:e.unit.county,callback:function(t){e.$set(e.unit,"county",t)},expression:"unit.county"}},e._l(e.countyList,function(e){return l("el-option",{key:e.distCode,attrs:{label:e.distName,value:e.distCode}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"单位信用代码:",prop:"unitCreditCode"}},[l("el-input",{model:{value:e.unit.unitCreditCode,callback:function(t){e.$set(e.unit,"unitCreditCode",t)},expression:"unit.unitCreditCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"单位地址:",prop:"unitAddress"}},[l("el-input",{model:{value:e.unit.unitAddress,callback:function(t){e.$set(e.unit,"unitAddress",t)},expression:"unit.unitAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"经度:",prop:"unitPointX"}},[l("el-input",{model:{value:e.unit.unitPointX,callback:function(t){e.$set(e.unit,"unitPointX",t)},expression:"unit.unitPointX"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"纬度:",prop:"unitPointY"}},[l("el-input",{model:{value:e.unit.unitPointY,callback:function(t){e.$set(e.unit,"unitPointY",t)},expression:"unit.unitPointY"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"鸟瞰图:",prop:"aerialviewImg"}},[l("el-input",{model:{value:e.unit.aerialviewImg,callback:function(t){e.$set(e.unit,"aerialviewImg",t)},expression:"unit.aerialviewImg"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑面积（㎡）:",prop:"buildArea"}},[l("el-input",{model:{value:e.unit.buildArea,callback:function(t){e.$set(e.unit,"buildArea",t)},expression:"unit.buildArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"法人姓名:",prop:"legalperson"}},[l("el-input",{model:{value:e.unit.legalperson,callback:function(t){e.$set(e.unit,"legalperson",t)},expression:"unit.legalperson"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"法人联系方式:",prop:"legalpersonTel"}},[l("el-input",{model:{value:e.unit.legalpersonTel,callback:function(t){e.$set(e.unit,"legalpersonTel",t)},expression:"unit.legalpersonTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全责任人:",prop:"personliable"}},[l("el-input",{model:{value:e.unit.personliable,callback:function(t){e.$set(e.unit,"personliable",t)},expression:"unit.personliable"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全责任人联系方式:",prop:"personliableTel"}},[l("el-input",{model:{value:e.unit.personliableTel,callback:function(t){e.$set(e.unit,"personliableTel",t)},expression:"unit.personliableTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全管理人:",prop:"contacts"}},[l("el-input",{model:{value:e.unit.contacts,callback:function(t){e.$set(e.unit,"contacts",t)},expression:"unit.contacts"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全管理人联系方式:",prop:"contactsTel"}},[l("el-input",{model:{value:e.unit.contactsTel,callback:function(t){e.$set(e.unit,"contactsTel",t)},expression:"unit.contactsTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"维保单位:",prop:"maintenanceUnit"}},[l("el-input",{model:{value:e.unit.maintenanceUnit,callback:function(t){e.$set(e.unit,"maintenanceUnit",t)},expression:"unit.maintenanceUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"维保单位联系方式:",prop:"maintenanceTel"}},[l("el-input",{model:{value:e.unit.maintenanceTel,callback:function(t){e.$set(e.unit,"maintenanceTel",t)},expression:"unit.maintenanceTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位数据采集状态:",prop:"enterpriseUnitDataStatus"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择"},model:{value:e.unit.enterpriseUnitDataStatus,callback:function(t){e.$set(e.unit,"enterpriseUnitDataStatus",t)},expression:"unit.enterpriseUnitDataStatus"}},e._l(e.enterpriseUnitDataStatusList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位服务模式:",prop:"enterpriseUnitServiceModel"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择",disabled:""},model:{value:e.unit.enterpriseUnitServiceModel,callback:function(t){e.$set(e.unit,"enterpriseUnitServiceModel",t)},expression:"unit.enterpriseUnitServiceModel"}},e._l(e.enterpriseUnitServiceModelList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位接入渠道:",prop:"enterpriseUnitAccessChannel"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择",disabled:""},model:{value:e.unit.enterpriseUnitAccessChannel,callback:function(t){e.$set(e.unit,"enterpriseUnitAccessChannel",t)},expression:"unit.enterpriseUnitAccessChannel"}},e._l(e.enterpriseUnitAccessChannelList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位企业种类:",prop:"enterpriseUnitType"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择",disabled:""},on:{change:function(t){return e.changeEnterpriseUnitType(t)}},model:{value:e.unit.enterpriseUnitType,callback:function(t){e.$set(e.unit,"enterpriseUnitType",t)},expression:"unit.enterpriseUnitType"}},e._l(e.enterpriseUnitTypeList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"公司类型:",prop:"enterpriseCompanyType"}},[l("el-select",{attrs:{disabled:e.enterpriseCompanyTypeDisabled,size:"mini",filterable:"",placeholder:"请选择",disabled:""},model:{value:e.unit.enterpriseCompanyType,callback:function(t){e.$set(e.unit,"enterpriseCompanyType",t)},expression:"unit.enterpriseCompanyType"}},e._l(e.enterpriseCompanyTypeList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"加盟类型:",prop:"joinType"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择",disabled:""},model:{value:e.unit.joinType,callback:function(t){e.$set(e.unit,"joinType",t)},expression:"unit.joinType"}},e._l(e.joinTypeList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:",prop:"status"}},[l("el-select",{attrs:{size:"mini",filterable:"",placeholder:"请选择",disabled:""},model:{value:e.unit.status,callback:function(t){e.$set(e.unit,"status",t)},expression:"unit.status"}},e._l(e.statusList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"业主企业服务开始时间:",prop:"enterpriseUnitServiceStartDate"}},[l("el-input",{attrs:{disabled:""},model:{value:e.unit.enterpriseUnitServiceStartDate,callback:function(t){e.$set(e.unit,"enterpriseUnitServiceStartDate",t)},expression:"unit.enterpriseUnitServiceStartDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"业主企业服务结束时间:",prop:"enterpriseUnitServiceEndDate"}},[l("el-input",{attrs:{disabled:""},model:{value:e.unit.enterpriseUnitServiceEndDate,callback:function(t){e.$set(e.unit,"enterpriseUnitServiceEndDate",t)},expression:"unit.enterpriseUnitServiceEndDate"}})],1),e._v(" "),l("div",{staticClass:"bottom-button"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("unit")}}},[e._v("保存")]),e._v(" "),l("el-button",{on:{click:function(t){return e.getData()}}},[e._v("重置")])],1),e._v(" "),l("div",{staticStyle:{height:"100px"}})],1):l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":e.labelPosition,inline:""}},[l("el-form-item",{attrs:{label:"所属运营中心:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.subCenterName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.subCenterName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"单位ID:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitId))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitId))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"单位名称:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"省:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.provinceName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.provinceName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"市:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.cityName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.cityName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"区:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.countyName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.countyName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"单位信用代码:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitCreditCode))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitCreditCode))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"单位地址:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitAddress))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitAddress))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"经度:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitPointX))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitPointX))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"纬度:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.unitPointY))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.unitPointY))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"鸟瞰图:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.aerialviewImg))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.aerialviewImg))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑面积（㎡）:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.buildArea))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.buildArea))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"法人姓名:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.legalperson))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.legalperson))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"法人联系方式:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.legalpersonTel))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.legalpersonTel))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全责任人:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.personliable))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.personliable))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全责任人联系方式:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.personliableTel))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.personliableTel))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全管理人:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.contacts))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.contacts))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全管理人联系方式:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.contactsTel))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.contactsTel))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"维保单位:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.maintenanceUnit))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.maintenanceUnit))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"维保单位联系方式:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.maintenanceTel))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.maintenanceTel))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位数据采集状态:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.enterpriseUnitDataStatusName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.enterpriseUnitDataStatusName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位服务模式:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.enterpriseUnitServiceModelName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.enterpriseUnitServiceModelName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位接入渠道:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.enterpriseUnitAccessChannelName))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.enterpriseUnitAccessChannelName))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"业主单位企业种类:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.yzdwzlLabel(e.unit.enterpriseUnitType)))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.yzdwzlLabel(e.unit.enterpriseUnitType)))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"公司类型:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.gslxLabel(e.unit.enterpriseCompanyType)))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.gslxLabel(e.unit.enterpriseCompanyType)))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"加盟类型:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.jmlxLabel(e.unit.joinType)))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.jmlxLabel(e.unit.joinType)))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.showLabel(e.unit.status)))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.showLabel(e.unit.status)))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"业主企业服务开始时间:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.enterpriseUnitServiceStartDate))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.enterpriseUnitServiceStartDate))])])],1),e._v(" "),l("el-form-item",{attrs:{label:"业主企业服务结束时间:"}},[l("el-tooltip",[l("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unit.enterpriseUnitServiceEndDate))]),e._v(" "),l("span",{staticClass:"span-show"},[e._v(e._s(e.unit.enterpriseUnitServiceEndDate))])])],1),e._v(" "),l("div",{staticStyle:{height:"100px"}})],1)],1)},[],!1,null,"e864422e",null));t.a=f.exports},1420:function(e,t,l){"use strict";l(76),l(61),l(316),l(50);var o=l(6),n=l(1147),r=l(1171),d={name:"StoriedSuilding",props:["facilitiesInData"],components:{Pagination:n.a,importUpload:r.a},data:function(){return{editFlag:!0,outFlagList:[{id:0,name:"室内"},{id:1,name:"室外"}],widgetInfo:{total:null,pageSize:6,pageNo:1},status:0,stateList:[{id:"",name:"全部"},{id:0,name:"在用"},{id:1,name:"停用"}],buildId:null,buildName:null,tableData:[],isLoading:!1,dialogFormVisible:!1,dialogExcelVisible:!1,plan:{},searchFormLabelWidth:"80px",formLabelWidth:"100%",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,uploadVal:{},buildClassList:[{id:"",name:"请选择"},{id:"01",name:"超高层建筑"},{id:"02",name:"一类高层建筑"},{id:"03",name:"二类高层建筑"},{id:"04",name:"高层厂房"},{id:"05",name:"高层库房"},{id:"06",name:"低层民用建筑"},{id:"07",name:"低层厂房"},{id:"08",name:"低层库房"},{id:"09",name:"地下建筑"},{id:"99",name:"其他建筑"}],fireRiskList:[{id:"",name:"请选择"},{id:"01",name:"甲"},{id:"02",name:"乙"},{id:"03",name:"丙"},{id:"04",name:"丁"},{id:"05",name:"戊"},{id:"06",name:"一类住宅建筑"},{id:"07",name:"二类住宅建筑"},{id:"08",name:"一类公共建筑"},{id:"09",name:"二类公共建筑"}],fireRatingList:[{id:"",name:"请选择"},{id:"1",name:"一级"},{id:"2",name:"二级"},{id:"3",name:"三级"},{id:"4",name:"四级"}],buildStructureList:[{id:"",name:"请选择"},{id:"1",name:"砖木结构"},{id:"2",name:"混合结构"},{id:"3",name:"轻钢结构"},{id:"4",name:"钢结构"},{id:"5",name:"钢筋混凝土结构"},{id:"9",name:"其他结构"}],hasFcroomList:[{id:"",name:"请选择"},{id:"0",name:"是"},{id:"1",name:"否"}]}},mounted:function(){},methods:{rest:function(){this.dialogFormVisible=!1,this.loadData("load")},closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},setImport:function(){this.dialogExcelVisible=!1,this.loadData("load")},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"楼栋"}},resetBtn:function(){this.buildId=null,this.buildName=null,this.status=0,this.loadData("search")},loadData:function(e){var t=this;this.isLoading=!0,"search"==e&&(this.widgetInfo.pageNo=1),o.a.post("/remoteApi/tool/build/findBuildForPage",{unitId:this.facilitiesInData.unitId,buildId:this.buildId,buildName:this.buildName,status:this.status,pageNo:this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.tableData=e.data.rows,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.id==e.status}).name}),t.widgetInfo.total=null===e.data.total?0:e.data.total):(t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData("load")},handleEditPlan:function(e,t){var l=this;this.optMode=e,"add"==e?(this.dialogFormVisible=!0,this.optTitle="新增",this.plan={},this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.editFlag=!1,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0})):"edit"==e?(this.dialogFormVisible=!0,this.optTitle="编辑",this.plan=JSON.parse(JSON.stringify(t)),this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.editFlag=!1,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0})):"delete"==e?this.deleteHandle(t):(this.dialogFormVisible=!0,this.optTitle="查看",this.plan=JSON.parse(JSON.stringify(t)),this.inputDisabled=!0,this.showSaveOrUpdate=!1,this.editFlag=!0,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0}))},deleteHandle:function(e){var t=this;t.plan=JSON.parse(JSON.stringify(e)),t.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isLoading=!0,o.a.post("/remoteApi/tool/build/deleteBuildById",{id:t.plan.id,userId:o.a.getGlobalVal("userObj").id,trailId:t.facilitiesInData.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.$message({message:"已停用",type:"success"}),t.loadData("search")):t.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}).catch(function(){})},saveOrUpdateForm:function(){Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var l in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[l]:("00"+t[l]).substr((""+t[l]).length)));return e};var e=this;null!=e.plan.constructionDate&&e.plan.constructionDate instanceof Date&&(e.plan.constructionDate=e.plan.constructionDate.format("yyyy-MM-dd")),null!=e.plan.completionDate&&e.plan.completionDate instanceof Date&&(e.plan.completionDate=e.plan.completionDate.format("yyyy-MM-dd")),null!=e.plan.putuseDate&&e.plan.putuseDate instanceof Date&&(e.plan.putuseDate=e.plan.putuseDate.format("yyyy-MM-dd"));var t=/^[0-9]+.?[0-9]*$/;if(!e.plan.areaCovered||t.test(e.plan.areaCovered))if(!e.plan.buildArea||t.test(e.plan.buildArea))if(!e.plan.buildHight||t.test(e.plan.buildHight))if(!e.plan.standardArea||t.test(e.plan.standardArea))if(!e.plan.longitude||t.test(e.plan.longitude))if(!e.plan.latitude||t.test(e.plan.latitude))if(!e.plan.upFloor||t.test(e.plan.upFloor))if(!e.plan.upArea||t.test(e.plan.upArea))if(!e.plan.downFloor||t.test(e.plan.downFloor))if(!e.plan.refugeCount||t.test(e.plan.refugeCount))if(!e.plan.refugeArea||t.test(e.plan.refugeArea))if(!e.plan.tunnelHight||t.test(e.plan.tunnelHight))if(!e.plan.tunnelLength||t.test(e.plan.tunnelLength))if(!e.plan.exitNum||t.test(e.plan.exitNum))if(!e.plan.stairsNum||t.test(e.plan.stairsNum))if(!e.plan.elevatorCount||t.test(e.plan.elevatorCount))if(!e.plan.fcroomNum||t.test(e.plan.fcroomNum))if(!e.plan.allelevatorCount||t.test(e.plan.allelevatorCount))if(!e.plan.maxPerson||t.test(e.plan.maxPerson))if("add"==e.optMode){if(!e.plan.buildName)return void this.$message({type:"warning",message:"楼栋名称必填"});if(""===e.plan.outFlag||null===e.plan.outFlag||void 0===e.plan.outFlag)return void this.$message({type:"warning",message:"请选择室内外"});e.plan.createUserId=o.a.getGlobalVal("userObj").id,e.plan.unitId=this.facilitiesInData.unitId,e.plan.trailId=e.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/build/addBuild",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success"}),e.loadData("search")):e.$message({message:"保存失败",type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})}else if("edit"==e.optMode){if(""==e.plan.buildName||null==e.plan.outFlag)return void this.$message({type:"warning",message:"楼栋名称必填"});if(""===e.plan.outFlag||null===e.plan.outFlag||void 0===e.plan.outFlag)return void this.$message({type:"warning",message:"请选择室内外"});e.plan.updateUser=o.a.getGlobalVal("userObj").id,e.plan.unitId=this.facilitiesInData.unitId,e.plan.trailId=e.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/build/updateBuildByBuildId",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"更新成功",type:"success"}),e.loadData("load")):e.$message({message:"更新失败",type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})}else console.log("异常保存或更新模式");else e.$message({message:"最大容纳人数请输入数字",type:"warning"});else e.$message({message:"所有电梯个数请输入数字",type:"warning"});else e.$message({message:"消控室数量请输入数字",type:"warning"});else e.$message({message:"消防电梯个数请输入数字",type:"warning"});else e.$message({message:"疏散楼梯数请输入数字",type:"warning"});else e.$message({message:"楼栋安全出口数请输入数字",type:"warning"});else e.$message({message:"隧道长度输入数字",type:"warning"});else e.$message({message:"隧道高度请输入数字",type:"warning"});else e.$message({message:"避难层面积请输入数字",type:"warning"});else e.$message({message:"避难层数量请输入数字",type:"warning"});else e.$message({message:"地下层数请输入数字",type:"warning"});else e.$message({message:"地上面积请输入数字",type:"warning"});else e.$message({message:"地上层数请输入数字",type:"warning"});else e.$message({message:"纬度请输入数字",type:"warning"});else e.$message({message:"经度请输入数字",type:"warning"});else e.$message({message:"标准层面积输入数字",type:"warning"});else e.$message({message:"建筑高度输入数字",type:"warning"});else e.$message({message:"建筑面积请输入数字",type:"warning"});else e.$message({message:"占地面积请输入数字",type:"warning"})}}},c=(l(1649),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"楼栋ID:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.buildId,callback:function(t){e.buildId=t},expression:"buildId"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"楼栋名称","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.buildName,callback:function(t){e.buildName=t},expression:"buildName"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"状态:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",staticStyle:{width:"40%"},attrs:{label:""}},[l("el-button",{on:{click:e.resetBtn}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"20%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"buildId",label:"楼栋ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"buildArea",label:"建筑面积"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"areaCovered",label:"占地面积"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"standardArea",label:"标准层面积"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"stateName",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"15%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"0"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{ref:"dialogScoll",staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,"label-position":"left",inline:""}},["add"!=e.optMode?l("el-form-item",{attrs:{label:"楼栋ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId",t)},expression:"plan.buildId"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"建筑物名称:","label-width":e.formLabelWidth,rules:{required:!0,message:"建筑物名称不能为空",trigger:"blur"}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildName,callback:function(t){e.$set(e.plan,"buildName",t)},expression:"plan.buildName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"室内室外:","label-width":e.formLabelWidth,rules:{required:!0,message:"室内室外不能为空",trigger:"blur"}}},[l("el-select",{attrs:{disabled:e.inputDisabled,size:"mini",filterable:"",placeholder:"请选择"},model:{value:e.plan.outFlag,callback:function(t){e.$set(e.plan,"outFlag",t)},expression:"plan.outFlag"}},e._l(e.outFlagList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"占地面积(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.areaCovered,callback:function(t){e.$set(e.plan,"areaCovered",t)},expression:"plan.areaCovered"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑面积(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.buildArea,callback:function(t){e.$set(e.plan,"buildArea",t)},expression:"plan.buildArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑高度(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.buildHight,callback:function(t){e.$set(e.plan,"buildHight",t)},expression:"plan.buildHight"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"标准层面积(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.standardArea,callback:function(t){e.$set(e.plan,"standardArea",t)},expression:"plan.standardArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"经度(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.longitude,callback:function(t){e.$set(e.plan,"longitude",t)},expression:"plan.longitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"纬度(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.latitude,callback:function(t){e.$set(e.plan,"latitude",t)},expression:"plan.latitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建造日期:","label-width":e.formLabelWidth}},[l("el-date-picker",{attrs:{size:e.formLabelWidth,disabled:e.inputDisabled,type:"date",placeholder:"选择建造日期"},model:{value:e.plan.constructionDate,callback:function(t){e.$set(e.plan,"constructionDate",t)},expression:"plan.constructionDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"竣工日期:","label-width":e.formLabelWidth}},[l("el-date-picker",{attrs:{size:e.formLabelWidth,disabled:e.inputDisabled,type:"date",placeholder:"选择竣工日期"},model:{value:e.plan.completionDate,callback:function(t){e.$set(e.plan,"completionDate",t)},expression:"plan.completionDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"投入使用日期:","label-width":e.formLabelWidth}},[l("el-date-picker",{attrs:{size:e.formLabelWidth,disabled:e.inputDisabled,type:"date",placeholder:"选择投入使用日期"},model:{value:e.plan.putuseDate,callback:function(t){e.$set(e.plan,"putuseDate",t)},expression:"plan.putuseDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑物类型:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"建筑物类型"},model:{value:e.plan.buildClass,callback:function(t){e.$set(e.plan,"buildClass","string"==typeof t?t.trim():t)},expression:"plan.buildClass"}},e._l(e.buildClassList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"火灾危险性:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"火灾危险性"},model:{value:e.plan.fireRisk,callback:function(t){e.$set(e.plan,"fireRisk","string"==typeof t?t.trim():t)},expression:"plan.fireRisk"}},e._l(e.fireRiskList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"防火等级:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"防火等级"},model:{value:e.plan.fireRating,callback:function(t){e.$set(e.plan,"fireRating","string"==typeof t?t.trim():t)},expression:"plan.fireRating"}},e._l(e.fireRatingList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑结构:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"建筑结构"},model:{value:e.plan.buildStructure,callback:function(t){e.$set(e.plan,"buildStructure","string"==typeof t?t.trim():t)},expression:"plan.buildStructure"}},e._l(e.buildStructureList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"地上层数(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.upFloor,callback:function(t){e.$set(e.plan,"upFloor",t)},expression:"plan.upFloor"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地上面积(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.upArea,callback:function(t){e.$set(e.plan,"upArea",t)},expression:"plan.upArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地下层数(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.downFloor,callback:function(t){e.$set(e.plan,"downFloor",t)},expression:"plan.downFloor"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"避难层数量(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.refugeCount,callback:function(t){e.$set(e.plan,"refugeCount",t)},expression:"plan.refugeCount"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"避难层面积(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.refugeArea,callback:function(t){e.$set(e.plan,"refugeArea",t)},expression:"plan.refugeArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"避难层位置(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.refugeSite,callback:function(t){e.$set(e.plan,"refugeSite",t)},expression:"plan.refugeSite"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"隧道高度(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.tunnelHight,callback:function(t){e.$set(e.plan,"tunnelHight",t)},expression:"plan.tunnelHight"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"隧道长度(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.tunnelLength,callback:function(t){e.$set(e.plan,"tunnelLength",t)},expression:"plan.tunnelLength"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"楼栋安全出口数:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.exitNum,callback:function(t){e.$set(e.plan,"exitNum",t)},expression:"plan.exitNum"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"疏散楼梯数(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.stairsNum,callback:function(t){e.$set(e.plan,"stairsNum",t)},expression:"plan.stairsNum"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防电梯个数(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.elevatorCount,callback:function(t){e.$set(e.plan,"elevatorCount",t)},expression:"plan.elevatorCount"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否有消控室:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"请选择"},model:{value:e.plan.hasFcroom,callback:function(t){e.$set(e.plan,"hasFcroom","string"==typeof t?t.trim():t)},expression:"plan.hasFcroom"}},e._l(e.hasFcroomList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室数量(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.fcroomNum,callback:function(t){e.$set(e.plan,"fcroomNum",t)},expression:"plan.fcroomNum"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室名称:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fcroomName,callback:function(t){e.$set(e.plan,"fcroomName",t)},expression:"plan.fcroomName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室位置:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fcroomSite,callback:function(t){e.$set(e.plan,"fcroomSite",t)},expression:"plan.fcroomSite"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防室电话:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fcroomTelephone,callback:function(t){e.$set(e.plan,"fcroomTelephone",t)},expression:"plan.fcroomTelephone"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防工程设计单位:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.designUnit,callback:function(t){e.$set(e.plan,"designUnit",t)},expression:"plan.designUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建造单位:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildUnit,callback:function(t){e.$set(e.plan,"buildUnit",t)},expression:"plan.buildUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"维保单位:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.maintenanceUnit,callback:function(t){e.$set(e.plan,"maintenanceUnit",t)},expression:"plan.maintenanceUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"竣工验收检测单位:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.acceptanceUnit,callback:function(t){e.$set(e.plan,"acceptanceUnit",t)},expression:"plan.acceptanceUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"历年年度检测单位:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.detectionUnit,callback:function(t){e.$set(e.plan,"detectionUnit",t)},expression:"plan.detectionUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"维保单位联系方式:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.maintenanceTel,callback:function(t){e.$set(e.plan,"maintenanceTel",t)},expression:"plan.maintenanceTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"所有电梯个数(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.allelevatorCount,callback:function(t){e.$set(e.plan,"allelevatorCount",t)},expression:"plan.allelevatorCount"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑物、楼栋的立面图:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildImg,callback:function(t){e.$set(e.plan,"buildImg",t)},expression:"plan.buildImg"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"系统图:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.systemDiagram,callback:function(t){e.$set(e.plan,"systemDiagram",t)},expression:"plan.systemDiagram"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"室外消防管网设计平面图:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.outdoor_pipenetwork,callback:function(t){e.$set(e.plan,"outdoor_pipenetwork",t)},expression:"plan.outdoor_pipenetwork"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"其他建筑楼栋图纸:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.otherDrawing,callback:function(t){e.$set(e.plan,"otherDrawing",t)},expression:"plan.otherDrawing"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"建筑物位置:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildSite,callback:function(t){e.$set(e.plan,"buildSite",t)},expression:"plan.buildSite"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"子类:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildSubClass,callback:function(t){e.$set(e.plan,"buildSubClass",t)},expression:"plan.buildSubClass"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"子使用性质:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildSubUsed,callback:function(t){e.$set(e.plan,"buildSubUsed",t)},expression:"plan.buildSubUsed"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"使用性质:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildUsed,callback:function(t){e.$set(e.plan,"buildUsed",t)},expression:"plan.buildUsed"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"产权情况:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.propertyRight,callback:function(t){e.$set(e.plan,"propertyRight",t)},expression:"plan.propertyRight"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"最大容纳人数(数字):","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.maxPerson,callback:function(t){e.$set(e.plan,"maxPerson",t)},expression:"plan.maxPerson"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.rest}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.saveOrUpdateForm}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"c4bcf04c",null);t.a=component.exports},1421:function(e,t,l){"use strict";l(50),l(316);var o=l(6),n=l(1147),r=l(1171),d={name:"Floor",components:{Pagination:n.a,importUpload:r.a},props:["facilitiesInData"],data:function(){return{labelPosition:"left",buildList:[],status:0,stateList:[{id:"",name:"全部"},{id:0,name:"在用"},{id:1,name:"停用"}],foolFlagList:[{id:"U",name:"地上"},{id:"D",name:"地下"}],buildId:null,buildName:null,floorId:null,floorName:null,widgetInfo:{total:null,pageSize:6,pageNo:1},tableData:[],isLoading:!1,dialogFormVisible:!1,dialogExcelVisible:!1,plan:{floorFlag:"U"},searchFormLabelWidth:"80px",formLabelWidth:"140px",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,uploadVal:{},floorShow:!1,floorShowAdd:!1,floorShowEdit:!1,floorNoShow:!1}},mounted:function(){this.findBuildByUnitId()},methods:{rest:function(){this.dialogFormVisible=!1,this.loadData("load")},closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},setImport:function(data){console.log(data),this.dialogExcelVisible=!1,this.loadData()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"楼层"}},resetBtn:function(){this.buildId=null,this.buildName=null,this.floorId=null,this.floorName=null,this.status=0,this.loadData("search")},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){e.isLoading=!1,t&&"success"===t.code?e.buildList=t.data:console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getBuildName:function(e){this.plan.buildName=this.buildList.find(function(t){return t.buildId===e}).buildName},loadData:function(e){var t=this;this.isLoading=!0,"search"==e&&(this.widgetInfo.pageNo=1),o.a.post("/remoteApi/tool/floor/findFloorPage",{unitId:this.facilitiesInData.unitId,buildId:this.buildId,floorId:this.floorId,floorName:this.floorName,status:this.status,pageNo:this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){e&&"success"===e.code?(t.isLoading=!1,t.tableData=e.data.rows,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.id==e.floorStatus}).name}),t.widgetInfo.total=null===e.data.total?0:e.data.total):(t.isLoading=!1,t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData("load")},handleEditPlan:function(e,t){this.optMode=e,this.floorShow=!1,this.floorNoShow=!0,"add"==e?(this.dialogFormVisible=!0,this.floorShowAdd=!0,this.floorShowEdit=!1,this.floorShow=!1,this.optTitle="新增",this.plan={},this.inputDisabled=!1,this.showSaveOrUpdate=!0):"edit"==e?(this.dialogFormVisible=!0,this.floorShowAdd=!1,this.floorShowEdit=!0,this.floorShow=!0,this.optTitle="编辑",this.plan=JSON.parse(JSON.stringify(t)),this.viewHandle(this.plan),console.log(this.plan),this.inputDisabled=!1,this.showSaveOrUpdate=!0):"delete"==e?this.deleteHandle(t):(this.dialogFormVisible=!0,this.floorNoShow=!1,this.floorShowAdd=!1,this.floorShowEdit=!0,this.floorShow=!0,this.optTitle="查看",this.plan=JSON.parse(JSON.stringify(t)),this.inputDisabled=!0,this.showSaveOrUpdate=!1,this.viewHandle(this.plan))},viewHandle:function(e){var t=this;t.isLoading=!0,o.a.get("/remoteApi/tool/floor/getFloorByFloorId",{floorId:e.floorId}).then(function(e){t.isLoading=!1,e&&"success"===e.code?t.plan=e.data:t.$message({message:"获取失败",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})},deleteHandle:function(e){var t=this;t.plan=JSON.parse(JSON.stringify(e)),t.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isLoading=!0,o.a.post("/remoteApi/tool/floor/deleteFloorById",{id:t.plan.id,userId:o.a.getGlobalVal("userObj").id,trialId:t.facilitiesInData.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.$message({message:"已停用",type:"success"}),t.loadData("search")):t.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}).catch(function(){})},saveOrUpdateForm:function(){var e=this,t=/^[0-9]+.?[0-9]*$/;if(null!=e.plan.buildId&&""!=e.plan.buildId)if(null!=e.plan.floorName&&""!=e.plan.floorName)if(!e.plan.buildArea||t.test(e.plan.buildArea))if("add"==e.optMode){if(e.plan.createUserId=o.a.getGlobalVal("userObj").id,e.plan.unitId=this.facilitiesInData.unitId,e.plan.trialId=e.facilitiesInData.id,e.isLoading=!0,!e.plan.floorFlag)return void e.$message({type:"warning",message:"floorFlag不能为空"});if(!t.test(e.plan.floorNo))return void e.$message({message:"楼层编号请输入数字",type:"error"});o.a.post("/remoteApi/tool/floor/addFloor",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success"}),e.loadData("search")):e.$message({message:t.rspMsg,type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})}else"edit"==e.optMode?(e.plan.updateUser=o.a.getGlobalVal("userObj").id,e.plan.unitId=this.facilitiesInData.unitId,e.plan.trialId=e.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/floor/updateFloorByFloorId",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"更新成功",type:"success"}),e.loadData("load")):e.$message({message:"更新失败",type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})):console.log("异常保存或更新模式");else e.$message({message:"建筑面积请输入数字",type:"error"});else e.$message({type:"warning",message:"楼层名称不能为空"});else e.$message({type:"warning",message:"请选择楼栋"})}}},c=(l(1651),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":e.labelPosition,inline:""}},[l("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"楼栋:"}},[l("el-select",{attrs:{filterable:"",placeholder:"楼栋信息"},model:{value:e.buildId,callback:function(t){e.buildId="string"==typeof t?t.trim():t},expression:"buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.buildId,attrs:{label:e.buildName,value:e.buildId}})}),1)],1),e._v(" "),l("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"楼层ID:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.floorId,callback:function(t){e.floorId=t},expression:"floorId"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"楼层名称:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.floorName,callback:function(t){e.floorName=t},expression:"floorName"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"15%"},attrs:{label:"状态:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right"},[l("el-button",{on:{click:e.resetBtn}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"floorId",label:"楼层ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"floorName",label:"楼层名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"code",label:"楼层号"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"createTime",label:"创建时间"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"stateName",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"15%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"0"!=t.row.floorStatus},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:",rules:{required:!0}}},[l("el-select",{attrs:{autocomplete:"off",disabled:e.inputDisabled,placeholder:"楼栋信息",filterable:""},on:{change:e.getBuildName},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId","string"==typeof t?t.trim():t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.buildId,attrs:{label:e.buildName,value:e.buildId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层名称:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.floorName,callback:function(t){e.$set(e.plan,"floorName",t)},expression:"plan.floorName"}})],1),e._v(" "),e.floorShow?[l("el-form-item",{attrs:{label:"楼层ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId",t)},expression:"plan.floorId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层号:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:e.plan.code,callback:function(t){e.$set(e.plan,"code",t)},expression:"plan.code"}})],1)]:e._e(),e._v(" "),e.floorShowAdd?[l("el-form-item",{attrs:{label:"楼层编号:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",maxlength:"3","show-word-limit":"",placeholder:"例如001,顶层999"},model:{value:e.plan.floorNo,callback:function(t){e.$set(e.plan,"floorNo",t)},expression:"plan.floorNo"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"floorFlag:","label-width":e.formLabelWidth,rules:{required:!0,message:"地上地下不能为空",trigger:"blur"}}},[l("el-select",{attrs:{disabled:e.inputDisabled,size:"mini",filterable:"",placeholder:"请选择"},model:{value:e.plan.floorFlag,callback:function(t){e.$set(e.plan,"floorFlag",t)},expression:"plan.floorFlag"}},e._l(e.foolFlagList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)]:e._e(),e._v(" "),l("el-form-item",{attrs:{label:"平面图路径:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.floorAreaImg,callback:function(t){e.$set(e.plan,"floorAreaImg",t)},expression:"plan.floorAreaImg"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"面积（㎡）:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildArea,callback:function(t){e.$set(e.plan,"buildArea",t)},expression:"plan.buildArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1)],2),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.rest}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateForm("plan")}}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"ae5c9c16",null);t.a=component.exports},1422:function(e,t,l){"use strict";l(50),l(316);var o=l(6),n=l(1147),r=l(1171),d={name:"Equipment",components:{Pagination:n.a,importUpload:r.a},props:["facilitiesInData"],data:function(){return{dialogExcelVisible:!1,uploadVal:{},deviceIdShow:!1,buildList:[],floorList:[],formInline:{buildId:null,buildName:null,floorId:null,floorName:null,deviceId:null,deviceName:null,deviceTypeIds:null,deviceSys:"00000000",device:"00000000",sourceId:"",laMake:"",laLoop:"",laPoint:"",controlHost:""},status:0,stateList:[{value:"",label:"全部"},{value:0,label:"在用"},{value:1,label:"停用"}],terminalList:[{value:"",label:"暂不填"},{value:0,label:"是"},{value:1,label:"否"}],deviceSys:[{value:"00000000",label:"全部"}],optsTemp:[{value:"00000000",label:"全部"}],widgetInfo:{total:null,pageSize:6,pageNo:1},columnList:[],tableData:[],isLoading:!1,dialogFormVisible:!1,plan:{floorId:null},visible:!1,dynamicValidateForm:{domains:[{columnKey:"",columnValue:"",textKey:"",textValue:""}]},searchFormLabelWidth:"80px",formLabelWidth:"100%",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,ZS:{MONITOR:{}}}},mounted:function(){this.findBuildByUnitId(),this.createDeviceTypeSelect(),this.getColumnList()},methods:{cancelHandel:function(){this.dialogFormVisible=!1,this.plan={},console.log(this.plan),this.loadData("load")},closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},setImport:function(){this.dialogExcelVisible=!1,this.loadData("load")},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"设备"}},resetBtn:function(){var e=this.formInline;e.buildId=null,e.buildName=null,e.floorId=null,e.floorName=null,e.deviceName=null,e.deviceId=null,e.deviceTypeIds=null,this.ZS.MONITOR.deviceQueryType=null,e.deviceSys="00000000",e.device="00000000",e.sourceId=null,e.laMake=null,e.laLoop=null,e.laPoint=null,e.controlHost=null,this.status=0,this.loadData("search")},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){e.isLoading=!1,t&&"success"===t.code?e.buildList=t.data:console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e,t){var l=this;this.floorList=null,this.formInline.floorId=null,this.plan.floorId=null,o.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){e&&"success"===e.code?(l.floorList=e.data,t&&(t=t())):console.log("没有数据")}).catch(function(e){l.isLoading=!1,l.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfoName:function(e){this.plan.floorName=this.floorList.find(function(t){return t.floorId===e}).floorName},getColumnList:function(){var e=this;this.isLoading=!0,o.a.get("/remoteApi/tool/deviceInfo/getUpdateFiled").then(function(t){if(e.isLoading=!1,t&&"success"===t.code)for(var l in t.data){var o={};o.label=t.data[l],o.value=l,e.columnList.push(o)}else console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,"search"==e&&(this.widgetInfo.pageNo=1),o.a.post("/remoteApi/tool/deviceInfo/findDeviceInfoPage",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,floorId:this.formInline.floorId,deviceId:this.formInline.deviceId,deviceName:this.formInline.deviceName,deviceTypeIds:this.ZS.MONITOR.deviceQueryType,status:this.status,sourceId:this.formInline.sourceId,laMake:this.formInline.laMake,laLoop:this.formInline.laLoop,laPoint:this.formInline.laPoint,controlHost:this.formInline.controlHost,pageNo:this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){e&&"success"===e.code?(t.isLoading=!1,t.tableData=e.data.rows,t.widgetInfo.total=null===e.data.total?0:e.data.total,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label})):(t.isLoading=!1,t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData("load")},createDeviceTypeSelect:function(){var e=this;e.ZS.MONITOR.deviceQueryType="",o.a.post("/remoteApi/tool/deviceInfo/getDeviceTypeInfoList").then(function(data){data=data.data||[];if(e.ZS.MONITOR.deviceType=e.toTreeData(data),null!=e.ZS.MONITOR.deviceType[0]){var t=e.ZS.MONITOR.deviceType[0].children;for(var l in t){var o={};o.value=t[l].id,o.label=t[l].name,e.deviceSys.push(o)}}})},selectDeviceSys:function(e){if(this.optsTemp=[{value:"00000000",label:"全部"}],this.formInline.device="00000000","00000000"==e)this.ZS.MONITOR.deviceQueryType=null;else if(null!=this.ZS.MONITOR.deviceType[0]){var t=this.ZS.MONITOR.deviceType[0].children;for(var l in t)if(t[l].id==e){var o="",n=t[l].children;for(var r in this.options=[],n){var d={};d.value=n[r].id,d.label=n[r].name,this.optsTemp.push(d),this.options.push(d),o=o+","+d.value}o.length>0&&(this.ZS.MONITOR.deviceQueryType=o.substr(1))}}},selectDevice:function(e){if("00000000"==e){var t="";for(var l in this.options)"00000000"!=this.options[l].value&&(t=t+","+this.options[l].value);t.length>0&&(this.ZS.MONITOR.deviceQueryType=t.substr(1))}else this.ZS.MONITOR.deviceQueryType=e},createDeviceStatusSelect:function(){},toTreeData:function(data){for(var e={},t=[],i=0;0!=data.length;){if(-1==data[i].parentid)t.push({id:data[i].id,name:data[i].name,children:[]}),e[data[i].id]=[t.length-1],data.splice(i,1),i--;else{var l=e[data[i].parentid];if(null!=l){for(var o=t[l[0]],n=1;n<l.length;n++)o=o.children[l[n]];o.children.push({id:data[i].id,name:data[i].name,children:[]}),e[data[i].id]=l.concat([o.children.length-1]),data.splice(i,1),i--}}++i>data.length-1&&(i=0)}return t},handleEditPlan:function(e,t){var l=this;this.optMode=e,"add"==e?(this.dialogFormVisible=!0,this.optTitle="新增",this.plan={floorId:null},this.deviceIdShow=!1,this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0})):"edit"==e?(this.dialogFormVisible=!0,this.deviceIdShow=!1,this.optTitle="编辑",this.viewHandle(t),this.getFloorInfo(t.buildId,function(){l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.trialId=l.facilitiesInData.id}),this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0})):"delete"==e?(this.dialogFormVisible=!1,this.deleteHandle(t)):(this.dialogFormVisible=!0,this.deviceIdShow=!0,this.optTitle="查看",this.viewHandle(t),this.getFloorInfo(t.buildId,function(){l.plan.cretedBy=o.a.getGlobalVal("userObj").id}),this.inputDisabled=!0,this.showSaveOrUpdate=!1,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0}))},viewHandle:function(e){var t=this;t.isLoading=!0,o.a.get("/remoteApi/tool/deviceInfo/getDeviceById",{id:e.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?t.plan=e.data:t.$message({message:"获取失败",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})},deleteHandle:function(e){var t=this;t.plan=JSON.parse(JSON.stringify(e)),t.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isLoading=!0,o.a.post("/remoteApi/tool/deviceInfo/deleteDeviceInfoById",{id:t.plan.id,userId:o.a.getGlobalVal("userObj").id,trailId:t.facilitiesInData.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.$message({message:"已停用",type:"success"}),t.loadData("search")):t.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}).catch(function(){})},saveOrUpdateForm:function(){var e=this,t=/^[0-9]+.?[0-9]*$/;if(!e.plan.longitude||t.test(e.plan.longitude))if(!e.plan.latitude||t.test(e.plan.latitude))if(!e.plan.mapX||t.test(e.plan.mapX))if(!e.plan.mapY||t.test(e.plan.mapY))if("add"==e.optMode){if(""==e.plan.buildId||null==e.plan.buildId)return void e.$message({type:"warning",message:"请选择楼栋"});if(""==e.plan.floorId||null==e.plan.floorId)return void e.$message({type:"warning",message:"请选择楼层"});if(""==e.plan.deviceName||null==e.plan.deviceName)return void e.$message({type:"warning",message:"设备名称不能为空"});e.plan.createUserId=o.a.getGlobalVal("userObj").id,e.plan.unitId=e.facilitiesInData.unitId,e.plan.trailId=e.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/deviceInfo/addRecordDevice",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success"}),e.loadData("search")):e.$message({message:"保存失败",type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})}else if("edit"==e.optMode){if(""==e.plan.buildId||null==e.plan.buildId)return void e.$message({type:"warning",message:"请选择楼栋"});if(""==e.plan.floorId||null==e.plan.floorId)return void e.$message({type:"warning",message:"请选择楼层"});if(""==e.plan.deviceName||null==e.plan.deviceName)return void e.$message({type:"warning",message:"设备名称不能为空"});e.plan.updateUser=o.a.getGlobalVal("userObj").id,e.plan.unitId=e.facilitiesInData.unitId,e.plan.trailId=e.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/deviceInfo/updateRecordDeviceByDeviceId",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"更新成功",type:"success"}),e.loadData("load")):e.$message({message:"更新失败",type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})}else console.log("异常保存或更新模式");else e.$message({message:"百度坐标Y为数字",type:"warning"});else e.$message({message:"百度坐标X为数字",type:"warning"});else e.$message({message:"纬度请输入数字",type:"warning"});else e.$message({message:"经度请输入数字",type:"warning"})},batchUpdate:function(){for(var i=0;i<this.dynamicValidateForm.domains.length;i++)i>0?this.dynamicValidateForm.domains.splice(i,1):(this.dynamicValidateForm.domains[i].columnKey=null,this.dynamicValidateForm.domains[i].textKey=null,this.dynamicValidateForm.domains[i].columnValue=null,this.dynamicValidateForm.domains[i].textValue=null);this.visible=!0},batchSubmitForm:function(e){for(var t=this,l=this,n="",i=0;i<l.dynamicValidateForm.domains.length;i++)n=l.dynamicValidateForm.domains[i].columnValue+"="+l.dynamicValidateForm.domains[i].textValue;l.$refs[e].validate(function(e){if(!e)return console.log("批量更新校验失败"),!1;l.isLoading=!0,o.a.post("/remoteApi/tool/deviceInfo/batchUpdateDeviceByCondition",{unitId:t.facilitiesInData.unitId,orgCode:t.facilitiesInData.subCenterCode,trialId:t.facilitiesInData.id,buildId:t.formInline.buildId,floorId:t.formInline.floorId,deviceId:t.formInline.deviceId,deviceName:t.formInline.deviceName,deviceTypeIds:t.ZS.MONITOR.deviceQueryType,keyValueStr:n,userId:o.a.getGlobalVal("userObj").id,sourceId:t.formInline.sourceId,laMake:t.formInline.laMake,laLoop:t.formInline.laLoop,laPoint:t.formInline.laPoint,controlHost:t.formInline.controlHost}).then(function(e){if(l.isLoading=!1,e&&"success"===e.code)l.visible=!1,l.$message({message:"更新成功",type:"success"}),l.loadData("search");else{if(e.message)return void l.$message({message:e.message,type:"error"});if(e.rspMsg)return void l.$message({message:e.rspMsg,type:"error"})}}).catch(function(e){console.log(e),l.isLoading=!1})})},resetForm:function(e){this.$refs[e].resetFields()},removeDomain:function(e){var t=this.dynamicValidateForm.domains.indexOf(e);-1!==t&&this.dynamicValidateForm.domains.splice(t,1)},addDomain:function(){this.dynamicValidateForm.domains.push({columnKey:"columnKey:"+Date.now(),columnValue:"",textKey:"textKey:"+Date.now(),textValue:""})}}},c=(l(1653),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:"}},[l("el-select",{attrs:{placeholder:"楼栋信息",filterable:""},on:{change:e.getFloorInfo},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.buildId,attrs:{label:e.buildName,value:e.buildId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:"}},[l("el-select",{attrs:{filterable:"",placeholder:"楼层信息"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId","string"==typeof t?t.trim():t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.floorId,attrs:{label:e.floorName,value:e.floorId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设备ID:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.deviceId,callback:function(t){e.$set(e.formInline,"deviceId",t)},expression:"formInline.deviceId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备名称:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.deviceName,callback:function(t){e.$set(e.formInline,"deviceName",t)},expression:"formInline.deviceName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设施系统:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{placeholder:"设施系统"},on:{change:e.selectDeviceSys},model:{value:e.formInline.deviceSys,callback:function(t){e.$set(e.formInline,"deviceSys","string"==typeof t?t.trim():t)},expression:"formInline.deviceSys"}},e._l(e.deviceSys,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设施:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{placeholder:"全部"},on:{change:e.selectDevice},model:{value:e.formInline.device,callback:function(t){e.$set(e.formInline,"device","string"==typeof t?t.trim():t)},expression:"formInline.device"}},e._l(e.optsTemp,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"厂家标识:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.sourceId,callback:function(t){e.$set(e.formInline,"sourceId",t)},expression:"formInline.sourceId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"机号:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.laMake,callback:function(t){e.$set(e.formInline,"laMake",t)},expression:"formInline.laMake"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"18.75%"},attrs:{label:"回路:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.laLoop,callback:function(t){e.$set(e.formInline,"laLoop",t)},expression:"formInline.laLoop"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"18.75%"},attrs:{label:"点位:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.laPoint,callback:function(t){e.$set(e.formInline,"laPoint",t)},expression:"formInline.laPoint"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"18.75%"},attrs:{label:"用传编码:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.controlHost,callback:function(t){e.$set(e.formInline,"controlHost",t)},expression:"formInline.controlHost"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"18.75%"},attrs:{label:"状态:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right"},[l("el-button",{on:{click:e.resetBtn}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"primary"},on:{click:e.batchUpdate}},[e._v("批量修改")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"7%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"deviceId",label:"设备Id"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"deviceName",label:"设备名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"deviceTypeName",label:"设备类型"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"deviceAddress",label:"设备地址"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"laLoop",label:"机号回路点位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.row.laMake)+"-"+e._s(t.row.laLoop)+"-"+e._s(t.row.laPoint)+"\n                    ")]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"7%","show-overflow-tooltip":!0,prop:"twoCode",label:"二次码"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"7%","show-overflow-tooltip":!0,prop:"sourceId",label:"sourceId"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"controlHost",label:"controlHost"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"12%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"0"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{ref:"dialogScoll",staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:",rules:{required:!0,message:"楼栋不能为空",trigger:"blur"}}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"楼栋信息"},on:{change:e.getFloorInfo},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId","string"==typeof t?t.trim():t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.buildId,attrs:{label:e.buildName,value:e.buildId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",rules:{required:!0,message:"楼层不能为空",trigger:"blur"}}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"楼层信息"},on:{change:e.getFloorInfoName},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId","string"==typeof t?t.trim():t)},expression:"plan.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.floorId,attrs:{label:e.floorName,value:e.floorId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设备名称:","label-width":e.formLabelWidth,rules:{required:!0,message:"设备名称不能为空",trigger:"blur"}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceName,callback:function(t){e.$set(e.plan,"deviceName",t)},expression:"plan.deviceName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"用户信息传输装置:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.controlHost,callback:function(t){e.$set(e.plan,"controlHost",t)},expression:"plan.controlHost"}})],1),e._v(" "),"add"!=e.optMode?l("el-form-item",{attrs:{label:"设备ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:"","auto-complete":"off"},model:{value:e.plan.deviceId,callback:function(t){e.$set(e.plan,"deviceId",t)},expression:"plan.deviceId"}})],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"设备地址:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceAddress,callback:function(t){e.$set(e.plan,"deviceAddress",t)},expression:"plan.deviceAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"机号:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.laMake,callback:function(t){e.$set(e.plan,"laMake",t)},expression:"plan.laMake"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"回路:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.laLoop,callback:function(t){e.$set(e.plan,"laLoop",t)},expression:"plan.laLoop"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"位置:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.laPoint,callback:function(t){e.$set(e.plan,"laPoint",t)},expression:"plan.laPoint"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"二次码:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.twoCode,callback:function(t){e.$set(e.plan,"twoCode",t)},expression:"plan.twoCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"经度:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.longitude,callback:function(t){e.$set(e.plan,"longitude",t)},expression:"plan.longitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"纬度:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.latitude,callback:function(t){e.$set(e.plan,"latitude",t)},expression:"plan.latitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备类型父ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTypePid,callback:function(t){e.$set(e.plan,"deviceTypePid",t)},expression:"plan.deviceTypePid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备类型:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTypeId,callback:function(t){e.$set(e.plan,"deviceTypeId",t)},expression:"plan.deviceTypeId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"阈值:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.threshold,callback:function(t){e.$set(e.plan,"threshold",t)},expression:"plan.threshold"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"蓝牙ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.bluetoothId,callback:function(t){e.$set(e.plan,"bluetoothId",t)},expression:"plan.bluetoothId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"品牌:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.brand,callback:function(t){e.$set(e.plan,"brand",t)},expression:"plan.brand"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"生产日期:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.manufactureDate,callback:function(t){e.$set(e.plan,"manufactureDate",t)},expression:"plan.manufactureDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"启用日期:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.enableDate,callback:function(t){e.$set(e.plan,"enableDate",t)},expression:"plan.enableDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"有效期:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.validityDate,callback:function(t){e.$set(e.plan,"validityDate",t)},expression:"plan.validityDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"施工单位:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.constructionUnit,callback:function(t){e.$set(e.plan,"constructionUnit",t)},expression:"plan.constructionUnit"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"清洗期限:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.cleanDeadline,callback:function(t){e.$set(e.plan,"cleanDeadline",t)},expression:"plan.cleanDeadline"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"历次清洗时间:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.clean_time,callback:function(t){e.$set(e.plan,"clean_time",t)},expression:"plan.clean_time"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"用电负荷:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.powerLoad,callback:function(t){e.$set(e.plan,"powerLoad",t)},expression:"plan.powerLoad"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"供电电压:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.powersupplyVoltage,callback:function(t){e.$set(e.plan,"powersupplyVoltage",t)},expression:"plan.powersupplyVoltage"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"输出功率:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.outputPower,callback:function(t){e.$set(e.plan,"outputPower",t)},expression:"plan.outputPower"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"供电负荷:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.powersupplyLoad,callback:function(t){e.$set(e.plan,"powersupplyLoad",t)},expression:"plan.powersupplyLoad"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"发电功率:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.powerGeneration,callback:function(t){e.$set(e.plan,"powerGeneration",t)},expression:"plan.powerGeneration"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设计温度:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.designTemperature,callback:function(t){e.$set(e.plan,"designTemperature",t)},expression:"plan.designTemperature"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"扬程:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.lift,callback:function(t){e.$set(e.plan,"lift",t)},expression:"plan.lift"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"流量:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.flow,callback:function(t){e.$set(e.plan,"flow",t)},expression:"plan.flow"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"射程:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.reach,callback:function(t){e.$set(e.plan,"reach",t)},expression:"plan.reach"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"有效容积:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.effectiveVolume,callback:function(t){e.$set(e.plan,"effectiveVolume",t)},expression:"plan.effectiveVolume"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"容量:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.capacity,callback:function(t){e.$set(e.plan,"capacity",t)},expression:"plan.capacity"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"介质:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.media,callback:function(t){e.$set(e.plan,"media",t)},expression:"plan.media"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"风量:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.blowingRate,callback:function(t){e.$set(e.plan,"blowingRate",t)},expression:"plan.blowingRate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"功率:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.powers,callback:function(t){e.$set(e.plan,"powers",t)},expression:"plan.powers"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"载重:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.loads,callback:function(t){e.$set(e.plan,"loads",t)},expression:"plan.loads"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"运行速度:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.runningSpeed,callback:function(t){e.$set(e.plan,"runningSpeed",t)},expression:"plan.runningSpeed"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"耐火极限:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fireEndurance,callback:function(t){e.$set(e.plan,"fireEndurance",t)},expression:"plan.fireEndurance"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"尺寸:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.sizes,callback:function(t){e.$set(e.plan,"sizes",t)},expression:"plan.sizes"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"材质:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.materialQuality,callback:function(t){e.$set(e.plan,"materialQuality",t)},expression:"plan.materialQuality"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"风口大小:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.tuyereSize,callback:function(t){e.$set(e.plan,"tuyereSize",t)},expression:"plan.tuyereSize"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"供水来源:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.watersupplySource,callback:function(t){e.$set(e.plan,"watersupplySource",t)},expression:"plan.watersupplySource"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"接口口径:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.interfaceCaliber,callback:function(t){e.$set(e.plan,"interfaceCaliber",t)},expression:"plan.interfaceCaliber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"形式:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.form,callback:function(t){e.$set(e.plan,"form",t)},expression:"plan.form"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"朝向:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.orientation,callback:function(t){e.$set(e.plan,"orientation",t)},expression:"plan.orientation"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否核点:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.isReview,callback:function(t){e.$set(e.plan,"isReview",t)},expression:"plan.isReview"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"sourceId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.sourceId,callback:function(t){e.$set(e.plan,"sourceId",t)},expression:"plan.sourceId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"安装日期:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.installTime,callback:function(t){e.$set(e.plan,"installTime",t)},expression:"plan.installTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否为C端设备:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"是否为C端设备"},model:{value:e.plan.isCTerminal,callback:function(t){e.$set(e.plan,"isCTerminal","string"==typeof t?t.trim():t)},expression:"plan.isCTerminal"}},e._l(e.terminalList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"vender:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.vender,callback:function(t){e.$set(e.plan,"vender",t)},expression:"plan.vender"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地点位置ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationId,callback:function(t){e.$set(e.plan,"locationId",t)},expression:"plan.locationId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"百度坐标X:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.mapX,callback:function(t){e.$set(e.plan,"mapX",t)},expression:"plan.mapX"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"百度坐标Y:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off",placeholder:"请输入数字"},model:{value:e.plan.mapY,callback:function(t){e.$set(e.plan,"mapY",t)},expression:"plan.mapY"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备报警联系电话:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.alarmCall,callback:function(t){e.$set(e.plan,"alarmCall",t)},expression:"plan.alarmCall"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"监测对象:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.monitoringObject,callback:function(t){e.$set(e.plan,"monitoringObject",t)},expression:"plan.monitoringObject"}})],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.cancelHandel}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.saveOrUpdateForm}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{visible:e.visible,title:"批量修改",width:"480px"},on:{"update:visible":function(t){e.visible=t}}},[l("div",{staticClass:"plxg-wrap"},[l("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm}},e._l(e.dynamicValidateForm.domains,function(t,o){return l("el-row",{key:o,staticClass:"form-list-wrapper",attrs:{gutter:10}},[l("el-col",{attrs:{span:9}},[l("el-form-item",{key:t.columnKey,attrs:{prop:"domains."+o+".columnValue",rules:{required:!0,message:"批量修改类型不能为空",trigger:"change"}}},[l("el-select",{attrs:{placeholder:"请选择批量修改字段"},model:{value:t.columnValue,callback:function(l){e.$set(t,"columnValue","string"==typeof l?l.trim():l)},expression:"domain.columnValue"}},e._l(e.columnList,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:15}},[l("el-form-item",{key:t.textKey,attrs:{prop:"domains."+o+".textValue",rules:{required:!0,message:"该输入框不能为空",trigger:"blur"}}},[l("el-input",{model:{value:t.textValue,callback:function(l){e.$set(t,"textValue",l)},expression:"domain.textValue"}})],1)],1)],1)}),1)],1),e._v(" "),l("span",{staticClass:"dialog-footer dialog-footer-pl",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchSubmitForm("dynamicValidateForm")}}},[e._v("提交")]),e._v(" "),l("el-button",{on:{click:function(t){return e.resetForm("dynamicValidateForm")}}},[e._v("重置")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"1afca973",null);t.a=component.exports},1423:function(e,t,l){"use strict";l(316);var o=l(6),n=l(1147),r=l(1171),d={name:"ControlRoom",props:["facilitiesInData"],components:{Pagination:n.a,importUpload:r.a},data:function(){return{buildList:[],floorList:[],widgetInfo:{total:null,pageSize:10,pageNo:1},formInline:{buildId:"",buildName:"",floorId:"",floorName:"",firecontrolroomName:""},tableData:[],isLoading:!1,dialogFormVisible:!1,plan:{id:"",unitId:"",firecontrolroomName:"",remark:"",status:"1",firecontrolroomAddress:"",firecontrolroomTel:"",buildId:"",buildName:"",floorId:"",floorName:""},formLabelWidth:"",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,dialogExcelVisible:!1,uploadVal:{},rules:{buildId:[{required:!0,message:"请输入企业楼栋",trigger:"focus"}],floorId:[{required:!0,message:"请输入楼层",trigger:"focus"}],firecontrolroomName:[{required:!0,message:"请输入消控室名称",trigger:"blur"}],firecontrolroomAddress:[{required:!0,message:"请输入消防控制室地址",trigger:"blur"}],firecontrolroomTel:[{required:!0,message:"请输入消防控制室电话",trigger:"blur"}]},status:"1",stateList:[{value:"",label:"全部"},{value:"1",label:"在用"},{value:"0",label:"停用"}]}},mounted:function(){this.findBuildByUnitId()},methods:{closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"消控室"}},setImport:function(e){this.dialogExcelVisible=!1,this.loadData()},resetBtn:function(e){this.$refs[e].resetFields(),this.status="1",this.loadData()},findBuildByUnitId:function(){var e=this;o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){if(t&&"success"===t.code){var l=t.data;for(var o in l){var n={};n.value=l[o].buildId,n.label=l[o].buildName,e.buildList.push(n)}}else console.log("没有数据")}).catch(function(t){e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e,t){var l=this;this.floorList=[],this.floorList=[],this.formInline.floorId=null,this.plan.floorId=null,this.isLoading=!0,o.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){if(l.isLoading=!1,e&&"success"===e.code){var o=e.data;for(var n in o){var r={};r.value=o[n].floorId,r.label=o[n].floorName,l.floorList.push(r)}t&&(t=t())}else console.log("没有数据")}).catch(function(e){l.isLoading=!1,l.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,o.a.post("/remoteApi/tool/firecontrolroom/findRecordEnterpriseFirecontrolroomList",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,buildName:this.formInline.buildName,floorId:this.formInline.floorId,floorName:this.formInline.floorName,firecontrolroomName:this.formInline.firecontrolroomName,status:this.status,pageNo:"search"==e?"1":this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.tableData=e.data.rows,t.widgetInfo.total=null===e.data.total?0:e.data.total,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label})):(t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData()},handleEditPlan:function(e,t){var l=this;this.dialogFormVisible=!0,this.optMode=e,"add"==e?(this.optTitle="新增",this.plan.id="",this.plan.floorId="",this.plan.cretedBy=o.a.getGlobalVal("userObj").id,this.inputDisabled=!1,this.showSaveOrUpdate=!0,console.log(this.showSaveOrUpdate)):"edit"==e?(this.optTitle="编辑",this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.getFloorInfo(t.buildId,function(){l.plan=Object.assign({},t),l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.trialId=l.facilitiesInData.id,l.inputDisabled=!1,l.showSaveOrUpdate=!0})):"delete"==e?(this.dialogFormVisible=!1,this.deleteHandle(t)):(this.optTitle="查看",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign(l.plan,t),l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.inputDisabled=!0,l.showSaveOrUpdate=!1}))},search:function(){this.loadData()},saveOrUpdateForm:function(e){var t=this,l=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"add"==l.optMode?(l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.unitId=t.facilitiesInData.unitId,l.plan.trialId=t.facilitiesInData.id,l.isLoading=!0,o.a.post("/remoteApi/tool/firecontrolroom/addRecordEnterpriseFirecontrolroomInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.widgetInfo.pageNo=1,l.cancel("plan"),l.loadData(),l.$message({message:"保存成功",type:"success"})):l.$message({message:"保存失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):"edit"==l.optMode?(l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.isLoading=!0,o.a.post("/remoteApi/tool/firecontrolroom/updateRecordEnterpriseFirecontrolroomInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.$message({message:"更新成功",type:"success"}),l.widgetInfo.pageNo=1,l.cancel("plan"),l.loadData()):l.$message({message:"更新失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):console.log("异常保存或更新模式"),t.dialogFormVisible=!1})},deleteHandle:function(e){var t=this;t.plan=JSON.parse(JSON.stringify(e)),t.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isLoading=!0,o.a.post("/remoteApi/tool/firecontrolroom/deleteRecordEnterpriseFirecontrolroomInfo",{id:t.plan.id,cretedBy:o.a.getGlobalVal("userObj").id,trialId:t.facilitiesInData.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.$message({message:"已停用",type:"success"}),t.loadData(),t.plan={}):t.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}).catch(function(){t.plan={}})},cancel:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields(),this.plan.id=""},handleCancel:function(){this.cancel("plan")}}},c=(l(1655),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{ref:"formInline",staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"",model:e.formInline}},[l("el-form-item",{attrs:{label:"楼栋名称:",prop:"buildId"}},[l("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:function(t){return e.getFloorInfo(e.formInline.buildId)}},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层名称:",prop:"floorId"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId","string"==typeof t?t.trim():t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室名称:",prop:"firecontrolroomName"}},[l("el-input",{model:{value:e.formInline.firecontrolroomName,callback:function(t){e.$set(e.formInline,"firecontrolroomName",t)},expression:"formInline.firecontrolroomName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:",prop:"status"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",staticStyle:{width:"25%"},attrs:{label:""}},[l("el-button",{on:{click:function(t){return e.resetBtn("formInline")}}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"buildId",label:"楼栋ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"floorId",label:"楼层ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"floorName",label:"楼层名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"firecontrolroomName",label:"消控室名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"stateName",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"1"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,"before-close":e.handleCancel,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{ref:"plan",staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,rules:e.rules,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId"}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"楼栋信息",filterable:""},on:{change:e.getFloorInfo},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId","string"==typeof t?t.trim():t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",prop:"floorId"}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"楼层信息",filterable:""},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId",t)},expression:"plan.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"消防控制室名称:",prop:"firecontrolroomName","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.firecontrolroomName,callback:function(t){e.$set(e.plan,"firecontrolroomName",t)},expression:"plan.firecontrolroomName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防控制室地址:",prop:"firecontrolroomAddress","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.firecontrolroomAddress,callback:function(t){e.$set(e.plan,"firecontrolroomAddress",t)},expression:"plan.firecontrolroomAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防控制室电话:",prop:"firecontrolroomTel","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.firecontrolroomTel,callback:function(t){e.$set(e.plan,"firecontrolroomTel",t)},expression:"plan.firecontrolroomTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注:",prop:"remark","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.cancel("plan")}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateForm("plan")}}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"280e5252",null);t.a=component.exports},1424:function(e,t,l){"use strict";l(316);var o=l(6),n=l(1147),r=l(1171),d={name:"ControlRoom",props:["facilitiesInData"],components:{Pagination:n.a,importUpload:r.a},data:function(){return{buildList:[],floorList:[],widgetInfo:{total:null,pageSize:10,pageNo:1},unitId:null,id:null,formInline:{buildId:null,buildName:null,floorId:null,floorName:null,personnelName:null},tableData:[],isLoading:!1,dialogFormVisible:!1,firecontrolroomIds:[],plan:{id:"",unitId:"",personnelName:"",personnelIdnum:"",personnelTel:"",qualifications:"",certificatenum:"",fcroomSite:"",remark:"",firecontrolroomId:"",status:"1",buildId:"",buildName:"",floorId:"",floorName:""},formLabelWidth:"100%",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,dialogExcelVisible:!1,uploadVal:{},rules:{unitId:[{required:!0,message:"请输入企业ID",trigger:"blur"}],buildId:[{required:!0,message:"请输入企业楼栋",trigger:"focus"}],floorId:[{required:!0,message:"请输入楼层",trigger:"focus"}],personnelName:[{required:!0,message:"请输入消控室人员姓名",trigger:"blur"}],personnelTel:[{required:!0,message:"请输入消控室人员电话",trigger:"blur"}],certificatenum:[{required:!0,message:"请输入消控室人员证书编号",trigger:"blur"}],firecontrolroomId:[{required:!0,message:"请输入所属消控室ID",trigger:"blur"}]},status:"1",stateList:[{value:"",label:"全部"},{value:"1",label:"在用"},{value:"0",label:"停用"}]}},mounted:function(){this.findBuildByUnitId()},methods:{closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"消控室人员"}},setImport:function(e){this.dialogExcelVisible=!1,this.loadData()},resetBtn:function(e){this.$refs[e].resetFields(),this.status="1",this.loadData()},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){if(e.isLoading=!1,t&&"success"===t.code){var l=t.data;for(var o in l){var n={};n.value=l[o].buildId,n.label=l[o].buildName,e.buildList.push(n)}}else console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e,t){var l=this;this.floorList=[],this.formInline.floorId=null,this.plan.floorId=null,this.isLoading=!0,o.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){if(l.isLoading=!1,e&&"success"===e.code){var o=e.data;for(var n in o){var r={};r.value=o[n].floorId,r.label=o[n].floorName,l.floorList.push(r)}t&&(t=t())}else console.log("没有数据")}).catch(function(e){l.isLoading=!1,l.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,o.a.post("/remoteApi/tool/fcroomper/findRecordEnterpriseFcroomperList",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,buildName:this.formInline.buildName,floorId:this.formInline.floorId,floorName:this.formInline.floorName,personnelName:this.formInline.personnelName,status:this.status,pageNo:"search"==e?"1":this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.tableData=e.data.rows,t.widgetInfo.total=null===e.data.total?0:e.data.total,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label})):(t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},changefirecontrolroom:function(){this.plan.firecontrolroomId="",this.findFirecontrolroomDropdown()},changeBuild:function(){this.plan.firecontrolroomId="",this.findFirecontrolroomDropdown(),this.getFloorInfo(this.plan.buildId)},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData()},handleEditPlan:function(e,t){var l=this;this.dialogFormVisible=!0,this.plan.unitId=this.facilitiesInData.unitId,this.plan.cretedBy=o.a.getGlobalVal("userObj").id,this.optMode=e,"add"==e?(this.optTitle="新增",this.plan.id="",this.plan.floorId="",this.plan.cretedBy=o.a.getGlobalVal("userObj").id,this.plan.unitId=this.facilitiesInData.unitId,this.plan.trialId=this.facilitiesInData.id,this.firecontrolroomIds=[],this.inputDisabled=!1,this.showSaveOrUpdate=!0):"edit"==e?(this.optTitle="编辑",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign({},t),l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.trialId=l.facilitiesInData.id,l.inputDisabled=!1,l.showSaveOrUpdate=!0,l.findFirecontrolroomDropdown()})):"delete"==e?(this.dialogFormVisible=!1,this.deleteHandle(t)):(this.optTitle="查看",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign(l.plan,t),l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.inputDisabled=!0,l.showSaveOrUpdate=!1,l.findFirecontrolroomDropdown()}))},search:function(){this.loadData()},saveOrUpdateForm:function(e){var t=this,l=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"add"==l.optMode?(l.isLoading=!0,o.a.post("/remoteApi/tool/fcroomper/addRecordEnterpriseFcroomperInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.cancel("plan"),l.loadData(),l.$message({message:"保存成功",type:"success"})):l.$message({message:"保存失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):"edit"==l.optMode?(l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.isLoading=!0,o.a.post("/remoteApi/tool/fcroomper/updateRecordEnterpriseFcroomperInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.$message({message:"更新成功",type:"success"}),l.cancel("plan"),l.loadData()):l.$message({message:"更新失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):console.log("异常保存或更新模式"),t.dialogFormVisible=!1})},deleteHandle:function(e){var t=this,l=this;l.plan=JSON.parse(JSON.stringify(e)),l.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.isLoading=!0,o.a.post("/remoteApi/tool/fcroomper/deleteRecordEnterpriseFcroomperInfo",{id:l.plan.id,cretedBy:o.a.getGlobalVal("userObj").id,trialId:t.facilitiesInData.id}).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.$message({message:"已停用",type:"success"}),l.loadData(),l.plan={}):l.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})}).catch(function(){l.plan={}})},cancel:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields(),this.plan.id=""},handleCancel:function(){this.cancel("plan")},findFirecontrolroomDropdown:function(){var e=this;o.a.post("/remoteApi/tool/firecontrolroom/findFirecontrolroomDropdown",{unitId:this.facilitiesInData.unitId,buildId:this.plan.buildId,floorId:this.plan.floorId}).then(function(t){t&&"success"===t.code&&(e.firecontrolroomIds=t.data,console.log("firecontrolroomId",e.firecontrolroomId))}).catch(function(e){console.log(e),that.isLoading=!1})}}},c=(l(1657),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{ref:"formInline",staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"",model:e.formInline}},[l("el-form-item",{attrs:{label:"楼栋名称:",prop:"buildId"}},[l("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:e.changeBuild},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层名称:",prop:"floorId"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId","string"==typeof t?t.trim():t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"人员名称:",prop:"personnelName"}},[l("el-input",{model:{value:e.formInline.personnelName,callback:function(t){e.$set(e.formInline,"personnelName",t)},expression:"formInline.personnelName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:",prop:"status"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",attrs:{label:""}},[l("el-button",{on:{click:function(t){return e.resetBtn("formInline")}}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"unitId",label:"企业ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"id",label:"数据id"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildId",label:"楼栋ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"floorId",label:"楼层ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"floorName",label:"楼层名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"20%","show-overflow-tooltip":!0,prop:"personnelName",label:"消控室人员姓名"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"stateName",label:"状态","min-width":"13%"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"20%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"1"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,"before-close":e.handleCancel,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{ref:"plan",staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,rules:e.rules,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"企业ID:",prop:"unitId","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.plan.unitId,callback:function(t){e.$set(e.plan,"unitId",t)},expression:"plan.unitId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"请选择",filterable:""},on:{change:function(t){return e.changeBuild()}},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId",t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",prop:"floorId","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"请选择",filterable:""},on:{change:function(t){return e.changefirecontrolroom()}},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId",t)},expression:"plan.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室人员姓名:",prop:"personnelName","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.personnelName,callback:function(t){e.$set(e.plan,"personnelName",t)},expression:"plan.personnelName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室人员身份证号码:",prop:"personnelIdnum","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.personnelIdnum,callback:function(t){e.$set(e.plan,"personnelIdnum",t)},expression:"plan.personnelIdnum"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室人员电话:",prop:"personnelTel","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.personnelTel,callback:function(t){e.$set(e.plan,"personnelTel",t)},expression:"plan.personnelTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室人员资质:",prop:"qualifications","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.qualifications,callback:function(t){e.$set(e.plan,"qualifications",t)},expression:"plan.qualifications"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消控室人员证书编号:",prop:"certificatenum","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.certificatenum,callback:function(t){e.$set(e.plan,"certificatenum",t)},expression:"plan.certificatenum"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"所在消控室具体位置:",prop:"fcroomSite","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fcroomSite,callback:function(t){e.$set(e.plan,"fcroomSite",t)},expression:"plan.fcroomSite"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注:",prop:"fcroomSite","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"所属消控室:",prop:"firecontrolroomId","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"请选择","auto-complete":"off"},model:{value:e.plan.firecontrolroomId,callback:function(t){e.$set(e.plan,"firecontrolroomId",t)},expression:"plan.firecontrolroomId"}},e._l(e.firecontrolroomIds,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.cancel("plan")}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateForm("plan")}}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"7939955e",null);t.a=component.exports},1425:function(e,t,l){"use strict";l(316);var o=l(6),n=l(1147),r=l(1171),d={name:"Floor",components:{Pagination:n.a,importUpload:r.a},props:["facilitiesInData"],data:function(){return{buildList:[],formInline:{buildId:null,videoAddress:null},buildId:null,buildName:null,floorId:null,floorName:null,videoAddress:null,widgetInfo:{total:null,pageSize:10,pageNo:1},tableData:[],isLoading:!1,dialogFormVisible:!1,plan:{id:"",unitId:"",buildId:"",videoAddress:"",videoPath:"",videoCode:"",longitude:"",latitude:"",buildName:"",status:"1"},searchFormLabelWidth:"95px",formLabelWidth:"140px",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,dialogExcelVisible:!1,uploadVal:{},rules:{buildId:[{required:!0,message:"请输入楼栋",trigger:"focus"}],videoPath:[{required:!0,message:"请输入视频路径",trigger:"blur"}],longitude:[{required:!0,message:"请输入经度",trigger:"blur"},{pattern:/^\d{0,9}(\.\d{0,9})?$/g,message:"请输入数字区间在0到999999999.999999999的数值"}],latitude:[{required:!0,message:"请输入纬度",trigger:"blur"},{pattern:/^\d{0,9}(\.\d{0,9})?$/g,message:"请输入数字区间在0到999999999.999999999的数值"}]},status:"1",stateList:[{value:"",label:"全部"},{value:"1",label:"在用"},{value:"0",label:"停用"}]}},mounted:function(){this.findBuildByUnitId(),this.loadData()},methods:{closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"视频"}},setImport:function(e){this.dialogExcelVisible=!1,this.loadData()},resetBtn:function(e){this.$refs[e].resetFields(),this.status="1",this.loadData()},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){if(e.isLoading=!1,t&&"success"===t.code){var l=t.data;for(var o in l){var n={};n.value=l[o].buildId,n.label=l[o].buildName,e.buildList.push(n)}}else console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,o.a.post("/remoteApi/tool/video/findRecordEnterpriseVideoList",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,videoAddress:this.formInline.videoAddress,status:this.status,pageNo:"search"==e?"1":this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.tableData=e.data.rows,t.widgetInfo.total=null===e.data.total?0:e.data.total,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label})):(t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData()},handleEditPlan:function(e,t){this.optMode=e,"add"==e?(this.dialogFormVisible=!0,this.optTitle="新增",this.plan.id="",this.plan.floorId="",this.inputDisabled=!1,this.showSaveOrUpdate=!0):"edit"==e?(this.dialogFormVisible=!0,this.optTitle="编辑",this.plan=Object.assign({},t),this.inputDisabled=!1,this.showSaveOrUpdate=!0):"delete"==e?this.deleteHandle(t):(this.dialogFormVisible=!0,this.optTitle="查看",this.plan=Object.assign(this.plan,t),this.inputDisabled=!0,this.showSaveOrUpdate=!1)},deleteHandle:function(e){var t=this;t.plan=JSON.parse(JSON.stringify(e)),t.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isLoading=!0,o.a.post("/remoteApi/tool/video/deleteRecordEnterpriseVideoInfo",{id:t.plan.id,cretedBy:o.a.getGlobalVal("userObj").id,trialId:t.facilitiesInData.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.$message({message:"已停用",type:"success"}),t.loadData(),t.cancel("plan")):t.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}).catch(function(){t.cancel("plan")})},saveOrUpdateForm:function(e){var t=this,l=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"add"==l.optMode?(l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.unitId=t.facilitiesInData.unitId,l.plan.trialId=t.facilitiesInData.id,l.isLoading=!0,o.a.post("/remoteApi/tool/video/addRecordEnterpriseVideoInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.dialogFormVisible=!1,l.cancel("plan"),console.log(l.plan,"plan"),l.$message({message:"保存成功",type:"success"}),l.loadData()):l.$message({message:"保存失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):"edit"==l.optMode?(l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.unitId=t.facilitiesInData.unitId,l.plan.trialId=t.facilitiesInData.id,l.isLoading=!0,o.a.post("/remoteApi/tool/video/updateRecordEnterpriseVideoInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.dialogFormVisible=!1,l.$message({message:"更新成功",type:"success"}),l.cancel("plan"),l.loadData()):l.$message({message:"更新失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):console.log("异常保存或更新模式")})},cancel:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields(),this.plan.id="",this.plan={}},handleCancel:function(){this.cancel("plan")}}},c=(l(1659),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{ref:"formInline",staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"",model:e.formInline}},[l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"视频地址:",prop:"videoAddress"}},[l("el-input",{model:{value:e.formInline.videoAddress,callback:function(t){e.$set(e.formInline,"videoAddress",t)},expression:"formInline.videoAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:",prop:"videoAddress"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",staticStyle:{width:"40% !important"}},[l("el-button",{on:{click:function(t){return e.resetBtn("formInline")}}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"videoAddress",label:"视频地址"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"videoPath",label:"视频路径"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"videoCode",label:"视频编码"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildId",label:"楼栋ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"longitude",label:"经度"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"latitude",label:"纬度"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"stateName",label:"状态","min-width":"13%"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"25%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"1"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,"before-close":e.handleCancel,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{ref:"plan",staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,rules:e.rules,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId"}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"请选择",filterable:""},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId",t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"视频地址:",prop:"videoAddress","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.videoAddress,callback:function(t){e.$set(e.plan,"videoAddress",t)},expression:"plan.videoAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"视频路径:",prop:"videoPath","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.videoPath,callback:function(t){e.$set(e.plan,"videoPath",t)},expression:"plan.videoPath"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"视频编码:",prop:"videoCode","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.videoCode,callback:function(t){e.$set(e.plan,"videoCode",t)},expression:"plan.videoCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"经度:",prop:"longitude","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.longitude,callback:function(t){e.$set(e.plan,"longitude",t)},expression:"plan.longitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"纬度:",prop:"latitude","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.latitude,callback:function(t){e.$set(e.plan,"latitude",t)},expression:"plan.latitude"}})],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.cancel("plan")}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateForm("plan")}}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"1fa17af4",null);t.a=component.exports},1426:function(e,t,l){"use strict";l(76),l(61),l(316);var o=l(8),n=l(321),r=l(6),d=l(1147),c=l(1171),m={name:"KeyParts",components:{Pagination:d.a,importUpload:c.a},props:["facilitiesInData"],data:function(){var e;return e={numberValidateForm:{age:""},dialogExcelVisible:!1,buildList:[],floorList:[],formInline:{buildId:null,buildName:null,floorId:null,floorName:null,id:null,name:null,deviceAddress:""},widgetInfo:{total:null,pageSize:10,pageNo:1},tableData:[],isLoading:!1,dialogFormVisible:!1,plan:{id:"",unitId:"",bluetoothId:"",deviceAddress:"",deviceName:"",longitude:"",latitude:"",deviceTypeId:"",status:"0",manufacturer:"",model:"",manufactureDate:"",installDate:"",radiantRange:"",batteryLife:"",isDone:0,isUpdate:"",buildId:"",floorId:"",stateName:"",cretedBy:"",trialId:""},optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null},Object(n.a)(e,"dialogExcelVisible",!1),Object(n.a)(e,"uploadVal",{}),Object(n.a)(e,"searchFormLabelWidth","60px"),Object(n.a)(e,"formLabelWidth","100%"),Object(n.a)(e,"rules",{unitId:[{required:!0,message:"请输入企业id",trigger:"blur"}],bluetoothId:[{required:!0,message:"请输入虚拟点位编号(蓝牙id)",trigger:"blur"}],deviceAddress:[{required:!0,message:"请输入设备(蓝牙)地址",trigger:"blur"}],longitude:[{required:!0,message:"请输入经度",trigger:"blur"},{pattern:/^\d{0,9}(\.\d{0,9})?$/g,message:"请输入数字区间在0到999999999.999999999的数值"}],latitude:[{required:!0,message:"请输入纬度",trigger:"blur"},{pattern:/^\d{0,9}(\.\d{0,9})?$/g,message:"请输入数字区间在0到999999999.999999999的数值"}],buildId:[{required:!0,message:"请输入楼栋编号",trigger:"focus"}],floorId:[{required:!0,message:"请输入楼层编号",trigger:"focus"}],deviceTypeId:[{required:!0,message:"请输入设施类型1",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 位字符",trigger:"blur"}],cretedBy:[{required:!0,message:"请输入操作人",trigger:"blur"}]}),Object(n.a)(e,"status",0),Object(n.a)(e,"statusA",0),Object(n.a)(e,"stateList",[{value:"",label:"全部"},{value:0,label:"在用"},{value:1,label:"停用"}]),Object(n.a)(e,"stateListA",[{value:"",label:"全部"},{value:2,label:"在用"},{value:4,label:"停用"}]),e},mounted:function(){this.findBuildByUnitId()},methods:{closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"蓝牙"}},setImport:function(e){this.dialogExcelVisible=!1,this.loadData()},resetBtn:function(e){this.$refs[e].resetFields(),this.statusA=0,this.loadData()},findBuildByUnitId:function(){var e=this;r.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){if(t&&"success"===t.code){var l=t.data;for(var o in l){var n={};n.value=l[o].buildId,n.label=l[o].buildName,e.buildList.push(n)}}else console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e,t){var l=this;this.floorList=[],this.formInline.floorId=null,this.plan.floorId=null,r.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){if(e&&"success"===e.code){var o=e.data;for(var n in o){var r={};r.value=o[n].floorId,r.label=o[n].floorName,l.floorList.push(r)}t&&(t=t())}else console.log("没有数据")}).catch(function(e){l.isLoading=!1,l.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,r.a.post("/remoteApi/tool/bluetooth/findRecordEnterpriseBluetoothList",{unitId:this.facilitiesInData.unitId,id:this.formInline.id,buildId:this.formInline.buildId,floorId:this.formInline.floorId,status:this.statusA,deviceAddress:this.formInline.deviceAddress,pageNo:"search"==e?"1":this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(console.log("this.plan.status",Object(o.a)(t.plan.status)),t.tableData=e.data.rows,t.widgetInfo.total=null===e.data.total?0:e.data.total,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label})):(t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData()},handleEditPlan:function(e,t){var l=this;this.optMode=e,"add"==e?(this.dialogFormVisible=!0,this.optTitle="新增",this.plan.id="",this.plan.floorId="",this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.plan.unitId=this.facilitiesInData.unitId,this.plan.cretedBy=r.a.getGlobalVal("userObj").id):"edit"==e?(this.dialogFormVisible=!0,this.optTitle="编辑",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign({},t),l.plan.cretedBy=r.a.getGlobalVal("userObj").id,l.plan.trialId=l.facilitiesInData.id,l.inputDisabled=!1,l.showSaveOrUpdate=!0})):"delete"==e?(this.dialogFormVisible=!1,this.deleteHandle(t)):(this.dialogFormVisible=!0,this.optTitle="查看",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign(l.plan,t),l.plan.cretedBy=r.a.getGlobalVal("userObj").id,l.inputDisabled=!0,l.showSaveOrUpdate=!1}))},deleteHandle:function(e){var t=this;t.plan=JSON.parse(JSON.stringify(e)),t.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isLoading=!0,r.a.post("/remoteApi/tool/bluetooth/deleteRecordEnterpriseDeviceBluetoothInfo",{id:t.plan.id,cretedBy:r.a.getGlobalVal("userObj").id,trialId:t.facilitiesInData.id}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.$message({message:"已停用",type:"success"}),t.loadData(),t.plan={}):t.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})}).catch(function(){t.plan={}})},saveOrUpdateForm:function(e){var t=this;Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var l in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[l]:("00"+t[l]).substr((""+t[l]).length)));return e},null!=this.plan.manufactureDate&&this.plan.manufactureDate instanceof Date&&(this.plan.manufactureDate=this.plan.manufactureDate.format("yyyy-MM-dd hh:mm:ss")),null!=this.plan.installDate&&this.plan.installDate instanceof Date&&(this.plan.installDate=this.plan.installDate.format("yyyy-MM-dd hh:mm:ss")),"add"==t.optMode?(t.isLoading=!0,t.plan.unitId=t.facilitiesInData.unitId,t.plan.cretedBy=r.a.getGlobalVal("userObj").id,t.plan.trialId=t.facilitiesInData.id,t.$refs[e].validate(function(e){if(!e)return t.dialogFormVisible=!0,t.isLoading=!1,!1;r.a.post("/remoteApi/tool/bluetooth/addRecordEnterpriseDeviceBluetoothInfo",t.plan).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.cancel("plan"),t.$message({message:"保存成功",type:"success"}),t.loadData()):t.$message({message:"保存失败",type:"error"})}).catch(function(e){console.log(e)})})):"edit"==t.optMode?(t.plan.unitId=t.facilitiesInData.unitId,t.plan.trialId=t.facilitiesInData.id,t.isLoading=!0,r.a.post("/remoteApi/tool/bluetooth/updateRecordEnterpriseDeviceBluetoothInfo",t.plan).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.cancel("plan"),t.$message({message:"更新成功",type:"success"}),t.loadData()):t.$message({message:"更新失败",type:"error"})}).catch(function(e){console.log(e),t.isLoading=!1})):console.log("异常保存或更新模式")},cancel:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields(),this.plan.id=""},handleCancel:function(){this.cancel("plan")}}},f=(l(1661),l(31)),component=Object(f.a)(m,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{ref:"formInline",staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"",model:e.formInline}},[l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId"}},[l("el-select",{attrs:{placeholder:"全部",filterable:""},on:{change:e.getFloorInfo},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",prop:"floorId"}},[l("el-select",{attrs:{filterable:"",placeholder:"全部"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId","string"==typeof t?t.trim():t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"地址:",prop:"deviceAddress"}},[l("el-input",{model:{value:e.formInline.deviceAddress,callback:function(t){e.$set(e.formInline,"deviceAddress","string"==typeof t?t.trim():t)},expression:"formInline.deviceAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:",prop:"status"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.statusA,callback:function(t){e.statusA=t},expression:"statusA"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",staticStyle:{width:"20%"},attrs:{label:""}},[l("el-button",{on:{click:function(t){return e.resetBtn("formInline")}}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"deviceAddress",label:"蓝牙地址"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"deviceName",label:"蓝牙名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"manufacturer",label:"制造商"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"floorName",label:"楼层名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"stateName",label:"状态","min-width":"8%"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"25%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"0"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,"before-close":e.handleCancel,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{ref:"plan",staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,rules:e.rules,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"虚拟点位编号(蓝牙ID):",prop:"bluetoothId","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.bluetoothId,callback:function(t){e.$set(e.plan,"bluetoothId",t)},expression:"plan.bluetoothId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备(蓝牙)地址:",prop:"deviceAddress","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceAddress,callback:function(t){e.$set(e.plan,"deviceAddress",t)},expression:"plan.deviceAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"设备名称:","label-width":e.formLabelWidth,prop:"deviceName"}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceName,callback:function(t){e.$set(e.plan,"deviceName",t)},expression:"plan.deviceName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"经度:",prop:"longitude","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.longitude,callback:function(t){e.$set(e.plan,"longitude",t)},expression:"plan.longitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"纬度:",prop:"latitude","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.latitude,callback:function(t){e.$set(e.plan,"latitude",t)},expression:"plan.latitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"请选择",filterable:""},on:{change:e.getFloorInfo},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId",t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",prop:"floorId","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"请选择"},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId",t)},expression:"plan.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设施类型:",prop:"deviceTypeId","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTypeId,callback:function(t){e.$set(e.plan,"deviceTypeId",t)},expression:"plan.deviceTypeId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:","label-width":e.formLabelWidth,prop:"status"}},[l("el-radio",{attrs:{label:"0",disabled:e.inputDisabled},model:{value:e.plan.status,callback:function(t){e.$set(e.plan,"status",t)},expression:"plan.status"}},[e._v("在用")]),e._v(" "),l("el-radio",{attrs:{label:"1",disabled:e.inputDisabled},model:{value:e.plan.status,callback:function(t){e.$set(e.plan,"status",t)},expression:"plan.status"}},[e._v("停用")])],1),e._v(" "),l("el-form-item",{attrs:{label:"厂商:","label-width":e.formLabelWidth,prop:"manufacturer"}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.manufacturer,callback:function(t){e.$set(e.plan,"manufacturer",t)},expression:"plan.manufacturer"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"型号:","label-width":e.formLabelWidth,prop:"model"}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.model,callback:function(t){e.$set(e.plan,"model",t)},expression:"plan.model"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"生产日期:","label-width":e.formLabelWidth,prop:"manufactureDate"}},[l("el-date-picker",{attrs:{size:e.formLabelWidth,disabled:e.inputDisabled,type:"date",placeholder:"选择生产日期"},model:{value:e.plan.manufactureDate,callback:function(t){e.$set(e.plan,"manufactureDate",t)},expression:"plan.manufactureDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"安装日期:","label-width":e.formLabelWidth,prop:"installDate"}},[l("el-date-picker",{attrs:{size:e.formLabelWidth,disabled:e.inputDisabled,type:"date",placeholder:"选择安装日期"},model:{value:e.plan.installDate,callback:function(t){e.$set(e.plan,"installDate",t)},expression:"plan.installDate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"辐射范围:","label-width":e.formLabelWidth,prop:"radiantRange"}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.radiantRange,callback:function(t){e.$set(e.plan,"radiantRange",t)},expression:"plan.radiantRange"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"电池使用寿命:","label-width":e.formLabelWidth,prop:"batteryLife"}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.batteryLife,callback:function(t){e.$set(e.plan,"batteryLife",t)},expression:"plan.batteryLife"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否同步:","label-width":e.formLabelWidth,prop:"isDone"}},[l("el-radio-group",{attrs:{disabled:e.inputDisabled},model:{value:e.plan.isDone,callback:function(t){e.$set(e.plan,"isDone",t)},expression:"plan.isDone"}},[l("el-radio",{attrs:{label:0}},[e._v("同步")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("异步")])],1)],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.cancel("plan")}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateForm("plan")}}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"05db42fd",null);t.a=component.exports},1427:function(e,t,l){"use strict";l(316),l(50);var o=l(6),n=l(1147),r=l(1171),d={name:"KeyParts",components:{Pagination:n.a,importUpload:r.a},props:["facilitiesInData"],data:function(){return{numberValidateForm:{age:""},buildList:[],floorList:[],formInline:{buildId:null,buildName:null,floorId:null,floorName:null,id:null,name:null},widgetInfo:{total:null,pageSize:10,pageNo:1},tableData:[],isLoading:!1,dialogFormVisible:!1,plan:{id:"",unitId:"",name:"",useProperty:"",establishCause:"",buildId:"",buildName:"",floorId:" ",floorName:" ",keyportArea:"",fireRating:"",keyportSet:"",fireSituation:"",fireDevice:"",personliable:"",personliableIdnum:"",personliableTel:"",signSituation:"",hazardSource:"",manageMeasures:"",keyportId:" ",remark:"",status:"1"},keyportCode:"",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,dialogExcelVisible:!1,uploadVal:{},searchFormLabelWidth:"105px",formLabelWidth:"100%",rules:{buildId:[{required:!0,message:"请输入楼栋",trigger:"focus"}],floorId:[{required:!0,message:"请输入楼层",trigger:"focus"}],keyportId:[{required:!0,message:"请输入重点部位编码",trigger:"blur"}],name:[{required:!0,message:"请输入重点部位名称",trigger:"blur"}],useProperty:[{message:"",trigger:"blur"},{pattern:/^\d{0,2}$/g,message:"请输入正确格式 00-99的数值"}],establishCause:[{message:"",trigger:"blur"},{pattern:/^\d{0,2}$/g,message:"请输入正确格式 00-99的数值"}],fireRating:[{message:"",trigger:"blur"},{pattern:/^\d{0,2}$/g,message:"请输入正确格式 00-99的数值"}],fireSituation:[{message:"",trigger:"blur"},{pattern:/^\d{0,2}$/g,message:"请输入正确格式 00-99的数值"}],signSituation:[{message:"",trigger:"blur"},{pattern:/^\d{0,2}$/g,message:"请输入正确格式 00-99的数值"}],hazardSource:[{message:"",trigger:"blur"},{pattern:/^\d{0,2}$/g,message:"请输入正确格式 00-99的数值"}]},status:1,stateList:[{value:"",label:"全部"},{value:1,label:"在用"},{value:0,label:"停用"}]}},mounted:function(){this.findBuildByUnitId(),this.loadData()},methods:{closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"重点部位"}},setImport:function(e){console.log(222,e),this.dialogExcelVisible=!1,this.loadData()},resetBtn:function(e){this.$refs[e].resetFields(),this.status=1,this.loadData()},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){if(e.isLoading=!1,t&&"success"===t.code){var l=t.data;for(var o in l){var n={};n.value=l[o].buildId,n.label=l[o].buildName,e.buildList.push(n)}}else console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e,t){var l=this,n=this;this.floorList=[],n.formInline.floorId=null,n.plan.floorId=null,this.isLoading=!0,o.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){if(n.isLoading=!1,e&&"success"===e.code){var o=e.data;for(var r in o){var d={};d.value=o[r].floorId,d.label=o[r].floorName,l.floorList.push(d)}t&&(t=t())}else console.log("没有数据")}).catch(function(e){n.isLoading=!1,n.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,o.a.post("/remoteApi/tool/keyport/findRecordEnterpriseKeyportList",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,floorId:this.formInline.floorId,id:this.formInline.id,name:this.formInline.name,status:this.status,pageNo:"search"==e?"1":this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){t.isLoading=!1,e&&"success"===e.code?(t.tableData=e.data.rows,t.widgetInfo.total=null===e.data.total?0:e.data.total,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label})):(t.tableData=[],t.widgetInfo.list=e.data.rows,t.widgetInfo.total=0,console.log("没有数据"))}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData()},handleEditPlan:function(e,t){var l=this;this.optMode=e,"add"==e?(this.dialogFormVisible=!0,this.optTitle="新增",this.plan.id="",this.plan.floorId="",this.inputDisabled=!1,this.showSaveOrUpdate=!0,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0})):"edit"==e?(this.dialogFormVisible=!0,this.optTitle="编辑",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign({},t),l.inputDisabled=!1,l.showSaveOrUpdate=!0}),this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0})):"delete"==e?this.deleteHandle(t):(this.dialogFormVisible=!0,this.optTitle="查看",this.getFloorInfo(t.buildId,function(){l.plan=Object.assign({},t),l.inputDisabled=!0,l.showSaveOrUpdate=!1}),this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0}))},deleteHandle:function(e){var t=this,l=this;l.plan=JSON.parse(JSON.stringify(e)),l.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.isLoading=!0,o.a.post("/remoteApi/tool/keyport/deleteRecordEnterpriseKeyportInfo",{id:l.plan.id,cretedBy:o.a.getGlobalVal("userObj").id,trialId:t.facilitiesInData.id}).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.$message({message:"已停用",type:"success"}),l.loadData(),l.plan={}):l.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})}).catch(function(){l.plan={}})},saveOrUpdateForm:function(e){var t=this,l=this;l.findKeyportIdByUnit(function(){t.$refs[e].validate(function(e){if(!e||0==l.keyportCode)return console.log("error submit!!"),!1;"add"==l.optMode?(l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.unitId=t.facilitiesInData.unitId,l.plan.trialId=t.facilitiesInData.id,l.isLoading=!0,o.a.post("/remoteApi/tool/keyport/addRecordEnterpriseKeyportInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.dialogFormVisible=!1,l.$message({message:"保存成功",type:"success"}),l.cancel("plan"),l.loadData()):l.$message({message:"保存失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):"edit"==l.optMode?(l.plan.unitId=t.facilitiesInData.unitId,l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.trialId=t.facilitiesInData.id,l.isLoading=!0,o.a.post("/remoteApi/tool/keyport/updateRecordEnterpriseKeyportInfo",l.plan).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.dialogFormVisible=!1,l.$message({message:"更新成功",type:"success"}),l.cancel("plan"),l.loadData()):l.$message({message:"更新失败",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})):console.log("异常保存或更新模式")})})},findKeyportIdByUnit:function(e){var t=this;o.a.post("/remoteApi/tool/keyport/findKeyportIdByUnit",{unitId:t.facilitiesInData.unitId,keyportId:t.plan.keyportId,id:t.plan.id?t.plan.id:""}).then(function(l){l&&(0==l.data?(t.keyportCode=0,t.$message({message:l.rspMsg,type:"error"})):t.keyportCode=l.data,e&&(e=e()))})},cancel:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields(),this.plan.id=""},handleCancel:function(){this.cancel("plan")}}},c=(l(1663),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{ref:"formInline",staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"",model:e.formInline}},[l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId"}},[l("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:e.getFloorInfo},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId",t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",prop:"floorId"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId",t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"重点部位名称:",prop:"name","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name","string"==typeof t?t.trim():t)},expression:"formInline.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",attrs:{label:""}},[l("el-button",{on:{click:function(t){return e.resetBtn("formInline")}}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{staticClass:"mag-right-10",attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"keyportId",label:"重点部位编码"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"name",label:"重点部位名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,prop:"floorName",label:"楼层"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","show-overflow-tooltip":!0,prop:"stateName",label:"状态","min-width":"8%"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"15%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"1"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,"before-close":e.handleCancel,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{ref:"dialogScoll",staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{ref:"plan",staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,rules:e.rules,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:",prop:"buildId"}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"请选择",filterable:""},on:{change:e.getFloorInfo},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId",t)},expression:"plan.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",prop:"floorId"}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"请选择"},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId",t)},expression:"plan.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"重点部位编码:",prop:"keyportId","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.keyportId,callback:function(t){e.$set(e.plan,"keyportId",t)},expression:"plan.keyportId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"重点部位名称:",prop:"name","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.name,callback:function(t){e.$set(e.plan,"name",t)},expression:"plan.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"使用属性:",prop:"useProperty","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.useProperty,callback:function(t){e.$set(e.plan,"useProperty",t)},expression:"plan.useProperty"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"确立消防安全重点部位的原因:",prop:"establishCause","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.establishCause,callback:function(t){e.$set(e.plan,"establishCause",t)},expression:"plan.establishCause"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"重点部位面积:",prop:"keyportArea","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.keyportArea,callback:function(t){e.$set(e.plan,"keyportArea",t)},expression:"plan.keyportArea"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"耐火等级:",prop:"fireRating","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fireRating,callback:function(t){e.$set(e.plan,"fireRating",t)},expression:"plan.fireRating"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"重点部位具体位置:",prop:"keyportSet","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.keyportSet,callback:function(t){e.$set(e.plan,"keyportSet",t)},expression:"plan.keyportSet"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"火种情况:",prop:"fireSituation","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fireSituation,callback:function(t){e.$set(e.plan,"fireSituation",t)},expression:"plan.fireSituation"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防设施配置情况:",prop:"fireDevice","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.fireDevice,callback:function(t){e.$set(e.plan,"fireDevice",t)},expression:"plan.fireDevice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"责任人姓名:",prop:"personliable","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.personliable,callback:function(t){e.$set(e.plan,"personliable",t)},expression:"plan.personliable"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"责任人身份证号码:",prop:"personliableIdnum","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.personliableIdnum,callback:function(t){e.$set(e.plan,"personliableIdnum",t)},expression:"plan.personliableIdnum"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"责任人电话:",prop:"personliableTel","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.personliableTel,callback:function(t){e.$set(e.plan,"personliableTel",t)},expression:"plan.personliableTel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"防火标识设立情况:",prop:"signSituation","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.signSituation,callback:function(t){e.$set(e.plan,"signSituation",t)},expression:"plan.signSituation"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"危险源:",prop:"hazardSource","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.hazardSource,callback:function(t){e.$set(e.plan,"hazardSource",t)},expression:"plan.hazardSource"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"消防安全管理措施:",prop:"manageMeasures","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.manageMeasures,callback:function(t){e.$set(e.plan,"manageMeasures",t)},expression:"plan.manageMeasures"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"备注:",prop:"remark","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.remark,callback:function(t){e.$set(e.plan,"remark",t)},expression:"plan.remark"}})],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.cancel("plan")}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateForm("plan")}}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"94b0e9f2",null);t.a=component.exports},1428:function(e,t,l){"use strict";l(316);var o=l(6),n=l(1147),r=l(1171),d={name:"Merchant",components:{Pagination:n.a,importUpload:r.a},props:["facilitiesInData"],data:function(){return{dialogExcelVisible:!1,uploadVal:{},buildList:[],floorList:[],formInline:{buildId:null,buildName:null,floorId:null,floorName:null,deviceId:null,locationId:null,locationAddress:null},status:1,stateList:[{value:"",label:"全部"},{value:1,label:"在用"},{value:0,label:"停用"}],searchFormLabelWidth:"80px",projectTypeList:[{id:1,name:"家庭"},{id:2,name:"商铺"},{id:3,name:"出租屋"}],widgetInfo:{total:null,pageSize:6,pageNo:1},tableData:[],isLoading:!1,dialogFormVisible:!1,plan:{floorId:null},formLabelWidth:"140px",optTitle:null,inputDisabled:!1,showSaveOrUpdate:!1,optMode:null,loading:!1}},mounted:function(){this.findBuildByUnitId()},methods:{rest:function(){this.dialogFormVisible=!1,this.loadData("load")},closeDialog:function(){this.$refs.myChild.ResetOrCloseBtn()},setImport:function(){this.dialogExcelVisible=!1,this.loadData("search")},dialogShow:function(){this.dialogExcelVisible=!0,this.uploadVal={fileId:this.facilitiesInData.id,unitId:this.facilitiesInData.unitId,operationOrgId:this.facilitiesInData.subCenterCode,TabName:"商户"}},resetBtn:function(){var e=this.formInline;this.status=1,e.buildId=null,e.buildName=null,e.floorId=null,e.floorName=null,e.deviceId=null,e.locationId=null,e.locationAddress=null,this.loadData("search")},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){e.isLoading=!1,t&&"success"===t.code?e.buildList=t.data:console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e,t){var l=this;this.floorList=null,this.formInline.floorId=null,this.plan.floorId=null,this.isLoading=!0,o.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.floorList=e.data,t&&(t=t())):console.log("没有数据")}).catch(function(e){l.isLoading=!1,l.$message({type:"warning",message:"加载超时,请重新加载!"})})},loadData:function(e){var t=this;this.isLoading=!0,"search"==e&&(this.widgetInfo.pageNo=1),o.a.post("/remoteApi/tool/location/findRecordEnterpriseLocationList",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,floorId:this.formInline.floorId,status:this.status,locationId:this.formInline.locationId,locationAddress:this.formInline.locationAddress,pageSize:this.widgetInfo.pageSize,pageNo:this.widgetInfo.pageNo}).then(function(e){"success"===e.code&&(t.isLoading=!1,t.tableData=e.data.rows,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.value==e.status}).label}),t.widgetInfo.total=null==e.data.total?0:e.data.total,t.widgetInfo.pageSize=e.data.pageSize,t.widgetInfo.pageNo=e.data.pageNo)}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData("load")},handleEditPlan:function(e,t){var l=this;this.optMode=e,"add"==e?(this.dialogFormVisible=!0,this.optTitle="新增",this.plan={floorId:null},this.inputDisabled=!1,this.showSaveOrUpdate=!0):"edit"==e?(this.dialogFormVisible=!0,this.optTitle="编辑",this.getFloorInfo(t.buildId,function(){l.plan=t,l.plan.cretedBy=o.a.getGlobalVal("userObj").id,l.plan.trialId=l.facilitiesInData.id,l.inputDisabled=!1,l.showSaveOrUpdate=!0})):"delete"==e?this.deleteHandle(t):(this.dialogFormVisible=!0,this.optTitle="查看",this.viewHandle(t))},viewHandle:function(e){var t=this;t.isLoading=!0,o.a.post("/remoteApi/tool/location/findRecordEnterpriseLocationByLocationId",{locationId:e.locationId}).then(function(l){t.isLoading=!1,l&&"success"===l.code&&t.getFloorInfo(e.buildId,function(){t.plan=l.data,t.plan.cretedBy=o.a.getGlobalVal("userObj").id,t.inputDisabled=!0,t.showSaveOrUpdate=!1})}).catch(function(e){console.log(e),t.isLoading=!1})},deleteHandle:function(e){var t=this,l=this;l.plan=JSON.parse(JSON.stringify(e)),l.$confirm("确定要停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.isLoading=!0,o.a.post("/remoteApi/tool/location/deleteRecordEnterpriseLocationInfo",{locationId:l.plan.locationId,trialId:t.facilitiesInData.id,cretedBy:o.a.getGlobalVal("userObj").id}).then(function(e){l.isLoading=!1,e&&"success"===e.code?(l.$message({message:"已停用",type:"success"}),l.loadData("search")):l.$message({message:"停用异常",type:"error"})}).catch(function(e){console.log(e),l.isLoading=!1})}).catch(function(){})},saveOrUpdateForm:function(){var e=this;e.plan.locationName?e.plan.locationAddress?e.plan.locationPointX&&!isNaN(e.plan.locationPointX)?e.plan.locationPointY&&!isNaN(e.plan.locationPointY)?e.plan.buildId?e.plan.floorId?"add"==e.optMode?(e.plan.cretedBy=o.a.getGlobalVal("userObj").id,e.plan.unitId=this.facilitiesInData.unitId,e.plan.trialId=this.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/location/addRecordEnterpriseLocationInfo",e.plan).then(function(t){e.isLoading=!1,t&&"success"===t.code?(e.dialogFormVisible=!1,e.$message({message:"保存成功",type:"success"}),e.loadData("search")):e.$message({message:"保存失败",type:"error"})}).catch(function(t){console.log(t),e.isLoading=!1})):"edit"==e.optMode?(e.plan.cretedBy=o.a.getGlobalVal("userObj").id,e.plan.unitId=this.facilitiesInData.unitId,e.plan.trialId=this.facilitiesInData.id,e.isLoading=!0,o.a.post("/remoteApi/tool/location/updateRecordEnterpriseLocationInfo",e.plan).then(function(t){t&&"success"===t.code?(e.isLoading=!1,e.dialogFormVisible=!1,e.$message({message:"更新成功",type:"success"}),e.loadData("load")):(e.isLoading=!1,e.$message({message:"更新失败",type:"error"}))}).catch(function(t){console.log(t),e.isLoading=!1})):console.log("异常保存或更新模式"):e.$message({type:"warning",message:"请选择楼层"}):e.$message({type:"warning",message:"请选择楼栋"}):e.$message({type:"warning",message:"地点位置经度不能为非数字"}):e.$message({type:"warning",message:"地点位置纬度不能为非数字"}):e.$message({type:"warning",message:"地点位置详情不能为空"}):e.$message({type:"warning",message:"地点位置名称不能为空"})}}},c=(l(1665),l(31)),component=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:"}},[l("el-select",{attrs:{placeholder:"楼栋信息",filterable:"",loading:e.isLoading},on:{change:e.getFloorInfo},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.buildId,attrs:{label:e.buildName,value:e.buildId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:"}},[l("el-select",{attrs:{filterable:"",placeholder:"楼层信息"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId","string"==typeof t?t.trim():t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.floorId,attrs:{label:e.floorName,value:e.floorId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"商户ID:"}},[l("el-input",{model:{value:e.formInline.locationId,callback:function(t){e.$set(e.formInline,"locationId",t)},expression:"formInline.locationId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商户地址:"}},[l("el-input",{model:{value:e.formInline.locationAddress,callback:function(t){e.$set(e.formInline,"locationAddress",t)},expression:"formInline.locationAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",staticStyle:{width:"75%"}},[l("el-button",{on:{click:e.resetBtn}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"success"},on:{click:e.dialogShow}},[e._v("导入")]):e._e(),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEditPlan("add")}}},[e._v("新增")]):e._e()],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"locationId",label:"商户ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"locationName",label:"商户名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"locationAddress",label:"商户地址"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"locationPointX",label:"纬度"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"locationPointY",label:"经度"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"floorName",label:"楼层"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"stateName",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"25%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("edit",t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")]),e._v(" "),e.facilitiesInData.limtShow?l("el-button",{attrs:{type:"text",disabled:"1"!=t.row.status},on:{click:function(l){return e.handleEditPlan("delete",t.row)}}},[e._v("停用")]):e._e()]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,"before-close":e.rest,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"地点位置名称:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationName,callback:function(t){e.$set(e.plan,"locationName",t)},expression:"plan.locationName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"详细地址:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationAddress,callback:function(t){e.$set(e.plan,"locationAddress",t)},expression:"plan.locationAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地点位置纬度:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationPointX,callback:function(t){e.$set(e.plan,"locationPointX",t)},expression:"plan.locationPointX"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地点位置经度:","label-width":e.formLabelWidth,rules:{required:!0}}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationPointY,callback:function(t){e.$set(e.plan,"locationPointY",t)},expression:"plan.locationPointY"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"楼栋:",rules:{required:!0}}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"楼栋信息",filterable:""},on:{change:e.getFloorInfo},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId","string"==typeof t?t.trim():t)},expression:"plan.buildId"}},e._l(e.buildList,function(t){return l("el-option",{key:t.buildId,attrs:{label:t.buildName,value:t.buildId,loading:e.loading}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:",rules:{required:!0}}},[l("el-select",{attrs:{disabled:e.inputDisabled,filterable:"",placeholder:"楼层信息"},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId","string"==typeof t?t.trim():t)},expression:"plan.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.floorId,attrs:{label:e.floorName,value:e.floorId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"应用场景:","label-width":e.formLabelWidth}},[l("el-select",{attrs:{disabled:e.inputDisabled,placeholder:"应用场景"},model:{value:e.plan.projectType,callback:function(t){e.$set(e.plan,"projectType","string"==typeof t?t.trim():t)},expression:"plan.projectType"}},e._l(e.projectTypeList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),e.showSaveOrUpdate?l("div",{staticClass:"dialog-footer",staticStyle:{float:"right"},attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.rest}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.saveOrUpdateForm}},[e._v("确 定")])],1):e._e()],1)]),e._v(" "),l("el-dialog",{attrs:{title:"上传",visible:e.dialogExcelVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.dialogExcelVisible=t},close:e.closeDialog}},[l("div",{staticClass:"daoru-wrapper"},[l("import-upload",{ref:"myChild",attrs:{uploadVal:e.uploadVal},on:{importHandel:e.setImport}})],1)])],1)},[],!1,null,"b0965804",null);t.a=component.exports},1429:function(e,t,l){"use strict";l(316),l(50);var o=l(6),n={name:"MonitoringCenter",components:{Pagination:l(1147).a},props:["facilitiesInData"],data:function(){return{buildList:[],floorList:[],inputDisabled:!0,optTitle:"",formInline:{buildId:null,buildName:null,floorId:null,floorName:null,deviceId:null,deviceTypeIds:null,deviceSys:"00000000",device:"00000000"},status:0,stateList:[{id:"",name:"全部"},{id:0,name:"在用"},{id:1,name:"停用"}],deviceSys:[{value:"00000000",label:"全部"}],optsTemp:[{value:"00000000",label:"全部"}],searchFormLabelWidth:"80px",widgetInfo:{total:null,pageSize:6,pageNo:1},tableData:[],plan:{},isLoading:!1,dialogFormVisible:!1,formLabelWidth:"100%",ZS:{MONITOR:{}}}},mounted:function(){this.findBuildByUnitId(),this.createDeviceTypeSelect()},methods:{resetBtn:function(){var e=this.formInline;e.buildId=null,e.buildName=null,e.floorId=null,e.floorName=null,e.deviceName=null,e.deviceId=null,e.deviceTypeIds=null,e.deviceSys="00000000",e.device="00000000",this.ZS.MONITOR.deviceQueryType=null,this.status=0,this.loadData("search")},findBuildByUnitId:function(){var e=this;this.isLoading=!0,o.a.post("/remoteApi/tool/build/findBuildByUnitId",{unitId:this.facilitiesInData.unitId}).then(function(t){e.isLoading=!1,t&&"success"===t.code?e.buildList=t.data:console.log("没有数据")}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},getFloorInfo:function(e){var t=this;this.floorList=null,this.formInline.floorId=null,this.isLoading=!0,o.a.post("/remoteApi/tool/floor/getFloorInfoByUnitIdAndBuildId",{unitId:this.facilitiesInData.unitId,buildId:e}).then(function(e){t.isLoading=!1,e&&"success"===e.code?t.floorList=e.data:console.log("没有数据")}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},createDeviceTypeSelect:function(){var e=this;e.ZS.MONITOR.deviceQueryType="",o.a.post("/remoteApi/tool/deviceInfo/getDeviceTypeInfoList").then(function(data){data=data.data||[];if(e.ZS.MONITOR.deviceType=e.toTreeData(data),null!=e.ZS.MONITOR.deviceType[0]){var t=e.ZS.MONITOR.deviceType[0].children;for(var l in t){var o={};o.value=t[l].id,o.label=t[l].name,e.deviceSys.push(o)}}})},selectDeviceSys:function(e){if(this.optsTemp=[{value:"00000000",label:"全部"}],this.formInline.device="00000000","00000000"==e)this.ZS.MONITOR.deviceQueryType=null;else if(null!=this.ZS.MONITOR.deviceType[0]){var t=this.ZS.MONITOR.deviceType[0].children;for(var l in t)if(t[l].id==e){var o="",n=t[l].children;for(var r in this.options=[],n){var d={};d.value=n[r].id,d.label=n[r].name,this.optsTemp.push(d),this.options.push(d),o=o+","+d.value}o.length>0&&(this.ZS.MONITOR.deviceQueryType=o.substr(1))}}},selectDevice:function(e){if("00000000"==e){var t="";for(var l in this.options)"00000000"!=this.options[l].value&&(t=t+","+this.options[l].value);t.length>0&&(this.ZS.MONITOR.deviceQueryType=t.substr(1))}else this.ZS.MONITOR.deviceQueryType=e},createDeviceStatusSelect:function(){},toTreeData:function(data){for(var e={},t=[],i=0;0!=data.length;){if(-1==data[i].parentid)t.push({id:data[i].id,name:data[i].name,children:[]}),e[data[i].id]=[t.length-1],data.splice(i,1),i--;else{var l=e[data[i].parentid];if(null!=l){for(var o=t[l[0]],n=1;n<l.length;n++)o=o.children[l[n]];o.children.push({id:data[i].id,name:data[i].name,children:[]}),e[data[i].id]=l.concat([o.children.length-1]),data.splice(i,1),i--}}++i>data.length-1&&(i=0)}return t},getFloorInfoName:function(e){this.plan.floorName=this.floorList.find(function(t){return t.floorId===e}).floorName},loadData:function(e){var t=this;this.isLoading=!0,"search"==e&&(this.widgetInfo.pageNo=1),o.a.post("/remoteApi/tool/deviceInfo/monitorDeviceInfoPage",{unitId:this.facilitiesInData.unitId,buildId:this.formInline.buildId,floorId:this.formInline.floorId,dataState:this.status,deviceId:this.formInline.deviceId,deviceTypeIds:this.ZS.MONITOR.deviceQueryType,pageNo:this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}).then(function(e){"success"===e.code&&(t.isLoading=!1,t.tableData=e.data.rows,t.tableData.forEach(function(e){e.stateName=t.stateList.find(function(t){return t.id==e.dataState}).name}),t.widgetInfo.total=null==e.data.total?0:e.data.total,t.widgetInfo.pageSize=e.data.pageSize,t.widgetInfo.pageNo=e.data.pageNo)}).catch(function(e){t.isLoading=!1,t.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData("load")},handleEditPlan:function(e,t){var l=this;this.optMode=e,"view"==e&&(this.dialogFormVisible=!0,this.optTitle="查看",this.plan=JSON.parse(JSON.stringify(t)),this.inputDisabled=!0,this.showSaveOrUpdate=!1,this.$nextTick(function(){l.$refs.dialogScoll.scrollTop=0}))}}},r=(l(1667),l(31)),component=Object(r.a)(n,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"storied-suilding-wrapper"},[l("div",[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{placeholder:"楼栋信息",filterable:""},on:{change:e.getFloorInfo},model:{value:e.formInline.buildId,callback:function(t){e.$set(e.formInline,"buildId","string"==typeof t?t.trim():t)},expression:"formInline.buildId"}},e._l(e.buildList,function(e){return l("el-option",{key:e.buildId,attrs:{label:e.buildName,value:e.buildId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{filterable:"",placeholder:"楼层信息"},model:{value:e.formInline.floorId,callback:function(t){e.$set(e.formInline,"floorId","string"==typeof t?t.trim():t)},expression:"formInline.floorId"}},e._l(e.floorList,function(e){return l("el-option",{key:e.floorId,attrs:{label:e.floorName,value:e.floorId}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设施系统:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{placeholder:"设施系统"},on:{change:e.selectDeviceSys},model:{value:e.formInline.deviceSys,callback:function(t){e.$set(e.formInline,"deviceSys","string"==typeof t?t.trim():t)},expression:"formInline.deviceSys"}},e._l(e.deviceSys,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设施:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{placeholder:"全部"},on:{change:e.selectDevice},model:{value:e.formInline.device,callback:function(t){e.$set(e.formInline,"device","string"==typeof t?t.trim():t)},expression:"formInline.device"}},e._l(e.optsTemp,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设备ID:","label-width":e.searchFormLabelWidth}},[l("el-input",{model:{value:e.formInline.deviceId,callback:function(t){e.$set(e.formInline,"deviceId",t)},expression:"formInline.deviceId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"状态:","label-width":e.searchFormLabelWidth}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.stateList,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"t-right",staticStyle:{width:"50%"}},[l("el-button",{on:{click:e.resetBtn}},[e._v("重置")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData("search")}}},[e._v("搜索")])],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"deviceId",label:"设备ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"deviceAddress",label:"设备地址"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"deviceName",label:"设备名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"buildName",label:"楼栋"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"floorName",label:"楼层"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"8%","show-overflow-tooltip":!0,prop:"stateName",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","min-width":"15%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text"},on:{click:function(l){return e.handleEditPlan("view",t.row)}}},[e._v("查看")])]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.optTitle,visible:e.dialogFormVisible,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{ref:"dialogScoll",staticStyle:{height:"400px","overflow-x":"hidden","overflow-y":"auto"}},[l("el-form",{staticClass:"demo-table-expand dialog-expand",attrs:{model:e.plan,"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"id:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.id,callback:function(t){e.$set(e.plan,"id",t)},expression:"plan.id"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceAddress:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceAddress,callback:function(t){e.$set(e.plan,"deviceAddress",t)},expression:"plan.deviceAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"alarmCall:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.alarmCall,callback:function(t){e.$set(e.plan,"alarmCall",t)},expression:"plan.alarmCall"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceName,callback:function(t){e.$set(e.plan,"deviceName",t)},expression:"plan.deviceName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceTypePid:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTypePid,callback:function(t){e.$set(e.plan,"deviceTypePid",t)},expression:"plan.deviceTypePid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceTypeId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTypeId,callback:function(t){e.$set(e.plan,"deviceTypeId",t)},expression:"plan.deviceTypeId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceTypeName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTypeName,callback:function(t){e.$set(e.plan,"deviceTypeName",t)},expression:"plan.deviceTypeName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceId,callback:function(t){e.$set(e.plan,"deviceId",t)},expression:"plan.deviceId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"isCTerminal:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.isCTerminal,callback:function(t){e.$set(e.plan,"isCTerminal",t)},expression:"plan.isCTerminal"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"controlHost:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.controlHost,callback:function(t){e.$set(e.plan,"controlHost",t)},expression:"plan.controlHost"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"sourceId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.sourceId,callback:function(t){e.$set(e.plan,"sourceId",t)},expression:"plan.sourceId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"vender:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.vender,callback:function(t){e.$set(e.plan,"vender",t)},expression:"plan.vender"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"brand:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.brand,callback:function(t){e.$set(e.plan,"brand",t)},expression:"plan.brand"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"model:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.model,callback:function(t){e.$set(e.plan,"model",t)},expression:"plan.model"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"laLoop:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.laLoop,callback:function(t){e.$set(e.plan,"laLoop",t)},expression:"plan.laLoop"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"laMake:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.laMake,callback:function(t){e.$set(e.plan,"laMake",t)},expression:"plan.laMake"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"laPoint:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.laPoint,callback:function(t){e.$set(e.plan,"laPoint",t)},expression:"plan.laPoint"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"twoCode:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.twoCode,callback:function(t){e.$set(e.plan,"twoCode",t)},expression:"plan.twoCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"longitude:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.longitude,callback:function(t){e.$set(e.plan,"longitude",t)},expression:"plan.longitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"latitude:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.latitude,callback:function(t){e.$set(e.plan,"latitude",t)},expression:"plan.latitude"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"buildId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildId,callback:function(t){e.$set(e.plan,"buildId",t)},expression:"plan.buildId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"floorId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.floorId,callback:function(t){e.$set(e.plan,"floorId",t)},expression:"plan.floorId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"unitId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.unitId,callback:function(t){e.$set(e.plan,"unitId",t)},expression:"plan.unitId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"unitName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.unitName,callback:function(t){e.$set(e.plan,"unitName",t)},expression:"plan.unitName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"locationId:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationId,callback:function(t){e.$set(e.plan,"locationId",t)},expression:"plan.locationId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"locationName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.locationName,callback:function(t){e.$set(e.plan,"locationName",t)},expression:"plan.locationName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"subCenterCode:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.subCenterCode,callback:function(t){e.$set(e.plan,"subCenterCode",t)},expression:"plan.subCenterCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"subCenterName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.subCenterName,callback:function(t){e.$set(e.plan,"subCenterName",t)},expression:"plan.subCenterName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"enterpriseUnitServiceModel:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.enterpriseUnitServiceModel,callback:function(t){e.$set(e.plan,"enterpriseUnitServiceModel",t)},expression:"plan.enterpriseUnitServiceModel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"buildName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.buildName,callback:function(t){e.$set(e.plan,"buildName",t)},expression:"plan.buildName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"floorName:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.floorName,callback:function(t){e.$set(e.plan,"floorName",t)},expression:"plan.floorName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"floorAreaImg:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.floorAreaImg,callback:function(t){e.$set(e.plan,"floorAreaImg",t)},expression:"plan.floorAreaImg"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"runState:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.runState,callback:function(t){e.$set(e.plan,"runState",t)},expression:"plan.runState"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"sStatus:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.sStatus,callback:function(t){e.$set(e.plan,"sStatus",t)},expression:"plan.sStatus"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"dataState:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.dataState,callback:function(t){e.$set(e.plan,"dataState",t)},expression:"plan.dataState"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"unitPointX:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.unitPointX,callback:function(t){e.$set(e.plan,"unitPointX",t)},expression:"plan.unitPointX"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"unitPointY:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.unitPointY,callback:function(t){e.$set(e.plan,"unitPointY",t)},expression:"plan.unitPointY"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"unitAddress:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.unitAddress,callback:function(t){e.$set(e.plan,"unitAddress",t)},expression:"plan.unitAddress"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"districtCode:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.districtCode,callback:function(t){e.$set(e.plan,"districtCode",t)},expression:"plan.districtCode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"deviceTime:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.deviceTime,callback:function(t){e.$set(e.plan,"deviceTime",t)},expression:"plan.deviceTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"onlineState:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.onlineState,callback:function(t){e.$set(e.plan,"onlineState",t)},expression:"plan.onlineState"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"lastOnlineTime:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.lastOnlineTime,callback:function(t){e.$set(e.plan,"lastOnlineTime",t)},expression:"plan.lastOnlineTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"mapX:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.mapX,callback:function(t){e.$set(e.plan,"mapX",t)},expression:"plan.mapX"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"mapY:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.mapY,callback:function(t){e.$set(e.plan,"mapY",t)},expression:"plan.mapY"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"monitoringObject:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{disabled:e.inputDisabled,"auto-complete":"off"},model:{value:e.plan.monitoringObject,callback:function(t){e.$set(e.plan,"monitoringObject",t)},expression:"plan.monitoringObject"}})],1)],1)],1)])],1)},[],!1,null,"f00adcac",null);t.a=component.exports},1430:function(e,t,l){"use strict";var o=l(6),n={name:"Bluetooth",components:{Pagination:l(1147).a},props:["facilitiesInData"],data:function(){return{widgetInfo:{total:null,pageSize:6,pageNo:1},tableData:[],isLoading:!1,dialogFormVisible:!1,formLabelWidth:"140px"}},methods:{loadData:function(){var e=this;this.isLoading=!0,o.a.post(o.a.forent_url.base_url+"/inspection/plan/list.mvc?routingInspectionTypeId=C",{pageSize:this.widgetInfo.pageSize,pageNo:this.widgetInfo.pageNo,orgId:o.a.getGlobalVal("userObj").orgCode,isEnable:"",searchStartDate:"",searchEndDate:"",dates:"",planName:""},5e3).then(function(t){"success"===t.code&&(e.isLoading=!1,e.tableData=t.data.rows,e.widgetInfo.total=null==t.data.total?0:t.data.total,e.widgetInfo.pageSize=t.data.pageSize,e.widgetInfo.pageNo=t.data.pageNo)}).catch(function(t){e.isLoading=!1,e.$message({type:"warning",message:"加载超时,请重新加载!"})})},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.loadData()},handNewAddPlan:function(){this.dialogFormVisible=!0}}},r=(l(1669),l(31)),component=Object(r.a)(n,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"floor-wrapper"},[l("div",[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"楼栋ID:"}},[l("el-input")],1),e._v(" "),l("el-form-item",{attrs:{label:"楼层:"}},[l("el-input")],1),e._v(" "),l("el-form-item",{staticClass:"t-right",attrs:{label:""}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v("搜索")]),e._v(" "),l("el-button",{staticClass:"mag-right-10",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handNewAddPlan()}}},[e._v("新增")])],1)],1)],1),e._v(" "),l("div",{staticClass:"notab"},[l("el-scrollbar",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{data:e.tableData,stripe:""}},[l("el-table-column",{attrs:{align:"left","min-width":"10%","show-overflow-tooltip":!0,pageSize:"pageSize",prop:"planNo",label:"C端ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"left","min-width":"15%","show-overflow-tooltip":!0,prop:"planName",label:"C端地址"}})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1),e._v(" "),l("div",{staticClass:"bottom-button"},[l("el-button",{attrs:{type:"primary"}},[e._v("保存")]),e._v(" "),l("el-button",[e._v("重置")])],1),e._v(" "),l("el-dialog",{attrs:{title:"新增信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{staticClass:"demo-table-expand dialog-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"C端ID:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"C端地址:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"C端名称:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地址:","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"ea028f54",null);t.a=component.exports},1641:function(e,t){},1642:function(e,t){},1643:function(e,t,l){"use strict";var o=l(1323);l.n(o).a},1644:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".input-file[data-v-57e578f5]{display:none}",""])},1645:function(e,t,l){"use strict";var o=l(1324);l.n(o).a},1646:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".upload-content[data-v-73dd1fb0]{height:auto;width:100%;background:#fff;text-align:left;padding:5px 0;overflow-y:auto}.upload-content .upload-content-from[data-v-73dd1fb0]{width:450px}.upload-content .upload-content-from .el-upload-list[data-v-73dd1fb0]{width:410px}.upload-content .upload-content-from .el-form--label-top .el-form-item__label[data-v-73dd1fb0]{padding:0}",""])},1647:function(e,t,l){"use strict";var o=l(1325);l.n(o).a},1648:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".company-wrapper[data-v-e864422e]{font-size:0;text-align:left;height:calc(100vh - 138px);overflow-x:hidden;overflow-y:auto}.company-wrapper .bottom-button[data-v-e864422e],.company-wrapper .top-button[data-v-e864422e]{text-align:left;padding:0 15px 10px 0;margin-left:25px;margin-bottom:10px}.company-wrapper .bottom-button[data-v-e864422e]{padding:15px 15px 10px 0;border-bottom:none}.company-wrapper[data-v-e864422e] .demo-table-expand{font-size:0}.company-wrapper[data-v-e864422e] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:30.3%;box-sizing:border-box;padding:0 1.5%}.company-wrapper[data-v-e864422e] .demo-table-expand .el-form-item label{width:100%;text-align:left;padding-left:5px;padding-bottom:0;color:#99a9bf;display:inline-block}.company-wrapper[data-v-e864422e] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 20px)}.company-wrapper[data-v-e864422e] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.tips[data-v-e864422e]{width:auto;max-width:250px;line-height:16px}",""])},1649:function(e,t,l){"use strict";var o=l(1326);l.n(o).a},1650:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-c4bcf04c]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item label{text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-c4bcf04c]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-c4bcf04c] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-c4bcf04c] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item label{width:95px}.storied-suilding-wrapper[data-v-c4bcf04c] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 105px)}.storied-suilding-wrapper[data-v-c4bcf04c] .el-table .el-table__body-wrapper{height:calc(100vh - 385px);overflow:hidden;overflow-y:auto}",""])},1651:function(e,t,l){"use strict";var o=l(1327);l.n(o).a},1652:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-ae5c9c16]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item label{text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-ae5c9c16]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-ae5c9c16] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-ae5c9c16] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item label{width:95px}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 105px)}.storied-suilding-wrapper[data-v-ae5c9c16] .demo-table-expand .el-form-item.t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-ae5c9c16] .el-table .el-table__body-wrapper{height:calc(100vh - 385px);overflow:hidden;overflow-y:auto}",""])},1653:function(e,t,l){"use strict";var o=l(1328);l.n(o).a},1654:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-1afca973]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item label{width:95px;text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-1afca973]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-1afca973] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-1afca973] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item label{width:80px}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 80px)}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item.t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-1afca973] .demo-table-expand .el-form-item .el-button+.el-button{margin-left:5px}.storied-suilding-wrapper[data-v-1afca973] .el-table .el-table__body-wrapper{height:calc(100vh - 470px);overflow:hidden;overflow-y:auto}.plxg-wrap[data-v-1afca973]{height:100px}.plxg-wrap .demo-dynamic[data-v-1afca973],.plxg-wrap .demo-dynamic .form-list-wrapper[data-v-1afca973]{height:100px!important}",""])},1655:function(e,t,l){"use strict";var o=l(1329);l.n(o).a},1656:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-280e5252]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .el-form-item label{width:95px;text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-280e5252] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-280e5252]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-280e5252] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-280e5252] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}[data-v-280e5252] .demo-table-expand .el-form-item{width:20%!important}[data-v-280e5252] .demo-table-expand.dialog-expand .el-form-item{width:25%!important}[data-v-280e5252] .demo-table-expand.dialog-expand label{width:100%!important}",""])},1657:function(e,t,l){"use strict";var o=l(1330);l.n(o).a},1658:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-7939955e]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .el-form-item label{width:95px;text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-7939955e] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-7939955e]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-7939955e] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-7939955e] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}[data-v-7939955e] .demo-table-expand .el-form-item{width:20%!important}[data-v-7939955e] .demo-table-expand.dialog-expand .el-form-item{width:25%!important}",""])},1659:function(e,t,l){"use strict";var o=l(1331);l.n(o).a},1660:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-1fa17af4]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .el-form-item label{width:95px;text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-1fa17af4] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-1fa17af4]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-1fa17af4] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-1fa17af4] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}[data-v-1fa17af4] .demo-table-expand .el-form-item{width:20%!important}[data-v-1fa17af4] .demo-table-expand.dialog-expand .el-form-item{width:25%!important}",""])},1661:function(e,t,l){"use strict";var o=l(1332);l.n(o).a},1662:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-05db42fd]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item label{width:95px;text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-05db42fd]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-05db42fd] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-05db42fd] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item label{width:75px}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 75px)}.storied-suilding-wrapper[data-v-05db42fd] .demo-table-expand .el-form-item.t-right .el-form-item__content{width:100%}[data-v-05db42fd] .demo-table-expand .el-form-item{width:20%!important}[data-v-05db42fd] .demo-table-expand.dialog-expand .el-form-item{width:25%!important}",""])},1663:function(e,t,l){"use strict";var o=l(1333);l.n(o).a},1664:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-94b0e9f2]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item label{text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-94b0e9f2]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-94b0e9f2] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-94b0e9f2] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item label{width:95px}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 105px)}.storied-suilding-wrapper[data-v-94b0e9f2] .demo-table-expand .el-form-item.t-right .el-form-item__content{width:100%}[data-v-94b0e9f2] .demo-table-expand .el-form-item{width:20%!important}[data-v-94b0e9f2] .demo-table-expand.dialog-expand .el-form-item{width:25%!important}",""])},1665:function(e,t,l){"use strict";var o=l(1334);l.n(o).a},1666:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-b0965804]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item label{text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-b0965804]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-b0965804] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-b0965804] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item label{width:95px}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 95px)}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item.t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-b0965804] .demo-table-expand .el-form-item .el-button+.el-button{margin-left:5px}.storied-suilding-wrapper[data-v-b0965804] .el-table .el-table__body-wrapper{height:calc(100vh - 440px);overflow:hidden;overflow-y:auto}.plxg-wrap[data-v-b0965804]{height:100px}.plxg-wrap .demo-dynamic[data-v-b0965804],.plxg-wrap .demo-dynamic .form-list-wrapper[data-v-b0965804]{height:100px!important}",""])},1667:function(e,t,l){"use strict";var o=l(1335);l.n(o).a},1668:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".storied-suilding-wrapper[data-v-f00adcac]{font-size:0;text-align:left}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand{font-size:0;margin:5px 10px}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:25%}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item label{width:95px;text-align:right;padding-left:5px;display:inline-block}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 100px)}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item .el-form-item__content .el-select{width:100%}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .t-right{text-align:right}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.storied-suilding-wrapper .bottom-button[data-v-f00adcac]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}[data-v-f00adcac] .el-table .el-table__body-wrapper{height:calc(100vh - 376px);overflow-y:auto}[data-v-f00adcac] .el-table .el-table__body-wrapper .el-button+.el-button{margin-left:0}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item label{width:80px}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item .el-form-item__content{width:calc(100% - 80px)}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item.t-right .el-form-item__content{width:100%}.storied-suilding-wrapper[data-v-f00adcac] .demo-table-expand .el-form-item .el-button+.el-button{margin-left:5px}.storied-suilding-wrapper[data-v-f00adcac] .el-table .el-table__body-wrapper{height:calc(100vh - 430px);overflow:hidden;overflow-y:auto}",""])},1669:function(e,t,l){"use strict";var o=l(1336);l.n(o).a},1670:function(e,t,l){(e.exports=l(16)(!1)).push([e.i,".floor-wrapper[data-v-ea028f54]{font-size:0;text-align:left}.floor-wrapper[data-v-ea028f54] .demo-table-expand{font-size:0}.floor-wrapper[data-v-ea028f54] .demo-table-expand.dialog-expand .el-form-item{margin-bottom:8px}.floor-wrapper[data-v-ea028f54] .demo-table-expand.dialog-expand .el-form-item label{color:#0d87d4;text-align:left}.floor-wrapper[data-v-ea028f54] .demo-table-expand.dialog-expand .el-form-item .el-form-item__content{width:calc(100% - 20px)}.floor-wrapper[data-v-ea028f54] .demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:33.3%}.floor-wrapper[data-v-ea028f54] .demo-table-expand .el-form-item label{width:70px;text-align:right;padding-left:5px;display:inline-block}.floor-wrapper[data-v-ea028f54] .demo-table-expand .el-form-item .el-form-item__content{height:43px;width:calc(100% - 80px)}.floor-wrapper[data-v-ea028f54] .demo-table-expand .el-form-item .el-form-item__content .span-show{height:32px;display:inline-block;width:auto;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.floor-wrapper[data-v-ea028f54] .demo-table-expand .t-right{text-align:right}.floor-wrapper[data-v-ea028f54] .demo-table-expand .t-right .mag-right-10{margin-right:10px}.floor-wrapper .bottom-button[data-v-ea028f54]{text-align:right;padding:20px 15px 10px 0;border-top:1px dashed #dcdcdc;margin:10px 0}",""])}}]);