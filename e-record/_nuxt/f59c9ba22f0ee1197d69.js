(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1145:function(e,t,o){var content=o(1150);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("59352f9c",content,!0,{sourceMap:!1})},1146:function(e,t,o){var content=o(1152);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("031c9afc",content,!0,{sourceMap:!1})},1147:function(e,t,o){"use strict";o(6);var l={props:{widgetInfo:Object},data:function(){return{}},methods:{handleSizeChange:function(e){this.pageSize=e,this.$emit("sonHandleCurrentChange",{pageSize:this.pageSize})},handleCurrentChange:function(e){this.$emit("sonHandleCurrentChange",{pageNo:e})}},mounted:function(){this.$emit("sonHandleCurrentChange",{pageSize:10,pageNo:1})}},n=(o(1149),o(31)),component=Object(n.a)(l,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-pagination",{attrs:{"current-page":this.widgetInfo.pageNo,"page-sizes":[10,20,30,40],"page-size":this.widgetInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.widgetInfo.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},[],!1,null,"352c168e",null);t.a=component.exports},1148:function(e,t,o){"use strict";var l=o(6),n={data:function(){return{CmenuName:{}}},mounted:function(){this.CmenuName=l.a.getGlobalVal("CmenuName"),console.log("this.CmenuName:",this.CmenuName)}},r=(o(1151),o(31)),component=Object(r.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",{staticClass:"l-head"},[t("span",[this._v(this._s(this.CmenuName.parName)+" >")]),this._v(" "),t("span",[this._v(this._s(this.CmenuName.name))])])])},[],!1,null,"3d4e79c6",null);t.a=component.exports},1149:function(e,t,o){"use strict";var l=o(1145);o.n(l).a},1150:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,".notab[data-v-352c168e]{height:calc(100vh - 216px);width:100%;background:#fff;border:1px solid #e2e4e8}.notab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 266px)}.staticNotab[data-v-352c168e]{height:calc(100vh - 136px);width:100%;background:#fff;border:1px solid #e2e4e8}.reportNoTab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 296px);overflow-y:auto}.userNotab[data-v-352c168e]{height:calc(100vh - 180px);width:100%;background:#fff}.userNotab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 188px);overflow-y:auto}.myTab[data-v-352c168e]{height:calc(100vh - 258px);background:#fff;width:100%;border:1px solid #e2e4e8}.myTab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 308px)}@media screen and (max-width:1680px){.notab[data-v-352c168e]{height:calc(100vh - 208px);background:#fff}.notab>div[data-v-352c168e]:first-child{height:calc(100vh - 258px)}.myTab[data-v-352c168e]{height:calc(100vh - 250px);background:#fff}.myTab>div[data-v-352c168e]:first-child{height:calc(100vh - 300px)}.staticNotab[data-v-352c168e]{height:calc(100vh - 132px)}}@media screen and (max-width:1440px){.notab[data-v-352c168e]{height:calc(100vh - 173px);background:#fff}.notab>div[data-v-352c168e]:first-child{height:calc(100vh - 223px)}.myTab[data-v-352c168e]{height:calc(100vh - 215px);background:#fff}.myTab>div[data-v-352c168e]:first-child{height:calc(100vh - 265px)}.staticNotab[data-v-352c168e]{height:calc(100vh - 107px)}}@media screen and (max-width:1366px){.reportNoTab>div[data-v-352c168e]:first-child{width:100%;height:calc(100vh - 286px);overflow-y:auto}}",""])},1151:function(e,t,o){"use strict";var l=o(1146);o.n(l).a},1152:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,".l-head[data-v-3d4e79c6]{font-weight:400;font-family:Microsoft YaHei;padding:0 0 10px;margin-left:.6rem;text-align:left}.l-head span[data-v-3d4e79c6]{font-size:1.8rem;color:#717171;line-height:3.9rem}@media screen and (max-width:1440px){.l-head span[data-v-3d4e79c6]{line-height:1.7rem}}",""])},1237:function(e,t,o){var content=o(1501);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("71471ecb",content,!0,{sourceMap:!1})},1238:function(e,t,o){var content=o(1503);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("44f43410",content,!0,{sourceMap:!1})},1239:function(e,t,o){var content=o(1505);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("5af4e184",content,!0,{sourceMap:!1})},1240:function(e,t,o){var content=o(1507);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(17).default)("5396b7e0",content,!0,{sourceMap:!1})},1498:function(e){e.exports=[{value:"",label:"全部"},{value:"02060000",label:"点型感烟探测器"},{value:"02070000",label:"点型感温探测器"},{value:"02080000",label:"线型感烟探测器"},{value:"02090000",label:"线型感温探测器"},{value:"02040000",label:"声光报警器"},{value:"02100000",label:"光束感烟探测器（发射部分）"},{value:"02110000",label:"光束感烟探测器（接收部分）"},{value:"02120000",label:"点型感光探测器"},{value:"02130000",label:"复合式感光感烟探测器（点型）"},{value:"02140000",label:"复合式感光感温探测器（点型）"},{value:"02150000",label:"复合式感烟感温探测器（点型）"},{value:"02160000",label:"其他探测器（空气采样探测器）"},{value:"02170000",label:"手动报警按钮"},{value:"02180000",label:"消防电源主电源"},{value:"02190000",label:"消防电源备用电源"},{value:"02200000",label:"图形显示探测器"},{value:"02210000",label:"火焰探测器"},{value:"02900000",label:"其他火灾自动报警监控系统设备"}]},1499:function(e,t,o){e.exports=o.p+"img/d6df2c9.png"},1500:function(e,t,o){"use strict";var l=o(1237);o.n(l).a},1501:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,'.monitor-search .el-form .left[data-v-dfacc108]{text-align:left}.monitor-search .el-form .left .el-col .inner[data-v-dfacc108]{text-align:left;text-indent:2em;font-size:18px;line-height:28px}.monitor-search .el-form .right[data-v-dfacc108]{text-align:right;line-height:17px}.monitor-search .el-form .right .el-form-item[data-v-dfacc108]{font-size:17px;margin-bottom:14px}.el-radio-button[data-v-dfacc108]{width:90px}.el-form-item--small .el-form-item__content[data-v-dfacc108],.el-form-item--small .el-form-item__label[data-v-dfacc108]{line-height:64px;max-width:16rem}.el-form-item--mini.el-form-item[data-v-dfacc108],.el-form-item--small.el-form-item[data-v-dfacc108]{margin-bottom:0}.form-left[data-v-dfacc108]{float:left}.form-right[data-v-dfacc108]{float:right}.el-button[data-v-dfacc108],.el-icon-search[data-v-dfacc108]{font-size:1.6rem}.el-icon-search[data-v-dfacc108]{cursor:pointer;color:#409eff;font-weight:700}.clearfloat[data-v-dfacc108]:after{display:block;clear:both;content:"";visibility:hidden;height:0}',""])},1502:function(e,t,o){"use strict";var l=o(1238);o.n(l).a},1503:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,".table[data-v-6c3c6f93]{width:100vw;overflow-y:hidden}",""])},1504:function(e,t,o){"use strict";var l=o(1239);o.n(l).a},1505:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,".notab[data-v-654092ee]{height:calc(100vh - 216px);width:100%;background:#fff;border:1px solid #e2e4e8}.notab>div[data-v-654092ee]:first-child{width:100%;height:calc(100vh - 266px)}.staticNotab[data-v-654092ee]{height:calc(100vh - 136px);width:100%;background:#fff;border:1px solid #e2e4e8}.reportNoTab>div[data-v-654092ee]:first-child{width:100%;height:calc(100vh - 296px);overflow-y:auto}.userNotab[data-v-654092ee]{height:calc(100vh - 180px);width:100%;background:#fff}.userNotab>div[data-v-654092ee]:first-child{width:100%;height:calc(100vh - 188px);overflow-y:auto}.myTab[data-v-654092ee]{height:calc(100vh - 258px);background:#fff;width:100%;border:1px solid #e2e4e8}.myTab>div[data-v-654092ee]:first-child{width:100%;height:calc(100vh - 308px)}@media screen and (max-width:1680px){.notab[data-v-654092ee]{height:calc(100vh - 208px);background:#fff}.notab>div[data-v-654092ee]:first-child{height:calc(100vh - 258px)}.myTab[data-v-654092ee]{height:calc(100vh - 250px);background:#fff}.myTab>div[data-v-654092ee]:first-child{height:calc(100vh - 300px)}.staticNotab[data-v-654092ee]{height:calc(100vh - 132px)}}@media screen and (max-width:1440px){.notab[data-v-654092ee]{height:calc(100vh - 173px);background:#fff}.notab>div[data-v-654092ee]:first-child{height:calc(100vh - 223px)}.myTab[data-v-654092ee]{height:calc(100vh - 215px);background:#fff}.myTab>div[data-v-654092ee]:first-child{height:calc(100vh - 265px)}.staticNotab[data-v-654092ee]{height:calc(100vh - 107px)}}@media screen and (max-width:1366px){.reportNoTab>div[data-v-654092ee]:first-child{width:100%;height:calc(100vh - 286px);overflow-y:auto}}.el-row[data-v-654092ee]{height:100%}.el-row .el-col .el-tab-pane[data-v-654092ee]{height:100%;background-color:#fff}.el-row .el-col .el-tab-pane .el-row[data-v-654092ee]{height:10vh}.el-row .el-col .el-tabs--card .el-tabs__header .el-tabs__nav[data-v-654092ee]{border-left:none;background-color:#edf0f7}.el-row .el-col .el-tabs--border-card[data-v-654092ee]{box-shadow:none;background-color:none;border:none}.el-row .el-col .el-tabs__nav[data-v-654092ee]{line-height:4rem;height:4rem}.el-row .el-col .el-tabs__content[data-v-654092ee]{background-color:#fff;padding:0}.el-row .el-col .el-tabs__item.is-top[data-v-654092ee]{font-size:1.8rem;background:#f0f3fa;border-radius:3px;box-shadow:0 -2px 2px #c5cfe8;padding:0 3rem}.el-row .el-col .el-tabs__item.is-hover[data-v-654092ee]{background:none}.el-row .nihao.wohao[data-v-654092ee]{background-color:red}",""])},1506:function(e,t,o){"use strict";var l=o(1240);o.n(l).a},1507:function(e,t,o){(e.exports=o(16)(!1)).push([e.i,"div#real-time-monitoring-device.el-tabs .el-tabs__header{background-color:#edf0f7;display:inline-block;width:100%}div#real-time-monitoring-device.el-tabs .el-tabs__header .el-tabs__nav-wrap,div#real-time-monitoring-device.el-tabs .el-tabs__header .el-tabs__nav-wrap .el-tabs__nav-scroll{overflow:inherit}div#real-time-monitoring-device.el-tabs .el-tabs__header .el-tabs__nav-wrap .el-tabs__nav-scroll .el-tabs__nav{margin-bottom:-1px}div#real-time-monitoring-device.el-tabs .el-tabs__header .el-tabs__nav-wrap .el-tabs__nav-scroll .el-tabs__item{float:left;height:100%;text-align:center;background-color:#f0f3fa;border-radius:3px;box-shadow:0 -2px 2px #c5cfe8!important;font-size:1.5rem;color:#000;cursor:pointer}div#real-time-monitoring-device.el-tabs .el-tabs__header .el-tabs__nav-wrap .el-tabs__nav-scroll .el-tabs__item.is-active{background-color:#fff;color:#1c7ff3}div#real-time-monitoring-device.el-tabs .el-tabs__content{padding-left:0;padding-right:0}div#real-time-monitoring-device.el-tabs .el-tabs__content .el-table .cell{line-height:23px!important}",""])},1798:function(e,t,o){"use strict";o.r(t);o(486),o(223),o(487),o(50);var l=o(6),n=o(1148),r=o(1498),d={props:["widgetInfo"],data:function(){return{unitId:""}},methods:{handleClick:function(e){},handleSearch:function(){},handleSelect:function(){this.$emit("updateSearchCondition",this.widgetInfo)},sendMsgParent:function(){this.widgetInfo.deviceType.deviceTypePid=this.widgetInfo.deviceType.deviceTypeId.substr(0,2)||"02000000",this.$emit("updateSearchCondition",this.widgetInfo)}}},c=(o(1500),o(31)),h=Object(c.a)(d,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"monitor-search"},[l("el-form",{staticClass:"demo-form-inline clearfloat monit",attrs:{inline:!0,model:e.widgetInfo}},[l("el-col",{staticClass:"left",attrs:{span:6}},[l("el-col",{attrs:{span:24}},[l("div",{staticClass:"inner"},[l("span",[l("img",{staticClass:"head-img",attrs:{src:o(1499),alt:""}})]),e._v(" "),e._t("sum_num_name",[e._v("这是拥有命名的slot的默认内容")],{id:"sum_num_name"})],2)])],1),e._v(" "),l("el-col",{staticClass:"right",attrs:{span:18}},[l("el-form-item",{attrs:{label:"楼栋"}},[l("el-select",{ref:"floorInfo",attrs:{placeholder:"楼栋"},on:{change:e.handleSelect},model:{value:e.widgetInfo.floor.buildId,callback:function(t){e.$set(e.widgetInfo.floor,"buildId","string"==typeof t?t.trim():t)},expression:"widgetInfo.floor.buildId"}},e._l(e.widgetInfo.listFloor,function(t){return l("el-option",{key:t.id,attrs:{label:t.buildName,value:t.buildId},on:{click:function(t){return e.handleClick(e.event)}}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"设备类型"}},[l("el-select",{attrs:{placeholder:"设备类型"},on:{change:e.handleSelect},model:{value:e.widgetInfo.deviceType.deviceTypeId,callback:function(t){e.$set(e.widgetInfo.deviceType,"deviceTypeId","string"==typeof t?t.trim():t)},expression:"widgetInfo.deviceType.deviceTypeId"}},e._l(e.widgetInfo.listDeviceType,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"运行状态"}},[l("el-select",{attrs:{placeholder:"设备类型"},on:{change:e.handleSelect},model:{value:e.widgetInfo.runState.value,callback:function(t){e.$set(e.widgetInfo.runState,"value","string"==typeof t?t.trim():t)},expression:"widgetInfo.runState.value"}},e._l(e.widgetInfo.listRunState,function(e){return l("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1)},[],!1,null,"dfacc108",null).exports,f={props:["dataList","widgetInfo","loading","headers","tab"],mounted:function(){console.log("document.body.clientWidth :",document.body.clientWidth),console.log("process.browser",!0),console.log("window.navigator.userAgent",window.navigator.userAgent)},created:function(){},data:function(){return{currentPage:1,total:null,parentWidth:1920,tableData:[],rowStyle:{height:"48px","font-size":"17px"},cellStyle:{"font-size":"16px"},headerCellStyle:{height:"60px","background-color":"#eef5fc","font-size":"15px"}}},computed:{},methods:{initWidth:function(){},handleSizeChange:function(e){},handleCurrentChange:function(e){this.$emit("sonHandleCurrentChange",{pageNo:e})},runState_formatter:function(e,t,o,l){return this.transformRunState(o)},transformRunState:function(e){switch(e){case"":return"全部";case 0:return"正常";case 1:return"报警";case 2:return"故障";case 3:return"其他";default:return"全部"}},isIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)}}},v=(o(1502),Object(c.a)(f,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-col",{attrs:{span:24}},[o("el-table",{attrs:{data:e.dataList.rows,stripe:"","row-style":e.rowStyle,"header-cell-style":e.headerCellStyle,"cell-style":e.cellStyle}},e._l(e.headers,function(header){return o("el-table-column",{key:header.prop,attrs:{prop:header.prop,"show-overflow-tooltip":"",label:header.label}})}),1),e._v(" "),o("el-pagination",{attrs:{"current-page":e.dataList.pageNo,"page-size":e.dataList.pageSize,layout:"total,prev, pager, next, jumper",total:e.dataList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},[],!1,null,"6c3c6f93",null).exports),m=o(1147),w=(o(51),{components:{Title:n.a,MonitorSearch:h,Table:v,Pagination:m.a},mounted:function(){this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="02000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="",this.widgetInfo.runState.value="",this.initDeviceTypeList(0),this.initBuildList(),this.initHeader("0"),this.initRunStatusList(0),this.hasMounted=!0},data:function(){return{tabName:"0",TIMEOUT:5e3,tabs:[{name:"火灾自动报警系统",monitorName:"火灾自动报警装置",id:"0",render:!0},{name:"用户信息传输装置",monitorName:"用户信息传输装置",id:"4",render:!1},{name:"电气火灾监测",monitorName:"电气火灾监测",id:"1",render:!1},{name:"消防供水监测",monitorName:"消防供水监测",id:"2",render:!1},{name:"独立式监测设备",monitorName:"独立式监测设备",id:"3",render:!1},{name:"防火门",monitorName:"防火门监测",id:"5",render:!1}],tabHeader:[],hasMounted:!1,list:[],loading:!0,widgetInfo:{floor:{unitId:"",buildId:"",buildName:""},deviceType:{deviceTypeId:"",deviceTypePid:"",label:""},runState:{label:"",value:""},total:0,pageSize:1,pageNo:1,listFloor:[],listDeviceType:[],listRunState:[{id:"0",label:"全部",value:""},{id:"1",label:"正常",value:0},{id:"2",label:"报警",value:1},{id:"3",label:"故障",value:2},{id:"4",label:"其他",value:3}]},rowStyle:{height:"48px","font-size":"17px"},cellStyle:{"font-size":"16px"},headerCellStyle:{height:"60px","background-color":"#eef5fc","font-size":"1.5rem"}}},methods:{initDeviceTypeList:function(e){this.widgetInfo.deviceType.deviceTypeId="";var t=[];"0"==e?(this.widgetInfo.listDeviceType=r,this.widgetInfo.deviceType.deviceTypeId=r[0].value):"1"==e?(t=[{value:"19050000",label:"电气火灾监控装置"}],this.widgetInfo.listDeviceType=t):"2"==e?(t=[{value:"19020000,19030000,19080000,19150000,19180000",label:"全部"},{value:"19020000",label:"室内消火栓水压监测装置"},{value:"19030000",label:"室外消火栓水压监测装置"},{value:"19080000",label:"喷淋末端自动试水装置"},{value:"19150000",label:"水位传感器"},{value:"19180000",label:"消防泵启停监测装置"}],this.widgetInfo.listDeviceType=t):"3"==e?(t=[{value:"19210000",label:"独立式烟感"}],this.widgetInfo.listDeviceType=t):"4"==e?(t=[{value:"19010000",label:"用户信息传输装置"}],this.widgetInfo.listDeviceType=t):"5"==e&&(t=[{value:"19120000",label:"防火门"}],this.widgetInfo.listDeviceType=t,this.widgetInfo.deviceType.deviceTypeId=t[0].value)},initHeader:function(e){if("0"===e){var t=[{prop:"deviceName",label:"设施名称",minWidth:"10",showOverFlowTooltip:!0},{prop:"deviceTypeName",label:"设施类型",minWidth:"15",showOverFlowTooltip:!0},{prop:"deviceAddress",label:"设施地址",minWidth:"25",showOverFlowTooltip:!0},{prop:"runState",label:"运行状态",minWidth:"10",formatter:this.formatRunState,showOverFlowTooltip:!0},{prop:"laLoop",label:"回路点位",minWidth:"8",formatter:this.formatLaLoop,showOverFlowTooltip:!0},{prop:"updateTime",label:"数据时间",minWidth:"10",showOverFlowTooltip:!0}];this.tabHeader=this.calcPercentWidth(t),this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="02000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="",this.widgetInfo.runState.value="",this.handleSearch()}else if("1"==e){t=[{prop:"deviceName",label:"设施名称",minWidth:"15",showOverFlowTooltip:!0},{prop:"deviceTypeName",label:"设施类型",minWidth:"15",showOverFlowTooltip:!0},{prop:"deviceAddress",label:"设施地址",minWidth:"15",showOverFlowTooltip:!0},{prop:"currentMa",label:"剩余电流(A)",minWidth:"10",showOverFlowTooltip:!0},{prop:"temA",label:"A相温度/A相电流",minWidth:"10",formatter:this.formatAtempelec,showOverFlowTooltip:!0},{prop:"temB",label:"B相温度/B相电流",minWidth:"10",formatter:this.formatBtempelec,showOverFlowTooltip:!0},{prop:"temC",label:"C相温度/C相电流",minWidth:"10",formatter:this.formatCtempelec,showOverFlowTooltip:!0},{prop:"temD",label:"N相温度",minWidth:"10",showOverFlowTooltip:!0},{prop:"runState",label:"运行状态",minWidth:"10",formatter:this.formatRunState,showOverFlowTooltip:!0},{prop:"updateTime",label:"数据时间",minWidth:"10",showOverFlowTooltip:!0}];this.tabHeader=this.calcPercentWidth(t),this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="19000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="19050000",this.widgetInfo.runState.value="",this.handleSearch()}else if("2"==e){t=[{prop:"deviceName",label:"设施名称",minWidth:"13",showOverFlowTooltip:!0},{prop:"deviceTypeName",label:"设施类型",minWidth:"17",showOverFlowTooltip:!0},{prop:"deviceAddress",label:"设施地址",minWidth:"20",showOverFlowTooltip:!0},{prop:"waterGage",label:"压力值/水位值",minWidth:"10",showOverFlowTooltip:!0},{prop:"voltage",label:"电压",minWidth:"10",showOverFlowTooltip:!0},{prop:"onlineStateDesc",label:"在线状态",minWidth:"10",formatter:this.formatOnlineState,showOverFlowTooltip:!0},{prop:"runState",label:"运行状态",minWidth:"10",formatter:this.formatRunState,showOverFlowTooltip:!0},{prop:"updateTime",label:"数据时间",minWidth:"10",showOverFlowTooltip:!0}];this.tabHeader=this.calcPercentWidth(t),this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="19000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="19020000,19030000,19080000,19150000,19180000",this.widgetInfo.runState.value="",this.handleSearch()}else if("3"==e){t=[{prop:"deviceId",label:"设备ID",minWidth:"13",showOverFlowTooltip:!0},{prop:"deviceName",label:"设施名称",minWidth:"13",showOverFlowTooltip:!0},{prop:"deviceTypeName",label:"设施类型",minWidth:"17",showOverFlowTooltip:!0},{prop:"deviceAddress",label:"安装地址",minWidth:"20",showOverFlowTooltip:!0},{prop:"remaind",label:"电池电量(%)",minWidth:"10",showOverFlowTooltip:!0},{prop:"onlineStateDesc",label:"在线状态",minWidth:"10",formatter:this.formatOnlineState,showOverFlowTooltip:!0},{prop:"runState",label:"运行状态",minWidth:"10",formatter:this.formatRunState,showOverFlowTooltip:!0},{prop:"updateTime",label:"数据时间",minWidth:"10",showOverFlowTooltip:!0}];this.tabHeader=this.calcPercentWidth(t),this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="19000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="19210000",this.widgetInfo.runState.value="",this.handleSearch()}else if("4"==e){t=[{prop:"deviceName",label:"设施名称",minWidth:"10",showOverFlowTooltip:!0},{prop:"deviceTypeName",label:"设施类型",minWidth:"15",showOverFlowTooltip:!0},{prop:"deviceAddress",label:"设施地址",minWidth:"25",showOverFlowTooltip:!0},{prop:"onlineStateDesc",label:"在线状态",minWidth:"10",formatter:this.formatOnlineState,showOverFlowTooltip:!0},{prop:"runState",label:"运行状态",minWidth:"10",formatter:this.formatRunState,showOverFlowTooltip:!0},{prop:"laLoop",label:"回路点位",minWidth:"8",formatter:this.formatLaLoop,showOverFlowTooltip:!0},{prop:"updateTime",label:"数据时间",minWidth:"10",showOverFlowTooltip:!0}];this.tabHeader=this.calcPercentWidth(t),this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="19000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="19010000",this.widgetInfo.runState.value="",this.handleSearch(this.widgetInfo,"devicetype:".concat(e))}else if("5"==e){t=[{prop:"deviceName",label:"设施名称",minWidth:"10",showOverFlowTooltip:!0},{prop:"deviceTypeName",label:"设施类型",minWidth:"15",showOverFlowTooltip:!0},{prop:"deviceAddress",label:"设施地址",minWidth:"25",showOverFlowTooltip:!0},{prop:"onlineStateDesc",label:"在线状态",minWidth:"10",formatter:this.formatOnlineState,showOverFlowTooltip:!0},{prop:"runState",label:"运行状态",minWidth:"10",formatter:this.formatRunState,showOverFlowTooltip:!0},{prop:"updateTime",label:"数据时间",minWidth:"10",showOverFlowTooltip:!0}];this.tabHeader=this.calcPercentWidth(t),this.widgetInfo.floor.unitId=l.a.getGlobalVal("userObj").orgCode,this.widgetInfo.deviceType.deviceTypePid="19000000",this.widgetInfo.floor.buildId="",this.widgetInfo.deviceType.deviceTypeId="19120000",this.widgetInfo.runState.value="",this.handleSearch(this.widgetInfo,"devicetype:".concat(e))}},labelHead:function(e,t){var o=t.column,l=(t.index,o.label.length);return o.minWidth=16*l,console.log("column.minWidth:".concat(o.minWidth)),e("div",{class:"table-head",style:{width:"100%"}},[o.label])},initBuildList:function(){var e=this;l.a.get(l.a.forent_url.e_record_url+"/record/enterpriseBulid",{unitId:l.a.getGlobalVal("userObj").orgCode}).then(function(t){t&&"success"==t.code&&(t.data.unshift({buildName:"全部",buildId:"",id:""}),e.widgetInfo.listFloor=t.data,e.widgetInfo.floor.buildId=t.data[0].buildId,e.widgetInfo.floor.unitId=t.data[0].unitId,e.widgetInfo.floor.buildName=t.data[0].buildName)})},updateSearchCondition:function(e){this.handleSearch(this.widgetInfo,"updateSearchCondition")},handleClick:function(e){for(var t=e.name,i=0;i<this.tabs.length;i++)this.tabs[i].name==e.label?this.tabs[i].render=!0:this.tabs[i].render=!1;this.initDeviceTypeList(t),this.initBuildList(),this.initHeader(t),this.initRunStatusList(t)},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.hasMounted&&this.handleSearch("","sonHandleCurrentChange")},handleSearch:function(data,e){var t=this;this.loading=!0;var o={unitId:this.widgetInfo.floor.unitId||l.a.getGlobalVal("userObj").orgCode,buildId:this.widgetInfo.floor.buildId,deviceTypeId:this.widgetInfo.deviceType.deviceTypeId,deviceTypePid:this.widgetInfo.deviceType.deviceTypePid,runState:this.widgetInfo.runState.value,pageSize:this.widgetInfo.pageSize||10,pageNo:this.widgetInfo.pageNo||1};l.a.post(l.a.forent_url.monitor_url+"/monitor/getDevicePageByCondition",o,this.TIMEOUT).then(function(e){e&&"success"==e.code&&(t.loading=!1,t.widgetInfo.totalNum=Number.parseInt(e.data.total),t.widgetInfo.total=Number.parseInt(e.data.total)||0,t.list=e.data)}).catch(function(e){t.$message({type:"warning",message:"加载超时，请重新加载！"}),t.loading=!1})},initRunStatusList:function(e){if("1"==e)var t=[{value:"",label:"全部"},{value:"0",label:"正常"},{value:"1",label:"报警"},{value:"2",label:"故障"},{value:"98",label:"预警"},{value:"3",label:"其他"}];else if("5"==e)t=[{value:"",label:"全部"},{value:"0",label:"正常"},{value:"1",label:"报警"},{value:"2",label:"故障"},{value:"96",label:"开启"},{value:"97",label:"关闭"}];else t=[{value:"",label:"全部"},{value:"0",label:"正常"},{value:"1",label:"报警"},{value:"2",label:"故障"},{value:"3",label:"其他"}];this.widgetInfo.listRunState=t},calcPercentWidth:function(e){for(var t=0,o=0,l=0,i=0;i<e.length;i++)t+=Number.parseFloat(e[i].minWidth);for(i=0;i<e.length;i++)o=Number.parseFloat(e[i].minWidth),l=Number.parseFloat(o/t).toFixed(4),e[i].percentWidth=l,Number.parseFloat(e[i].percentWidth);return e},transformRequestParams:function(e,t,o,l,n,d,c,h){return{unitId:e||"",deviceTypePid:r.substr(0,2)+"000000",buildId:floor||"",deviceTypeId:r||"",runState:n||"",pageSize:c||10}},formatRunState:function(e){return"2"==e.onlineState||"0"==e.onlineState?"--":"0"==e.runState?"正常":"1"==e.runState?"报警":"2"==e.runState?"故障":"其他"},formatOnlineState:function(e){return"1"==e.onlineState?"在线":"0"==e.onlineState?"离线":"未接入"},formatLaLoop:function(e){var t=e.laLoop?e.laLoop:"",o=e.laPoint?e.laPoint:"";return"".concat(t,"-").concat(o)},formatAtempelec:function(e){return"".concat(e.temA,"/").concat(e.maA)},formatBtempelec:function(e){return"".concat(e.temB,"/").concat(e.maB)},formatCtempelec:function(e){return"".concat(e.temC,"/").concat(e.maC)}}}),I=(o(1504),o(1506),Object(c.a)(w,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",[o("el-col",{attrs:{span:24}},[o("Title"),e._v(" "),o("el-tabs",{attrs:{type:"border-card",id:"real-time-monitoring-device",height:"100%"},on:{"tab-click":e.handleClick},model:{value:e.tabName,callback:function(t){e.tabName="string"==typeof t?t.trim():t},expression:"tabName"}},e._l(e.tabs,function(t){return o("el-tab-pane",{key:t.id,attrs:{label:t.name,name:t.id}},[t.render?[o("div",{staticClass:"tab_lable",attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.name))]),e._v(" "),o("MonitorSearch",{attrs:{widgetInfo:e.widgetInfo},on:{updateSearchCondition:e.updateSearchCondition}},[o("span",{staticStyle:{overflow:"hidden"},attrs:{slot:"sum_num_name",id:"sum_num_name"},slot:"sum_num_name"},[e._v(e._s(t.monitorName)+":"+e._s(e.widgetInfo.totalNum))])]),e._v(" "),o("div",{staticClass:"reportNoTab"},[o("el-scrollbar",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list.rows,stripe:"","row-style":e.rowStyle,"header-cell-style":e.headerCellStyle,"cell-style":e.cellStyle}},e._l(e.tabHeader,function(header){return o("el-table-column",{key:header.prop,attrs:{prop:header.prop,formatter:header.formatter,"show-overflow-tooltip":header.showOverFlowTooltip,label:header.label}})}),1)],1),e._v(" "),o("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1)]:e._e()],2)}),1)],1)],1)},[],!1,null,"654092ee",null));t.default=I.exports}}]);